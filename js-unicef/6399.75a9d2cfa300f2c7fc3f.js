"use strict";(self.webpackChunk_fundraiseup_checkout=self.webpackChunk_fundraiseup_checkout||[]).push([[6399,2978],{55761:function(e,n,t){var r,o=t(2784);function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}var l=function(e,n){return o.createElement("svg",a({fill:"none",height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",ref:n},e),r||(r=o.createElement("path",{d:"m4 6 4 4 4-4",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))},s=(0,o.forwardRef)(l),i=(0,o.memo)(s);n.Z=i},9524:function(e,n,t){var r,o,a,l=t(2784);function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s.apply(this,arguments)}var i=function(e,n){return l.createElement("svg",s({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n},e),r||(r=l.createElement("path",{d:"M8.00016 14.6668C11.6821 14.6668 14.6668 11.6821 14.6668 8.00016C14.6668 4.31826 11.6821 1.3335 8.00016 1.3335C4.31826 1.3335 1.3335 4.31826 1.3335 8.00016C1.3335 11.6821 4.31826 14.6668 8.00016 14.6668Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),o||(o=l.createElement("path",{d:"M6.06006 5.99989C6.21679 5.55434 6.52616 5.17863 6.93336 4.93931C7.34056 4.7 7.81932 4.61252 8.28484 4.69237C8.75036 4.77222 9.1726 5.01424 9.47678 5.37558C9.78095 5.73691 9.94743 6.19424 9.94672 6.66656C9.94672 7.99989 7.94673 8.66656 7.94673 8.66656",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=l.createElement("path",{d:"M8 11.2446H8.0075",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},c=(0,l.forwardRef)(i),u=(0,l.memo)(c);n.Z=u},629:function(e,n,t){function r(e,n,t){const r=t-1;switch(e.code){case"ArrowDown":return e.preventDefault(),null===n||n+1>r?{currentOptionIdx:0}:{currentOptionIdx:n+1};case"ArrowUp":return e.preventDefault(),null===n||n-1<0?{currentOptionIdx:r}:{currentOptionIdx:n-1};case"Enter":return e.preventDefault(),{currentOptionIdx:n,needSelectOption:!0};case"Escape":return{closeDropdown:!0,currentOptionIdx:null};default:return{currentOptionIdx:null}}}t.d(n,{n:function(){return r}})},42978:function(e,n,t){t.r(n),t.d(n,{PrivacyPhoneInput:function(){return M},RawPrivacyPhoneInput:function(){return Z},default:function(){return E}});var r=t(52322),o=t(85103),a=t(91758),l=t(86010),s=t(2784),i=t(73053),c=t(11052),u=t.n(c),d=t(45360),p=t.n(d),h=t(5681),f=t.n(h),m=t(90899),v=t.n(m),g=t(629),C=t(98814);const x=e=>(0,r.jsx)("span",{className:(0,l.Z)("country-select-flag",`flag-${e.country.toLowerCase()}`)}),y=(0,s.memo)(x);var b=t(55761),w=t(81427);const j=e=>{const{value:n,options:t,onBlur:o,onChange:a,disabled:i}=e,c=(0,w.Y)(),[d,h]=(0,s.useState)(!1),[m,x]=(0,s.useState)(!1),[j,k]=(0,s.useState)(null),[L,S]=(0,s.useState)("center"),[N,P]=(0,s.useState)(""),I=(0,C.i)((()=>P(""))),O=function(){const e=(0,s.useRef)();return void 0===e.current&&(e.current=function(){const e=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);return Boolean(e)}()),e.current}(),R=(0,s.useRef)(null),q=(0,s.useRef)(null),T=u()(t).call(t,(e=>e.code===n)),Z=null==T?void 0:T.code;(0,s.useEffect)((()=>{var e;null===(e=R.current)||void 0===e||e.scrollIntoView({block:L})}),[j,L]),(0,s.useEffect)((()=>{if(!d||!(null==T?void 0:T.code))return;const e=p()(t).call(t,(e=>e.code===T.code));E(e,"center")}),[t,T,d]);const E=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearest";k(e),S(n)},M=()=>{h(!1),o&&o()},D=e=>{a(e),x(!1),h(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{type:"button",ref:q,className:(0,l.Z)("country-select-field",{"bg-gray-10":d}),disabled:i,"aria-label":`${c.translate("privacyScreen.countrySelectButtonAriaLabel")}, ${null==T?void 0:T.name}`,onKeyDown:e=>{if(!d)return;const{currentOptionIdx:n,needSelectOption:r,closeDropdown:o}=(0,g.n)(e,j,t.length);o?M():null===n?(e=>{const n=N+e;P(n),I.set([],500);const r=["name","dialCode"];for(const e of r){const r=p()(t).call(t,(t=>{var r;return f()(r=t[e].toLowerCase()).call(r,n)}));if(-1!==r)return void E(r,"center")}})(e.key):r?D(t[n].code):E(n)},onClick:()=>(h(!0),void(O&&q.current&&n&&q.current.focus())),onBlur:()=>!m&&M(),"data-testid":"country-select-button",children:[(0,r.jsx)("span",{className:"country-select-flag-holder","aria-hidden":"true",children:(0,r.jsx)(y,{country:null!=Z?Z:""})}),(0,r.jsx)(b.Z,{className:(0,l.Z)("icon-stroke d-block text-gray-60 ms-0-5",{"icon-rotate-180":d}),"aria-hidden":"true"})]}),d&&!i&&(0,r.jsx)("div",{className:"country-select-dropdown",role:"menu","data-testid":"menu",children:v()(t).call(t,((e,n)=>(0,r.jsxs)("div",{ref:n===j?R:null,className:(0,l.Z)("country-select-option",{"country-select-option-selected":n===j}),role:"menuitem","data-testid":"menuitem",onClick:()=>D(e.code),onMouseDown:()=>x(!0),onMouseMove:()=>E(n),children:[(0,r.jsx)("span",{className:"country-select-flag-holder me-2","aria-hidden":"true",children:(0,r.jsx)(y,{country:e.code})}),(0,r.jsxs)("span",{children:[(0,r.jsxs)("span",{children:[e.name," "]}),(0,r.jsxs)("span",{className:"text-sans-serif",dir:"ltr",children:["+",e.dialCode]})]})]},e.code)))})]})},k=(0,s.memo)(j);var L=t(99828),S=t(56641);const N=e=>{var n,t,o;const a=(0,s.useCallback)((n=>{if(!e.onChangePlain)return;const t=(n||"").replace(/[^\d+]+/g,""),r=(0,i.SR)(t,e.countryCode).getNumber("international")||t;e.onChangePlain(r)}),[e]),c=n=>{const t=n.target.value;if(e.disabled)return;let r,o=(0,i.SR)(t);const l=o.getCountryCode();l&&(r=(0,i.zs)(l),r&&e.onChangeCountryCode(r)),o=(0,i.SR)(t,r||e.countryCode);const s=o.getNumber("international");if(s&&o.isValid()&&(e=>/^[()\-+0-9\s]*$/.test(e))(t)&&s!==e.value)return e.onChange(s),void a(s);a(t),e.onChange(t||null)},u=function(){const e=(0,w.Y)(),n=(0,S.C)();return(0,s.useMemo)((()=>(0,L.p)({intl:e,excludePalestineFromCountriesList:n.featureConfig.excludePalestineFromCountriesList})),[e,n])}(),d=(0,s.useMemo)((()=>function(e){const n=e.getTelInputCountries();return v()(n).call(n,(e=>{let{iso2:n,name:t,dialCode:r}=e;return{name:t,dialCode:r,code:n}}))}(u)),[u]),p=(0,s.useCallback)((n=>{var t;const r=e.countryCode;e.onChangeCountryCode(n);const o=(0,i.SR)(null!==(t=e.value)&&void 0!==t?t:"",r).getNumber("significant");if(!o)return;const l=(0,i.SR)(o,n);e.onChange(l.getNumber("international")),a(o)}),[a,e]);return(0,r.jsxs)("div",{className:"p-rel",children:[(0,r.jsx)(k,{value:e.countryCode,options:d,disabled:e.disabled,onChange:p}),(0,r.jsx)("input",{value:null!==(n=e.value)&&void 0!==n?n:"",placeholder:null!==(t=e.placeholder)&&void 0!==t?t:"Enter a phone number",name:"telephone",dir:"ltr",className:(0,l.Z)("form-control tel-input",e.inputClasses),maxLength:e.maxLength,autoComplete:"on",disabled:null!==(o=e.disabled)&&void 0!==o&&o,"aria-live":"polite","data-qa":"personal-phone","data-testid":e.dataTestId,onInput:c,onChange:c})]})},P=(0,s.memo)(N);var I=t(50504),O=t(9524);const R=["click"],q=["top-end"],T={width:"40px",height:"42px"},Z=e=>{const n=(0,w.Y)(),t=(0,I.S)(),i=(0,a.S)(),c=(0,s.useRef)(null),u=(0,s.useMemo)((()=>e.phoneRequired||e.showPhoneLegalText?e.phoneRequired?n.translate("privacyScreen.phonePlaceholder.required"):n.translate("privacyScreen.phonePlaceholder.optional"):n.translate("privacyScreen.phonePlaceholder.default")),[n,e.phoneRequired,e.showPhoneLegalText]);return(0,r.jsxs)("div",{className:"group p-rel",children:[(0,r.jsx)(P,{value:e.phone,countryCode:e.userCountryCode,placeholder:u,inputClasses:(0,l.Z)({"pe-10":e.showPhoneLegalText&&e.phoneLegalText,"text-end":t,"has-error":!e.validation.phone.isValid}),disabled:e.locked,maxLength:25,dataTestId:e.dataTestId,onChange:e.onChange,onChangePlain:e.onChangePlain,onChangeCountryCode:e.onChangeCountryCode}),e.validation.phone.fields.phone.errors.required&&(0,r.jsx)("div",{role:"alert",className:"sr-only","data-qa":"phone-error-required-message",children:n.translate("privacyScreen.phone.errors.required")}),!e.validation.phone.fields.phone.errors.required&&e.validation.phone.fields.phone.errors.invalid&&(0,r.jsx)("div",{role:"alert",className:"sr-only","data-qa":"phone-error-invalid-message",children:n.translate("privacyScreen.phone.errors.invalid")}),e.showPhoneLegalText&&e.phoneLegalText&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{type:"button",ref:c,className:"btn-icon p-abs centered-right me-3 z-index-5",disabled:e.locked,"aria-label":n.translate("privacyScreen.phoneHelpAriaLabel"),children:[(0,r.jsx)("span",{className:"p-abs centered border-radius-8",style:T}),(0,r.jsx)("span",{className:"text-gray-60 font-size-18","aria-hidden":"true","data-qa":"phone-legal-text-button",children:(0,r.jsx)(O.Z,{className:(0,l.Z)("icon-stroke d-block",{"icon-flip-horizontal":t})})})]}),!e.locked&&(0,r.jsx)(o.N,{triggerRef:c,trigger:R,placement:t?"left-start":"right-start",fallbackPlacements:q,maxWidth:i?"var(--fixed-container-width-desktop)":"232px",dataQa:"phone-legal-text-popover",children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:e.phoneLegalText},dir:"auto"})})]})]})};var E=(0,s.memo)(Z);const M=(0,s.memo)(Z)}}]);