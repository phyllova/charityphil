!function(){var e,t,i,n,a,r={7815:function(e,t,i){"use strict";var n=i(10763);e.exports={compressPayload:function(e){var t={};return Object.keys(n).forEach((function(i){var a=i,r=n[i];t[a]=e[r]})),t},expandPayload:function(e){var t={},i=Object.keys(e).filter((function(e){return-1===Object.keys(n).indexOf(e)}));return i.length&&(t.UNMATCHED={},i.forEach((function(i){t.UNMATCHED[i]=e[i]})),t.invalid=!0),Object.keys(n).forEach((function(i){var a=i,r=n[i];e[a]&&(t[r]=e[a])})),t}}},55761:function(e,t,i){"use strict";var n,a=i(2784);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r.apply(this,arguments)}var s=function(e,t){return a.createElement("svg",r({fill:"none",height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",ref:t},e),n||(n=a.createElement("path",{d:"m4 6 4 4 4-4",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))},o=(0,a.forwardRef)(s),c=(0,a.memo)(o);t.Z=c},9524:function(e,t,i){"use strict";var n,a,r,s=i(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o.apply(this,arguments)}var c=function(e,t){return s.createElement("svg",o({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),n||(n=s.createElement("path",{d:"M8.00016 14.6668C11.6821 14.6668 14.6668 11.6821 14.6668 8.00016C14.6668 4.31826 11.6821 1.3335 8.00016 1.3335C4.31826 1.3335 1.3335 4.31826 1.3335 8.00016C1.3335 11.6821 4.31826 14.6668 8.00016 14.6668Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=s.createElement("path",{d:"M6.06006 5.99989C6.21679 5.55434 6.52616 5.17863 6.93336 4.93931C7.34056 4.7 7.81932 4.61252 8.28484 4.69237C8.75036 4.77222 9.1726 5.01424 9.47678 5.37558C9.78095 5.73691 9.94743 6.19424 9.94672 6.66656C9.94672 7.99989 7.94673 8.66656 7.94673 8.66656",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),r||(r=s.createElement("path",{d:"M8 11.2446H8.0075",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},l=(0,s.forwardRef)(c),u=(0,s.memo)(l);t.Z=u},85087:function(e,t,i){const n=i(88403),a=i(68984),r=i(43948),s=i(67868),o=i(32449),c=i(69455),l=i(21433),u=i(45435),d=i(16660),h=i(3243),m=i(23539),p=i(25197),g=i(76826),f=i(35655),y=i(21600),v=i(64006);e.exports={creditCard:h,applePay:g,googlePay:p,clickToPay:m,ach:r,usBankAccount:s,plaid:o,paypal:u,venmo:d,auBecsDebit:c,ukBacs:l,acss:a,sepa:n,ideal:v,crypto:f,stock:y}},629:function(e,t,i){"use strict";function n(e,t,i){const n=i-1;switch(e.code){case"ArrowDown":return e.preventDefault(),null===t||t+1>n?{currentOptionIdx:0}:{currentOptionIdx:t+1};case"ArrowUp":return e.preventDefault(),null===t||t-1<0?{currentOptionIdx:n}:{currentOptionIdx:t-1};case"Enter":return e.preventDefault(),{currentOptionIdx:t,needSelectOption:!0};case"Escape":return{closeDropdown:!0,currentOptionIdx:null};default:return{currentOptionIdx:null}}}i.d(t,{n:function(){return n}})},55116:function(e,t,i){"use strict";i.d(t,{N:function(){return y},K:function(){return v}});var n=i(52322),a=i(18405),r=i(78936),s=i(74845),o=i(61643),c=i(37004),l=i(9060),u=i(10429),d=i(74502),h=i(2784),m=i(28316),p=i(3726),g=i(86843);const f={top:"bottom",right:"left",bottom:"top",left:"right"},y=(0,h.forwardRef)(((e,t)=>{var i,y,v,S,C,b;const{triggerRef:A,mainAxis:E,crossAxis:x,arrowX:k,arrowY:w,fallbackPlacements:N,fallbackStrategy:P,flipAlignment:D,alwaysMount:T,role:_,dataQa:O,disableAnimation:I}=e,R=(0,h.useContext)(g.p),L=(0,l.q)(),[j,M]=(0,h.useState)(!0),[F,U]=(0,h.useState)(!1),B=!!R&&e.show,G=(0,c.T)(),q=(0,h.useRef)(null),K=(0,o.nB)(),{x:V,y:H,reference:Y,floating:Z,update:$,placement:z,strategy:W,refs:X,middlewareData:Q}=(0,a.YF)({whileElementsMounted:r.Me,placement:e.placement||"top",strategy:e.strategy,middleware:[(0,s.cv)(null!==(i=e.offset)&&void 0!==i?i:12),(0,s.RR)({mainAxis:E,crossAxis:x,fallbackPlacements:N,fallbackStrategy:P,flipAlignment:D}),(0,a.x7)({element:q,padding:null!==(y=e.arrowPadding)&&void 0!==y?y:10})]});(0,h.useEffect)((()=>{U(B&&null!==H&&null!==V)}),[B,H,V]);const J=(null===(v=Q.arrow)||void 0===v?void 0:v.x)?null!=k?k:null===(S=Q.arrow)||void 0===S?void 0:S.x:"",ee=(null===(C=Q.arrow)||void 0===C?void 0:C.y)?null!=w?w:null===(b=Q.arrow)||void 0===b?void 0:b.y:"",te=(0,h.useCallback)((()=>{M(!1)}),[]),ie=(0,h.useCallback)((()=>{M(!0)}),[]);(0,h.useLayoutEffect)((()=>{B&&X.reference.current!==A.current&&Y(A.current)}),[G,Y,A,X.reference,B]);const ne=function(e){return f[e.split("-")[0]]}(z),ae=z.split("-")[0],re=(0,h.useCallback)((e=>{Z(e),t&&("function"==typeof t?t(e):t.current=e)}),[Z,t]),se=(0,h.useCallback)((e=>{q.current=e,$()}),[$]),oe=(0,u.r)(X.floating),ce=(0,n.jsx)(p.Z,{in:B&&F,addEndListener:oe,onEnter:te,onExited:ie,classNames:I?"":`ui-tooltip-to-${ae}`,nodeRef:X.floating,timeout:I?0:void 0,children:t=>(0,n.jsxs)("div",{ref:re,className:(0,d.Z)(L("ui-tooltip"),`ui-tooltip-${ae}`,e.customClass),style:{position:W,top:null!=H?H:"",left:null!=V?V:"",maxWidth:e.maxWidth||"200px",minWidth:e.minWidth,visibility:B&&F?void 0:"exited"===t?"hidden":void 0},role:null!=_?_:"status","aria-live":B&&!_?"polite":void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,children:[(0,n.jsx)("div",{className:L("ui-tooltip-body"),"data-qa":O,children:e.children}),!e.withoutArrow&&(0,n.jsx)("div",{ref:se,style:{top:ee,left:J,[ne]:"-6px"},className:"ui-tooltip-arrow"})]})}),le=B||!j||T?ce:null;return K.current&&!e.withoutPortal?(0,m.createPortal)(le,K.current):le}));y.displayName="_UIManualTooltip";const v=(0,h.memo)(y);v.whyDidYouRender=!1},85103:function(e,t,i){"use strict";i.d(t,{N:function(){return p}});var n=i(50418),a=i.n(n),r=i(52322),s=i(55116),o=i(33093),c=i.n(o),l=i(14090),u=i(76278),d=i(98814),h=i(2784);const m=e=>{const{trigger:t,triggerRef:i,hideOnTooltipClick:n,offset:o,arrowPadding:m,mainAxis:p,crossAxis:g,fallbackPlacements:f,fallbackStrategy:y,flipAlignment:v,disableAnimation:S,disableHideDelay:C}=e,b=(0,h.useRef)(null),{show:A,handleTooltipMouseEnter:E,handleTooltipMouseLeave:x}=function(e){const{trigger:t=["hover","focus"],triggerRef:i,tooltipRef:n,hideOnTooltipClick:a,hoverShowDelay:r=0,hoverHideDelay:s=200}=e,o=(0,l.R)().document,[m,p]=(0,h.useState)(!1),[g,f]=(0,h.useState)(!1),[y,v]=(0,h.useState)(!1),S=c()(t).call(t,"click"),C=c()(t).call(t,"focus"),b=c()(t).call(t,"hover"),A=S&&m||b&&g||C&&y;if(S&&b)throw new Error('trigger must not have values "focus" and "click" at the same time');(0,h.useEffect)((()=>{const e=i.current;if(!S||!e)return;const t=t=>{const i=t.target;if(!i)return;const r=!!(0,u.FX)(i,(t=>t===e)),s=!!(0,u.FX)(i,(e=>e===n.current));p(r?e=>!e:!!s&&!a)},r=C?"mousedown":"click";return o.addEventListener(r,t),()=>{o.removeEventListener(r,t)}}),[S,C,i,n,a,o]),(0,h.useEffect)((()=>{const e=i.current;if(!C||!e)return;const t=()=>v(!0),n=()=>v(!1);return e.addEventListener("focus",t),e.addEventListener("blur",n),()=>{e.removeEventListener("focus",t),e.removeEventListener("blur",n)}}),[C,i,o]);const E=(0,d.i)((e=>f(e))),x=(0,h.useCallback)((()=>E.set([!0],r)),[E,r]),k=(0,h.useCallback)((()=>E.set([!1],s)),[E,s]);return(0,h.useEffect)((()=>{const e=i.current;if(!b||!e)return;const t=()=>E.set([!0],r),n=()=>E.set([!1],s);return e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n),()=>{e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",n)}}),[b,E,i,r,s]),{show:A,handleTooltipMouseEnter:x,handleTooltipMouseLeave:k}}({trigger:t,triggerRef:i,tooltipRef:b,hideOnTooltipClick:n,hoverHideDelay:C?0:200});return(0,r.jsx)(s.N,a()({ref:b,show:A},e,{onMouseEnter:E,onMouseLeave:x,offset:o,arrowPadding:m,mainAxis:p,crossAxis:g,fallbackPlacements:f,fallbackStrategy:y,flipAlignment:v,disableAnimation:S}))},p=(0,h.memo)(m);p.whyDidYouRender=!1},86843:function(e,t,i){"use strict";i.d(t,{p:function(){return n}});const n=(0,i(2784).createContext)(null)},56641:function(e,t,i){"use strict";i.d(t,{p:function(){return a},C:function(){return r}});var n=i(2784);const a=(0,n.createContext)(null);function r(){const e=(0,n.useContext)(a);if(!e)throw new Error("CheckoutConfiguration data is not provided");return e}},14090:function(e,t,i){"use strict";i.d(t,{E:function(){return a},R:function(){return r}});var n=i(2784);const a=(0,n.createContext)(null);function r(){const e=(0,n.useContext)(a);if(!e)throw new Error("iframe window is not provided");return e}},91758:function(e,t,i){"use strict";i.d(t,{S:function(){return a}});var n=i(56641);function a(){return(0,n.C)().infrastructureParams.isMobile}},61643:function(e,t,i){"use strict";i.d(t,{Og:function(){return a},nB:function(){return r},pG:function(){return s}});var n=i(2784);const a=(0,n.createContext)(null);function r(){const e=(0,n.useContext)(a);if(!e)throw new Error("Portal ref was not provided");return e}const s=(0,n.createContext)(null)},37004:function(e,t,i){"use strict";i.d(t,{E:function(){return a},T:function(){return r}});var n=i(2784);const a=(0,n.createContext)(null);function r(){const e=(0,n.useContext)(a);if(!e)throw new Error("SentryService is not provided");return e}},9060:function(e,t,i){"use strict";i.d(t,{q:function(){return r}});var n=i(91758),a=i(2784);function r(){const e=(0,n.S)();return(0,a.useCallback)((t=>`${t} ${t}-${e?"mobile":"desktop"}`),[e])}},10429:function(e,t,i){"use strict";i.d(t,{q:function(){return a},r:function(){return r}});var n=i(2784);function a(e,t){if(!e.current)throw new Error("Ref was not passed");e.current.addEventListener("transitionend",(function i(){e.current&&(e.current.removeEventListener("transitionend",i),t())}),!1)}function r(e){return(0,n.useCallback)((t=>{a(e,t)}),[e])}},98814:function(e,t,i){"use strict";i.d(t,{i:function(){return s}});var n=i(54496),a=i.n(n),r=i(2784);function s(e){const t=(0,r.useRef)(),i=(0,r.useRef)(e);(0,r.useEffect)((()=>{i.current=e}),[e]);const n=(0,r.useCallback)((()=>{window.clearTimeout(t.current)}),[]),s=(0,r.useCallback)((function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(),r?t.current=a()((()=>{i.current(...e)}),r):i.current(...e)}),[n]);return(0,r.useEffect)((()=>n),[n]),{set:s,clear:n}}},50504:function(e,t,i){"use strict";i.d(t,{S:function(){return s}});var n=i(2784),a=i(75937),r=i(81427);function s(){const e=(0,r.Y)();return(0,n.useMemo)((()=>"rtl"===(0,a.j9)(e.language)),[e.language])}},38002:function(e,t,i){"use strict";i.d(t,{f:function(){return n}});const n=(0,i(2784).createContext)(null)},81427:function(e,t,i){"use strict";i.d(t,{Y:function(){return r}});var n=i(2784),a=i(38002);function r(){const e=(0,n.useContext)(a.f);if(!e)throw new Error("IntlService is not provided");return e}},42346:function(e,t,i){"use strict";var n=i(98189);(this&&this.__awaiter||function(e,t,i,a){return new(i||(i=n))((function(n,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))})(void 0,void 0,void 0,(function*(){if(void 0===window.ResizeObserver){window.ResizeObserver=class{observe(){}unobserve(){}disconnect(){}};const e=yield i.e(9127).then(i.bind(i,99127));window.ResizeObserver=e.ResizeObserver}}))},90553:function(e,t,i){"use strict";var n=i(8005),a=i.n(n);const r=(()=>{try{return window}catch(e){return self}})(),s=(r.FUN_ENV,r.FUN_HOST||"https://api.fundraiseup.com"),o=r.FUN_CDN||"https://cdn.fundraiseup.com",c=(r.FUN_TRACKING,r.FUN_STATIC||"https://static.fundraiseup.com");r.FUN_STATIC_S3,i.p=c+("/"===a()(c).call(c,-1)?"":"/");var l=i(58142),u=i(70655),d=(i(42346),i(10161)),h=i.n(d),m=i(22970),p=i(87636),g=i.n(p),f=i(74426),y=i.n(f),v=i(69117),S=i.n(v);class C{constructor(e){this.window=e,this.hideTimeout=null,this.hiddenElementsList=[],this.elementsSelectorList=[".s.u.m.o"]}hideAll(){const e=()=>{var e;g()(e=this.elementsSelectorList).call(e,(e=>{var t;const i=this.window.document.querySelectorAll(e);g()(i).call(i,y()(t=this.hideNode).call(t,this))}))};e(),this.hideTimeout=this.window.setInterval(e,1e3)}restoreAll(){var e;this.hideTimeout&&clearTimeout(this.hideTimeout),g()(e=this.hiddenElementsList).call(e,(e=>{let{node:t,style:i}=e;null===i?t.removeAttribute("style"):t.setAttribute("style",i)})),this.hiddenElementsList=[]}hideNode(e){var t;S()(t=this.hiddenElementsList).call(t,(t=>t.node===e))||(this.hiddenElementsList.push({node:e,style:e.getAttribute("style")}),e.setAttribute("style","display: none;"))}}function b(e,t){const i=t.findElement(e);if(!i)throw new Error('No element with id "root"');return i}function A(e){if(!e.iframeDocument||!e.iframeWindow)throw new Error("No window or document in iframe");return{target:e.iframeWindow,global:window}}var E=i(50418),x=i.n(E);class k extends class{get iframeNode(){throw new Error("Not implemented")}destroy(e){throw new Error("Not implemented")}}{constructor(e,t,i){super(),this.checkoutUI=e,this.checkoutCore=t,this.foreignElements=i,this.eventEmitter=new(h()),this.destroyed=!1}get iframeNode(){return this.checkoutUI.iframeNode}get checkoutLocale(){return this.checkoutCore.intl.locale}initialize(){this.checkoutAPIBridge.on("donationComplete",(e=>{this.emit("donationComplete",e)}))}destroy(e){return(0,u.mG)(this,void 0,void 0,(function*(){const{shouldReopen:t=!1}=e;this.assertNotDestroyed(),this.checkoutUI.close();const i=x()({shouldReopen:t},this.checkoutAPIBridge.getClosePublicJsApiPayload());this.checkoutCore.logger.checkoutClose({key:this.checkoutCore.checkoutConfiguration.campaign.key,name:this.checkoutCore.checkoutConfiguration.campaign.name},this.checkoutAPIBridge.getClosePublicJsApiPayload()),this.emit("close",i),this.emit("checkoutIntent",this.checkoutAPIBridge.getIntent()),this.foreignElements&&this.foreignElements.restoreAll(),this.eventEmitter.removeAllListeners(),this.checkoutAPIBridge.dispose(),this.checkoutCore.dispose(),this.destroyed=!0}))}on(e,t){this.assertNotDestroyed(),this.eventEmitter.on(e,t)}getOpenParams(){return this.checkoutAPIBridge.getOpenParams()}get checkoutAPIBridge(){return this.checkoutCore.checkoutAPIBridge}emit(e,t){this.eventEmitter.emit(e,t)}assertNotDestroyed(){if(this.destroyed)throw new Error("CheckoutAPI destroyed")}}var w,N=i(54496),P=i.n(N),D=i(90899),T=i.n(D),_=i(85738),O=i.n(_),I=i(85952),R=i.n(I),L=i(23650),j=i.n(L),M=i(26562),F=i.n(M),U=i(50381),B=i.n(U),G=i(16465),q=i.n(G);!function(e){e.MODAL="modal",e.PAGE="page"}(w||(w={}));var K=i(8717),V=i.n(K),H=i(49924),Y=i.n(H);function Z(e,t){var i,n,r,s;return V()(i=T()(n=Y()(r=B()(s=a()(e).call(e)).call(s,(e=>null!==e))).call(r,((e,t)=>e-t))).call(n,(e=>(t-Number(e))/Math.abs(t-Number(e))||0))).call(i,((e,t)=>e+t),e.length)}var $=i(973),z=i.n($);class W extends Error{constructor(e){super(e),this.name=this.constructor.name}}class X extends W{constructor(e,t){super(t?`Unreachable statement: ${e} [${t}]`:`Unreachable statement: ${e}`)}}class Q extends W{constructor(){super("Unexpected error")}}var J=i(66178);class ee{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;this.currencyService=t,this.campaign=n,this.queue=[],this.initFlag=!1,this.logger=e,this.session=e.session,this.options=i}get window(){return this.logger.window}get acceptable(){throw new Error("Not implemented!")}init(){throw new Error("Not implemented!")}track(e,t){throw new Error("Not implemented!")}checkInit(e,t){return!!this.initFlag||(this.init(),this.initFlag?(this.queue.length&&(g()(i=this.queue).call(i,(e=>{this.track.apply(this,e)})),this.queue=[]),!0):(this.queue.push([e,t]),!1));var i}}class te extends ee{init(){this.initFlag||this.window.fbq&&"function"==typeof this.window.fbq&&(this.initFlag=!0)}track(e,t){if(!this.checkInit(e,t))return;const i=this.campaign;switch(e){case"chargeSuccess":return this.purchase(t,i);case"widgetview":return this.initiateCheckout(t,i)}}purchase(e,t){const i=e.currency,n=this.currencyService.toFloat(e.total,i),a=this.window.fbq,r={content_ids:this.getPurchasePayloadContentIds(e,t),content_type:"product",content_name:t.name,value:n,currency:i,affiliation:this.options.affiliation};z()(e)!==J.EK.ONCE?(r.predicted_ltv=r.value*this.getLtvMultiplier(z()(e)),a("track","Subscribe",r),a("track","Purchase",r)):a("track","Purchase",r),a("track","Donate",r)}initiateCheckout(e,t){var i;this.window.fbq("track","InitiateCheckout",{content_name:t.name,content_ids:B()(i=[e.widget.key,t.customHash]).call(i,Boolean),content_type:"product"})}getPurchasePayloadContentIds(e,t){const i=[e.widget.key,t.customHash];return B()(i).call(i,(e=>Boolean(e)))}getLtvMultiplier(e){switch(e){case J.EK.DAILY:return 365;case J.EK.WEEKLY:return 52;case J.EK.BIWEEKLY:return 26;case J.EK.EVERY_4_WEEKS:return 13;case J.EK.MONTHLY:return 12;case J.EK.BIMONTHLY:return 6;case J.EK.QUARTERLY:return 3;case J.EK.SEMIANNUAL:return 2;case J.EK.ANNUAL:return 1;default:throw new X(e)}}}class ie extends ee{get acceptable(){return!0}init(){this.initFlag||(this.initFlag=!0)}track(e,t){switch(e){case"checkoutOpen":this.openEvent(e,t);break;case"checkoutClose":this.closeEvent(e,t);break;case"donationComplete":this.donationEvent(e,t)}}openEvent(e,t){const i={event:"FundraiseUp."+e,FundraiseUp:t.data,ecommerce:{}};this.pushEvent(i)}closeEvent(e,t){const i={event:"FundraiseUp."+e,FundraiseUp:t.data,ecommerce:{}};this.pushEvent(i)}donationEvent(e,t){var i,n,a,r,s,o,c,l,u;const d=t.data,h={event:"FundraiseUp."+e,FundraiseUp:d,ecommerce:{transaction_id:null===(i=d.donation)||void 0===i?void 0:i.id,value:null===(n=d.donation)||void 0===n?void 0:n.amount,currency:null===(a=d.donation)||void 0===a?void 0:a.currency,items:[{item_id:t.widget.key,item_name:t.widget.name,index:0,item_brand:"Fundraise Up",item_category:null===(r=d.designation)||void 0===r?void 0:r.name,item_category2:null===(s=d.designation)||void 0===s?void 0:s.id,item_category3:null===(o=d.designation)||void 0===o?void 0:o.code,item_variant:null===(c=d.donation)||void 0===c?void 0:c.frequency,price:null===(l=d.donation)||void 0===l?void 0:l.amount,quantity:1,currency:null===(u=d.donation)||void 0===u?void 0:u.currency}]}};this.pushEvent(h)}pushEvent(e){this.window.dataLayer=this.window.dataLayer||[],this.window.dataLayer.push(e)}}const ne="Fundraise Up Checkout Events";var ae;function re(){return location.pathname+location.search+location.hash}!function(e){e.OPEN="Fundraise Up Checkout Open",e.CLOSE="Fundraise Up Checkout Close",e.COMPLETE="Fundraise Up Checkout Complete"}(ae||(ae={}));class se extends ee{get acceptable(){return"function"==typeof this.window.ga&&"function"!=typeof this.window.gtag}init(){this.initFlag||this.window.ga&&(this._ga=function(e){const t=e.ga;function i(e){if("function"==typeof t)try{t((function(){var i;g()(i=t.getAll()).call(i,(t=>{const i=t.get("name");e(i)}))}))}catch(e){console.error(e)}}return function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];i((i=>{"t0"!==i?null==t||t(`${i}.${e}`,...a):null==t||t(e,...a)}))}}(this.window),!1!==this.options.ec&&this._ga("require","ec"),this.initFlag=!0)}track(e,t){if(this.checkInit(e,t))switch(e){case"chargeSuccess":this.purchase(t);break;case"widgetview":this.view(t);break;case"thankyou":this.thankyou(t);break;case"widgetclose":this.close(t)}}purchase(e){const t=this.currencyService.toFloat(e.total,e.currency);this._ga("set","currencyCode",e.currency),this._ga("ec:addProduct",{id:e.widget.key,name:e.widget.name,category:z()(e),brand:this.options.affiliation,variant:z()(e),price:t,quantity:1}),this._ga("ec:setAction","purchase",{id:e.donationId,affiliation:this.options.affiliation,revenue:t});const i=this.currencyService.toFloat(this.currencyService.convert(e.total,e.currency,e.company.defaultCurrency),e.company.defaultCurrency);this.sendEvent({eventAction:ae.COMPLETE,eventLabel:this.buildEventLabel(e),value:Math.round(i)})}view(e){this._view(e,""),this.sendEvent({eventAction:ae.OPEN,eventLabel:this.buildEventLabel(e)})}thankyou(e){this._view(e,"thankyou")}close(e){const t=re();this._ga("set","page",t),this._ga("send","pageview"),this.sendEvent({eventAction:ae.CLOSE,eventLabel:this.buildEventLabel(e)})}_view(e){const t=re();this._ga("set","page",t),this._ga("send","pageview")}buildEventLabel(e){return`${e.widget.name} (${e.widget.key})`}sendEvent(e){this._ga("send",{hitType:"event",eventCategory:ne,eventLabel:e.eventLabel,eventAction:e.eventAction,eventValue:e.value})}}class oe extends ee{get acceptable(){return Boolean(this.window.dataLayer)&&"function"!=typeof this.window.gtag}init(){this.initFlag||this.window.dataLayer&&(this.initFlag=!0)}track(e,t){this.checkInit(e,t)&&"chargeSuccess"===e&&this.purchase(t)}purchase(e){const t=this.currencyService.toFloat(e.total,e.currency),i=this.window.dataLayer;R()(i)&&i.push({event:"purchase",ecommerce:{currencyCode:e.currency,purchase:{actionField:{id:e.donationId,affiliation:"Fundraise Up",revenue:t},products:[{id:e.widget.key,name:e.widget.name,variant:z()(e),price:t,quantity:1,brand:"Fundraise Up",category:z()(e)}]}}})}}class ce extends ee{get acceptable(){return"function"==typeof this.window.gtag}init(){this.initFlag||this.window.gtag&&"gtag"===this.window.gtag.name&&(this.initFlag=!0)}track(e,t){if(this.checkInit(e,t))switch(e){case"chargeSuccess":this.purchase(t);break;case"widgetview":this.view(t);break;case"thankyou":this.thankyou(t);break;case"widgetclose":this.close(t)}}close(e){const t=re(),i=this.gtag;this.applyToGATrackers((e=>{i("config",e,{page_path:t})})),this.sendEvent({eventAction:ae.CLOSE,eventLabel:this.buildEventLabel(e)})}purchase(e){const t=this.currencyService.toFloat(e.total,e.currency);this.gtag("event","purchase",{transaction_id:e.donationId,affiliation:this.options.affiliation,currency:e.currency,value:t,items:[{id:e.widget.key,name:e.widget.name,variant:z()(e),price:t,quantity:1,brand:this.options.affiliation,category:z()(e)}]});const i=this.currencyService,n=i.toFloat(i.convert(e.total,e.currency,e.company.defaultCurrency),e.company.defaultCurrency);this.sendEvent({eventAction:ae.COMPLETE,eventLabel:this.buildEventLabel(e),value:Math.round(n)})}applyToGATrackers(e){const t=this.window.ga;if("function"==typeof t)try{t((function(){var i;g()(i=t.getAll()).call(i,(t=>{const i=t.get("trackingId");e(i)}))}))}catch(e){console.error(e)}}view(e){this._view(e,""),this.sendEvent({eventAction:ae.OPEN,eventLabel:this.buildEventLabel(e)})}get gtag(){return this.window.gtag}_view(e){const t=re(),i=this.gtag;this.applyToGATrackers((e=>{i("config",e,{page_path:t})}))}thankyou(e){this._view(e,"thankyou")}buildEventLabel(e){return`${e.widget.name} (${e.widget.key})`}sendEvent(e){this.gtag("event",e.eventAction,{event_category:ne,event_label:e.eventLabel,value:e.value})}}class le{constructor(){this.acceptors=[]}register(e){return this.acceptors.push(e),this}track(e,t){var i;g()(i=this.acceptors).call(i,(i=>{i.acceptable&&i.track(e,t)}))}}class ue extends ee{constructor(){super(...arguments),this.trackerAcceptor=new le}init(){this.trackerAcceptor.register(new oe(this.logger,this.currencyService,this.options,this.campaign)).register(new se(this.logger,this.currencyService,this.options,this.campaign)).register(new ce(this.logger,this.currencyService,this.options,this.campaign)),this.initFlag=!0}track(e,t){this.checkInit(e,t)&&this.trackerAcceptor.track(e,t)}}function de(){const e=function(){if(!function(){try{return void 0!==window.Intl}catch(e){return!1}}())return;const e=window.Intl;if(e&&"object"==typeof e&&"function"==typeof e.DateTimeFormat){const t=new e.DateTimeFormat("en-US");if("object"!=typeof t)return;const i="function"==typeof t.resolvedOptions&&t.resolvedOptions();if("object"!=typeof i)return;const n=i.timeZone;if(!n)return;return n}}();if(e)return e;const t=-(new Date).getTimezoneOffset()/60;return t>=0?`UTC+${t}`:`UTC${t}`}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:19;const t=window.crypto||window.msCrypto;let i="";if(t&&"function"==typeof t.getRandomValues){const n=new Uint8Array(e);t.getRandomValues(n);const r=a()([]).call(n);i=T()(r).call(r,(e=>e%10)).join("")}else for(let t=0;t<e;t++)i+=Math.floor(10*Math.random()).toString();return"0"!==i[0]?i:he(e)}var me=i(32142),pe=i.n(me);const ge="customEvent";class fe{constructor(){this.payload={}}merge(e){const t={};for(const i in e)t[i]=e[i];for(const e in this.payload)t[e]=this.payload[e];this.payload=t}validate(){return!(!this.payload.companyKey||8!==this.payload.companyKey.length||!this.payload.clientId||!this.eventType)}toObject(){const e={};for(const t in this.payload)e[t]=this.payload[t];return this.payload.eventComment&&(e.eventComment=pe()(this.payload.eventComment)),e.eventType=this.eventType,e}}class ye extends fe{constructor(e){super(),this.eventId=e.options.eventID;const t={eventId:this.eventId,pixels:e.pixels,data:e.parameters};this.payload={pixelEventName:e.eventName,pixelEventData:pe()(t)}}get eventType(){return"facebookPixel"}validate(){return!(!this.eventId||!this.payload.pixelEventName||!this.eventType)}}var ve=i(56248),Se=i.n(ve),Ce=i(86166),be=i.n(Ce);class Ae{constructor(){this.queue=[]}pushEvent(e,t){this.queue.push({eventName:e,eventPayload:t})}[Se()](){var e;return be()(e=this.queue).call(e)}}class Ee{constructor(e,t,i,n,a,r,s,o){let c=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];this.session=e,this.livemode=t,this._window=i,this.tracker=n,this.currencyService=a,this.company=r,this.campaign=s,this._keysKeeper=o,this.isEnabled=c,this.widgetViewId=null,this.widgetviewCreatedAt=null,this.isActive=!0,this._eventsQueue=null,this.session=e,this.timezone=de(),this.observers=[],s.checkoutType===w.MODAL&&this.initializeModalCheckoutObservers(),s.checkoutType===w.PAGE&&this.initializePagesObservers(),this.initializeFacebookPixelTracking()}get window(){return this._window}get keysKeeper(){return this._keysKeeper}params(e,t){const i=this.window.location,n={tz:this.timezone,url:i.href.replace(i.hash,""),now:e,widgetview:this.widgetViewId||void 0,widgetviewDur:this.widgetviewCreatedAt?e-this.widgetviewCreatedAt:void 0};return this.campaign?x()(x()({},n),{key:this.campaign.key,xFactor:this.campaign.xFactor||void 0}):n}track(){this.isEnabled&&this.livemode&&this.session.refresh()}widgetView(e){if(!this.isEnabled)return;this.widgetViewId=function(e){e=e||16;let t="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}(),this.widgetviewCreatedAt=(new Date).getTime();const t={widget:e};this.track(),this.observe("widgetview",t)}widgetClose(e){this.isEnabled&&P()((()=>{this.observe("widgetclose",{widget:e})}),200)}chargeSuccess(e,t,i){if(!this.isEnabled)return;const n=t.defaultAmount[t.frequency];if(void 0===n)throw new Error(`Default amount for frequency ${t.frequency} is not defined`);const a=Z([n],t.amount),r=t.amountOptions[t.frequency];if(void 0===r)throw new Error(`Amount options for frequency ${t.frequency} is not defined`);const s=Z(r,t.amount),o={event:"chargeSuccess",widget:e,amount:t.amount,total:t.total,currency:t.currency,_goal:t._goal,repeat:t.frequency,method:t.method,suggestionsRel:s,defAmountRel:a,defAmount:t.defaultAmount,suggestions:t.amountOptions,paymentData:{sessionId:i},donationId:t.donationId,customer:{email:t.email},company:{defaultCurrency:this.company.defaultCurrency}};this.track(),this.observe("chargeSuccess",o),this.session.successUrl&&this.observe("thankyou",{widget:e})}showThankYouScreen(e){this.isEnabled&&this.observe("thankyou",{widget:{key:e}})}donationComplete(e,t){if(!this.isEnabled)return;const i={widget:e,data:t};this.observe("donationComplete",i)}checkoutClose(e,t){if(!this.isEnabled)return;const i={widget:e,data:t};this.observe("checkoutClose",i)}checkoutOpen(e,t){if(!this.isEnabled)return;const i={widget:e,data:t};this.observe("checkoutOpen",i)}observe(e,t){this.isEnabled&&(this.isActive?this.observeEvent(e,t):this.eventsQueue.pushEvent(e,t))}setActive(e){if(this.isActive=e,this.isActive)for(const{eventName:e,eventPayload:t}of this.eventsQueue)this.observeEvent(e,t)}get eventsQueue(){return this._eventsQueue||(this._eventsQueue=new Ae),this._eventsQueue}observeEvent(e,t){for(const i of this.observers)i.track(e,t),this.tracker.customTrack({type:"integratedAnalyticsTrackEvent",data:t})}resolveFacebookPixels(){var e;let t=[];const i=this.window.fbq;if(!i)return t;if("function"==typeof(null==i?void 0:i.getState)){const a=i.getState();var n;if(null===(e=null==a?void 0:a.pixels)||void 0===e?void 0:e.length)return t=T()(n=a.pixels).call(n,(e=>e.id)),t}const a=i.queue;return a.length?(g()(a).call(a,(e=>{const i=e[0],n=e[1];"init"===i&&n&&t.push(n)})),t):t}resolveFacebookEventOptions(e){const t=(null==e?void 0:e.eventID)||`event.${O()().toString()}.${he(7)}`;return x()(x()({},e),{eventID:t})}initializeFacebookPixelTracking(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.overrideFacebookPixelQueuePush(),this.overrideFacebookPixelCallMethod()||e>24||P()((()=>this.initializeFacebookPixelTracking(e+1)),100*e)}overrideFacebookPixelCallMethod(){const e=this.window.fbq;if(!e||!e.callMethod)return!1;if(e.callMethod.overridden)return!0;if(e.queue.length)return!1;const t=e.callMethod,i=this;return e.callMethod=function(e,n,a,r){r=i.resolveFacebookEventOptions(r),t.call(this,e,n,a,r),"string"==typeof n&&i.trackFacebookEventToClickhouse({eventType:e,eventName:n,parameters:a,options:r,pixels:i.resolveFacebookPixels()})},e.callMethod.overridden=!0,!0}transformQueuePushArgs(e){if((e=R()(e)?e:j()(e)).length<4)return e;const t=e[3];return"object"!=typeof t||(void 0===t.content_ids||R()(t.content_ids)||(t.content_ids=[t.content_ids]),F()(e).call(e,1,1)),e}overrideFacebookPixelQueuePush(){const e=this.window.fbq;if(!e||e.callMethod)return;if(e.queue.push.overridden)return;const t=this,i=t.resolveFacebookPixels(),n=e.queue;n.length&&g()(n).call(n,(e=>{const n=e[0],a=e[1],r=e[2],s=t.resolveFacebookEventOptions();"init"!==n&&t.trackFacebookEventToClickhouse({eventType:n,eventName:a,parameters:r,options:s,pixels:i})}));const a=e.queue.push;e.queue.push=function(e){const n=a.call(this,e);if(!e)return n;const r=(e=t.transformQueuePushArgs(e))[0],s=e[1],o=e[2],c=e[3],l=t.resolveFacebookEventOptions(c);return"string"!=typeof s||t.trackFacebookEventToClickhouse({eventType:r,eventName:s,parameters:o,options:l,pixels:i}),n},e.queue.push.overridden=!0}trackFacebookEventToClickhouse(e){let{eventType:t,eventName:i,parameters:n,options:a,pixels:r}=e;var s;this.isEnabled&&(R()(r)&&r.length&&(r=B()(r).call(r,(e=>"string"==typeof e)),s=r,r=j()(new(q())(s))),this.tracker.track(new ye({eventType:t,eventName:i,parameters:n,options:a,pixels:r})))}initializeModalCheckoutObservers(){const e=this.company.trackToMarketingPixels.trackTestData,t=this.livemode?"Fundraise Up":"Fundraise Up - Test Data";(this.livemode||e)&&(this.company.trackToMarketingPixels.checkoutModal.googleAnalytics&&this.observers.push(new ue(this,this.currencyService,{affiliation:t},this.campaign)),this.company.trackToMarketingPixels.checkoutModal.facebookPixel&&this.observers.push(new te(this,this.currencyService,{affiliation:t},this.campaign))),this.observers.push(new ie(this,this.currencyService,{affiliation:t},this.campaign))}initializePagesObservers(){const e=this.company.trackToMarketingPixels.trackTestData,t=this.livemode?"Fundraise Up":"Fundraise Up - Test Data";(this.livemode||e)&&(this.company.trackToMarketingPixels.campaignPage.googleAnalytics.enabled&&this.observers.push(new ue(this,this.currencyService,{affiliation:t},this.campaign)),this.company.trackToMarketingPixels.campaignPage.facebookPixel.enabled&&this.observers.push(new te(this,this.currencyService,{affiliation:t},this.campaign))),this.observers.push(new ie(this,this.currencyService,{affiliation:t},this.campaign))}}var xe=i(59225),ke=i.n(xe),we=i(8979),Ne=i.n(we),Pe=i(68477),De=i.n(Pe),Te=i(19820);function _e(e){return(0,Te.ZP)(e)}var Oe=i(4558);function Ie(e,t){return function(e){return e!==Oe.C.TESTING}(e)?{domain:t,sameSite:"None",secure:!0}:{domain:t}}const Re={topLevelDomain:"topLevelDomain",t:"topLevelDomain",ida:"intent.donation.amount",idc:"intent.donation.currency",idr:"intent.donation.recurring",idf:"intent.donation.frequency",isf:"intent.supporter.firstName",isl:"intent.supporter.lastName",ise:"intent.supporter.email",ici:"intent.campaign.id",iek:"intent.element.key",iet:"intent.element.type",ic:"intent.comment",it:"intent.tribute",itt:"intent.tribute.type",iti:"intent.tribute.inHonorOf",itl:"intent.tribute.labelType",icd:"intent.checkoutSettings.designation",icc:"intent.checkoutSettings.customFields",icma:"intent.checkoutSettings.modifyAmount",icmd:"intent.checkoutSettings.modifyDesignation",ift:"intent.flowType",ifk:"intent.fundraisingPage.key",ifc:"intent.fundraisingPage.customerKey",ife:"intent.feeCovered",mm:"messageBar.manuallyClosed",pi:"popup.interactionAt",sl:"socialProof.lastChargeAt",si:"socialProof.interactionAt",sls:"socialProof.lastShownCharge",nsa:"socialProof.nextShowAt",li:"lightbox.interactionAt",ls:"lightbox.openStrategies",lsda:"lastSuccessDonationAt",s:"sessionAt",sp:"sessionPage",x:"xFactor"};class Le{constructor(e,t){this.funStorageAdapter=e,this.env=t.env,this._allowWrite=t.allowWrite}get available(){return this.funStorageAdapter.available}get isFuncStorageInitialized(){return this.funStorageAdapter.isFuncStorageInitialized}get allowWrite(){return this._allowWrite}set allowWrite(e){this._allowWrite=e}getData(){return this.funStorageAdapter.getData()}setData(e,t){this.allowWrite&&this.funStorageAdapter.setData(e,t)}removeData(e){this.funStorageAdapter.removeData(e)}initialize(e,t){this.funStorageAdapter.initialize({topLevelDomain:e},t)}getField(e){const t=this.getData();return t&&e in t?t[e]:null}setField(e,t){if(!this.allowWrite)return;const i=this.getData()||{};i[e]=t;const n=Ie(this.env,i.topLevelDomain);this.setData(i,n)}removeField(e){const t=this.getData();if(!t)return;delete t[e];const i=Ie(this.env,t.topLevelDomain);this.setData(t,i)}}class je{constructor(e,t){this.storage=e,this.initAt=t||(new Date).getTime(),this.read()}incrementSession(){this.sessionPage++,this.refresh()}refresh(){this.sessionAt||this.addSession(),this.write()}addSession(){this.sessionAt=this.initAt}write(){this.storage.setField("sessionAt",this.sessionAt.toString(10)),this.storage.setField("sessionPage",this.sessionPage)}read(){this.sessionAt=Number(this.storage.getField("sessionAt"))||0,this.sessionPage=Number(this.storage.getField("sessionPage"))||0}}var Me=i(98189),Fe=i.n(Me),Ue=i(33093),Be=i.n(Ue),Ge=i(46301);const qe=[Ge.c0.EN_GB],Ke=[Ge.c0.EN_GB],Ve={[Ge.c0.EN_US]:"en_US",[Ge.c0.EN_GB]:"en_GB",[Ge.c0.EN_CA]:"en_CA",[Ge.c0.FR_CA]:"fr_CA",[Ge.c0.ES]:"es_ES",[Ge.c0.ES_US]:"es_US",[Ge.c0.NL]:"nl_NL",[Ge.c0.NO]:"no_NO",[Ge.c0.DE]:"de_DE",[Ge.c0.FI_FI]:"fi_FI",[Ge.c0.FR_FR]:"fr_FR",[Ge.c0.AR_001]:"ar_AE",[Ge.c0.SV]:"sv_SE",[Ge.c0.IT]:"it_IT",[Ge.c0.PT_PT]:"pt_PT",[Ge.c0.PT_BR]:"pt_BR",[Ge.c0.ZH_CN]:"zh_CN",[Ge.c0.ZH_TW]:"zh_TW",[Ge.c0.JA]:"ja_JP",[Ge.c0.KO]:"ko_KR",[Ge.c0.HU]:"hu_HU",[Ge.c0.DA]:"da_DK",[Ge.c0.RU_RU]:"ru_RU"};function He(e){return Ve[e]}var Ye=i(97107),Ze=i.n(Ye),$e=i(42461),ze=i.n($e);const We=new(Ze());let Xe=null;const Qe=new(Fe())((e=>{Xe=e}));class Je extends W{constructor(e){super(e?`'Script failed to load': ${e}`:"Script failed to load"),this.name="LoadScriptError"}}function et(e){return!!e&&e.constructor==={}.constructor}function tt(e,t){var i;const n=document.createElement("script");return n.type="text/javascript",n.async=!0,n.src=e,g()(i=ze()(t)).call(i,(e=>{n.setAttribute(e,t[e])})),n}function it(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=t||window;let n={};We.has(t)?n=We.get(t):We.set(t,n);const a=n[e];if(a)return a;const r=new(Fe())((function(n,a){P()((()=>{const r=tt(e,i);r.onerror=function(e){if("string"==typeof e)return void a(new Je);const t=null==e?void 0:e.target;t instanceof HTMLScriptElement?a(new Je(t.src)):a(new Je)},r.onload=function(){n(!0)},t.document.documentElement.appendChild(r),nt._immedeatly&&n(!0)}),0)}));return n[e]=r,r}function nt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(n&&!et(n))throw new Error("Expected attributes to be an object.");return t?Qe.then((()=>it(e,i,n))):it(e,i,n)}nt._windows=We,nt._immedeatly=!1;const at="supporter",rt="1234@example.com";class st extends Error{constructor(){super(st.errorMessage)}}st.errorMessage="Stripe.js could not be loaded";const ot={target:window,apiVersion:"2023-10-16",deferred:!1,loadTimeout:0,locale:Ge.c0.EN_US};function ct(e,t,i,n){const a=i.target,r=function(e){return Be()(Ke).call(Ke,e)?e:e.split("-")[0]}(i.locale);return nt("https://js.stripe.com/v3/",i.deferred,a).then((()=>new(Fe())(((n,s)=>{const o=()=>{a.Stripe?n(a.Stripe(e,{stripeAccount:t,apiVersion:i.apiVersion,locale:r})):s(new st)};i.loadTimeout?P()((()=>{o()}),i.loadTimeout):o()})))).catch((e=>{throw e.message.match("js.stripe.com")&&n.captureException(e.message,{extra:{script:e.message,stripeAccount:t}}),e}))}class lt extends Error{constructor(e){super("[Stripe Factory]"+e)}}function ut(e,t){let i;const n=()=>(0,m.mG)(this,void 0,void 0,(function*(){if(!e.targetWindow)throw new lt("target window is not provided");i=yield function(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ot;return(0,m.mG)(this,void 0,void 0,(function*(){let a;const r=x()({},ot,n);try{return a=yield ct(e,t,r,i),a}catch(n){return ct(e,t,x()(x()({},r),{loadTimeout:500}),i)}}))}(e.publicKey,e.stripeAccount||"",t,{target:e.targetWindow,locale:e.locale})}));return n(),function(){return(0,m.mG)(this,void 0,void 0,(function*(){return i||(yield n(),i)}))}}class dt{constructor(){this.disposables=new(q())}static isFunction(e){return"function"==typeof e}run(e){return(0,m.mG)(this,void 0,void 0,(function*(){yield this.initializeCurrencyFilter(),yield this.setLocale(null==e?void 0:e.localeCode),this.initializePageGuardManager(),this.initializePublicJsApi(),this.initializeCookieConsent(),this.initializeUserSession(),this.initializeRouter(),this.initializeTracker(),this.initializeExperiments(),yield this.initializeCurrencyService();const t=this.subscribeOnUserInteraction();yield this.startFlow(null==e?void 0:e.initialScreen),this.subscribeOnHistoryInteraction(),this.disposables.add(t).add(this.checkoutRouter).add(this.trackerCheckout).add(this.flowManager)}))}dispose(){var e;g()(e=this.disposables).call(e,(e=>{dt.isFunction(e)?e():e.dispose()}))}}var ht=i(56139),mt=i.n(ht);class pt{constructor(e){this.checkoutConfiguration=e,this.eventEmitter=new(h())}getOpenParams(){var e,t,i,n,a,r,s,o,c;const l=this.checkoutConfiguration.campaign,u=this.checkoutConfiguration.externalConfig,d=this.checkoutConfiguration.queryParams,h=this.checkoutConfiguration.mergedCustomFields;return{customFields:mt()(null!==(e=null==h?void 0:T()(h).call(h,(e=>{let{name:t,value:i}=e;return[t,i]})))&&void 0!==e?e:[]),livemode:this.checkoutConfiguration.infrastructureParams.livemode,campaign:{id:l.key,code:l.code||null,name:l.name},utm:{source:d.utm.source||(null===(t=this.checkoutConfiguration.infrastructureQueryParams)||void 0===t?void 0:t.utm_source)||"",campaign:d.utm.campaign||(null===(i=this.checkoutConfiguration.infrastructureQueryParams)||void 0===i?void 0:i.utm_campaign)||"",medium:d.utm.medium||(null===(n=this.checkoutConfiguration.infrastructureQueryParams)||void 0===n?void 0:n.utm_medium)||"",content:d.utm.content||(null===(a=this.checkoutConfiguration.infrastructureQueryParams)||void 0===a?void 0:a.utm_content)||"",term:d.utm.term||(null===(r=this.checkoutConfiguration.infrastructureQueryParams)||void 0===r?void 0:r.utm_term)||""},element:{id:null===(s=u.launcher)||void 0===s?void 0:s.elementKey,type:null===(o=u.launcher)||void 0===o?void 0:o.elementTitle,name:null===(c=u.launcher)||void 0===c?void 0:c.elementName}}}on(e,t){return this.eventEmitter.on(e,t),this}emitCheckoutOpen(){this.emit("open",this.getOpenParams())}emitDonationComplete(e){this.emit("donationComplete",x()(x()({},this.getOpenParams()),e))}setDonationParams(e){this.donationParams=e}setIntentParams(e){this.intent=this.formatIntent(e)}getClosePublicJsApiPayload(){if(!this.donationParams)throw new Error("Call setDonationParams first to set public donation params");return x()(x()({},this.getOpenParams()),this.donationParams)}getIntent(){if(void 0===this.intent)throw new Error("Call setIntentParams on close to set public intent params");return this.intent}dispose(){this.eventEmitter.removeAllListeners()}formatIntent(e){var t,i;if(!e)return null;const n=this.checkoutConfiguration.externalConfig,a=!!n.checkoutIntent;if(e.isSavedEmailOnExit||a)return null;const r=this.checkoutConfiguration.campaign,s=this.checkoutConfiguration.fundraisingPage,o={flowType:e.flowType,campaign:{id:r.key},element:{key:null===(t=n.launcher)||void 0===t?void 0:t.elementKey,type:null===(i=n.launcher)||void 0===i?void 0:i.elementType},checkoutSettings:{customFields:this.checkoutConfiguration.mergedCustomFields,designation:e.checkoutSettings.designation,modifyAmount:e.checkoutSettings.modifyAmount,modifyDesignation:e.checkoutSettings.modifyDesignation},comment:e.comment,donation:e.donation,supporter:e.supporter,tribute:e.tribute,feeCovered:e.feeCovered};return s&&(o.fundraisingPage={key:s.key,customerKey:s.admin}),o}emit(e,t){this.eventEmitter.emit(e,t)}}var gt=i(33415),ft=i.n(gt),yt=i(11052),vt=i.n(yt),St=i(97715);const Ct={[St.EK.DAILY]:[2e4,1e4,5e3,3e3,1e3,500],[St.EK.WEEKLY]:[2e4,1e4,5e3,3e3,1e3,500],[St.EK.BIWEEKLY]:[2e4,1e4,5e3,3e3,1e3,500],[St.EK.EVERY_4_WEEKS]:[2e4,1e4,5e3,3e3,1e3,500],[St.EK.MONTHLY]:[2e4,1e4,5e3,3e3,1e3,500],[St.EK.BIMONTHLY]:[2e4,1e4,5e3,3e3,1e3,500],[St.EK.QUARTERLY]:[2e4,1e4,5e3,3e3,1e3,500],[St.EK.SEMIANNUAL]:[2e4,1e4,5e3,3e3,1e3,500],[St.EK.ANNUAL]:[2e4,1e4,5e3,3e3,1e3,500],[St.EK.ONCE]:[1e5,5e4,25e3,1e4,5e3,2500]},bt={[St.EK.ONCE]:10,[St.EK.ANNUAL]:20,[St.EK.SEMIANNUAL]:30,[St.EK.QUARTERLY]:40,[St.EK.MONTHLY]:50,[St.EK.EVERY_4_WEEKS]:60,[St.EK.BIMONTHLY]:70,[St.EK.WEEKLY]:80,[St.EK.BIWEEKLY]:90,[St.EK.DAILY]:100},At=[500,1e3,3e3],Et=[2500,5e3,1e4],xt=[500,1e3,3e3,5e3,1e4,2e4],kt=[2500,5e3,1e4,25e3,5e4,1e5],wt=2500;class Nt{static getDefaultFrequency(e){const t=ze()(e),i=vt()(t).call(t,(t=>e[t].enabled&&e[t].default));if(!i)throw new Error("No default frequency found");return i}static getDefaultFrequencyWithOverride(e,t){var i;if(t&&Be()(i=this.getEnabledFrequencies(e)).call(i,t))return t;const n=ze()(e);return vt()(n).call(n,(t=>e[t].enabled&&e[t].default))||null}static getSecondaryFrequency(e){const t=ze()(e);return vt()(t).call(t,(t=>e[t].enabled&&!e[t].default))}static getEnabledFrequencies(e){var t,i;const n=T()(t=B()(i=ze()(e)).call(i,(t=>e[t].enabled))).call(t,(e=>e));if(0===n.length)throw new Error("No enabled frequencies found");return this.sortByWeights(n)}static isOnetimeOnly(e){const t=this.getEnabledFrequencies(e);return 1===t.length&&Be()(t).call(t,St.EK.ONCE)}static isRecurringOnly(e){const t=this.getEnabledFrequencies(e);return!Be()(t).call(t,St.EK.ONCE)}static isOnetimeEnabled(e){var t;return Be()(t=this.getEnabledFrequencies(e)).call(t,St.EK.ONCE)}static isRecurringEnabled(e){const t=this.getEnabledFrequencies(e),i=vt()(t).call(t,(e=>e!==St.EK.ONCE));return!!i}static frequencySettingsToWidgetRepeat(e){const t=this.isOnetimeEnabled(e),i=this.isRecurringEnabled(e);return t&&!i?St.Bx.ONLY_ONETIME:!t&&i?St.Bx.ONLY_MONTHLY:this.getDefaultFrequency(e)===St.EK.ONCE?St.Bx.DEFAULT_ONETIME:St.Bx.DEFAULT_MONTHLY}static isFrequencyEnabled(e,t){var i;if(null===t)return!1;const n=ft()(St.EK);return Be()(n).call(n,t)&&Be()(i=Nt.getEnabledFrequencies(e)).call(i,t)}static sortByWeights(e){return Y()(e).call(e,((e,t)=>bt[e]-bt[t]))}}var Pt,Dt,Tt,_t,Ot;!function(e){e.HELPING_HAND_STAGING="FUNTMDMPPAF",e.ISRAELI_AMERICAN_COUNCIL_1="FUNTWQULBUW",e.ISRAELI_AMERICAN_COUNCIL_2="FUNVUTSEZXA",e.ACCESS_FUND_1="FUNFWAWHCAJ",e.ACCESS_FUND_2="FUNYGCGZKAB",e.ACCESS_FUND_3="FUNUVSVAKSL",e.IAC_1="FUNRYLWADLU",e.IAC_2="FUNQNGXYKJA",e.IAC_3="FUNSWLJZBXE"}(Pt||(Pt={})),function(e){e.MONEY="money",e.STOCK="stock",e.CRYPTO="crypto"}(Dt||(Dt={})),function(e){e.LIVE="live",e.TEST="test"}(Tt||(Tt={})),function(e){e.DONATE_FORM="donate-form",e.COMMENT="comment",e.UPSELL="upsell",e.PAYMENT_METHOD="payment-method",e.PAYPAL="paypal",e.BANK_LOADING="bank-loading",e.CREDIT_CARD="credit-card",e.UK_BACS="uk-bacs",e.UK_BACS_CONFIRMATION="uk-bacs-confirmation",e.AU_BECS="au-becs",e.SEPA="sepa",e.PRIVACY="privacy",e.DOUBLE="double",e.GIFT_AID="gift-aid",e.MAILING_ADDRESS="mailing-address",e.THANK_YOU="thank-you",e.THANK_YOU_TRIBUTE="thank-you-tribute",e.QUESTIONS1="questions1",e.QUESTIONS="questions",e.REMIND_ME="email-ask",e.ASK_PAGE="ask-page",e.POST_DONATION_UPSELL="post-donation-upsell",e.CLICK_TO_PAY_SPLASH="click-to-pay-splash"}(_t||(_t={})),function(e){e.REMINDER="reminder",e.DONATE_BUTTON="donateButton",e.STICKY_BUTTON="stickyButton",e.IMAGE_CARD="imageCard",e.TEXT_LINK="textLink",e.DONATION_FORM="donationForm",e.SIMPLE_FORM="simpleForm",e.GOAL_METER="goalMeter",e.STAT_COUNTER="statCounter",e.IMPACT_SLIDER="impactSlider",e.DONATION_LEVELS="donationLevels",e.BUTTON_GROUP="buttonGroup",e.FLOATING_BUTTON="floatingButton",e.MESSAGE_BAR="messageBar",e.TOP_SUPPORTERS="topSupporters",e.TOP_LOCATIONS="topLocations",e.SOCIAL_PROOF="socialProof",e.QR_CODE="qrCode",e.RECENT_DONATIONS="recentDonations",e.P2P_BUTTON="p2pButton",e.P2P_LINK="p2pLink",e.TOP_FUNDRAISERS="topFundraisers",e.DONOR_MAP="donorMap",e.LIGHTBOX="lightbox",e.FUNDRAISING_PAGE_LINK="fundraisingPageLink",e.FUNDRAISING_PAGE_INVITE_LINK="fundraisingPageInviteLink",e.LINK="link",e.DIRECT_LINK="direct",e.DEBUG_PANEL="debugPanel",e.TEST_MODE_PANEL="testModePanel",e.SPLIT_TESTING="splitTesting"}(Ot||(Ot={})),Ot.STICKY_BUTTON,Ot.MESSAGE_BAR,Ot.LIGHTBOX,Ot.FUNDRAISING_PAGE_LINK,Ot.FUNDRAISING_PAGE_INVITE_LINK,Ot.LINK,Ot.DIRECT_LINK,Ot.DEBUG_PANEL,Ot.TEST_MODE_PANEL,Ot.SPLIT_TESTING;var It=i(15729);function Rt(e){return(0,It.ZP)(_e(e),(e=>e))}var Lt,jt=i(76278),Mt={getLinks:function(e){var t,i;return(null===(i=null===(t=e.campaignPage)||void 0===t?void 0:t.ask)||void 0===i?void 0:i.links)?[...e.campaignPage.ask.links]:[]},getAskTitle:function(e,t){var i,n,a;return(null===(n=null===(i=t.checkoutData)||void 0===i?void 0:i.ask)||void 0===n?void 0:n.show)?t.checkoutData.ask.title:(null===(a=e.campaignPage)||void 0===a?void 0:a.ask.title)||""},getLogoImageURL:function(e,t){var i,n,a,r,s,o;return t?null===(a=null===(n=null===(i=e.campaignPage)||void 0===i?void 0:i.ask)||void 0===n?void 0:n.logoImage)||void 0===a?void 0:a.previewUrlRetina:null===(o=null===(s=null===(r=e.campaignPage)||void 0===r?void 0:r.ask)||void 0===s?void 0:s.logoImage)||void 0===o?void 0:o.previewUrl},getAskDescription:function(e,t){var i,n,a,r;return(null===(n=null===(i=t.checkoutData)||void 0===i?void 0:i.ask)||void 0===n?void 0:n.show)?t.checkoutData.ask.text:(null===(r=null===(a=e.campaignPage)||void 0===a?void 0:a.ask)||void 0===r?void 0:r.text)||""},getAskMainImageURL:function(e,t){var i,n,a,r,s,o;const c=`https://ucarecdn.com/7a2a472d-06d6-48fc-8c7d-37e313b717e0/-/resize/${t?"1248x":"624x"}/-/format/auto/`;return(t?null===(a=null===(n=null===(i=e.campaignPage)||void 0===i?void 0:i.ask)||void 0===n?void 0:n.mainImage)||void 0===a?void 0:a.previewUrlRetina:null===(o=null===(s=null===(r=e.campaignPage)||void 0===r?void 0:r.ask)||void 0===s?void 0:s.mainImage)||void 0===o?void 0:o.previewUrl)||c},getCompanyImageURL:function(e,t){if(!e.logoUuid)return null;const i=t?"x112":"x56";return`https://ucarecdn.com/${e.logoUuid}/-/resize/${i}/-/format/auto/`}};!function(e){e.ELEMENT_IMAGE_CARD="elementImageCard",e.ELEMENT_POPUP="elementPopup",e.ELEMENT_QR_CODE="elementQrCode",e.P2P_PHOTO="p2pPhoto",e.DONOR_PORTAL_HERO="donorPortalHero",e.DONOR_PORTAL_FAVICON="donorPortalFavicon",e.DONOR_PORTAL_P2P_GOAL_REACHED="donorPortalP2pGoalReached",e.EMAIL_LOGO="emailLogo",e.EMAIL_IMAGE="emailImage",e.EMAIL_TRIBUTE="emailTribute",e.RECEIPT_LOGO="receiptLogo",e.RECEIPT_SIGNATURE="receiptSignature",e.CHECKOUT_LOGO="checkoutLogo",e.CHECKOUT_ASK="checkoutAsk",e.PAGE_LOGO="pageLogo",e.PAGE_MAIN_IMAGE="pageMainImage",e.ORGANIZATION_LOGO="organizationLogo"}(Lt||(Lt={}));const Ft={[Lt.ELEMENT_IMAGE_CARD]:{width:342,height:356},[Lt.ELEMENT_POPUP]:{width:480,height:270},[Lt.ELEMENT_QR_CODE]:{width:50,height:50},[Lt.P2P_PHOTO]:{width:64,height:64},[Lt.DONOR_PORTAL_HERO]:{width:930,height:350},[Lt.DONOR_PORTAL_FAVICON]:{width:16,height:16},[Lt.DONOR_PORTAL_P2P_GOAL_REACHED]:{width:930,height:290},[Lt.EMAIL_LOGO]:{width:80,height:80},[Lt.EMAIL_IMAGE]:{width:580,height:218},[Lt.EMAIL_TRIBUTE]:{width:386,height:263},[Lt.RECEIPT_LOGO]:{width:80,height:80},[Lt.RECEIPT_SIGNATURE]:{width:120,height:120},[Lt.CHECKOUT_LOGO]:{width:50,height:50},[Lt.CHECKOUT_ASK]:{width:516,height:289},[Lt.PAGE_LOGO]:{width:56,height:56},[Lt.PAGE_MAIN_IMAGE]:{width:624,height:351},[Lt.ORGANIZATION_LOGO]:{width:60,height:60}};Ft[Lt.CHECKOUT_ASK].width;const Ut=`resize/${2*Ft[Lt.CHECKOUT_ASK].width}x`;Ft[Lt.PAGE_MAIN_IMAGE].width,Ft[Lt.PAGE_MAIN_IMAGE].width;var Bt,Gt,qt,Kt,Vt,Ht,Yt,Zt,$t,zt={getLinks:function(e){return[...e.ask.links]},getAskTitle:function(e,t){var i,n;return(null===(n=null===(i=t.checkoutData)||void 0===i?void 0:i.ask)||void 0===n?void 0:n.show)?t.checkoutData.ask.title:e.ask.title},getLogoImageURL:function(e,t){return t?e.ask.logoImage.previewUrlRetina:e.ask.logoImage.previewUrl},getAskDescription:function(e,t){var i,n;return(null===(n=null===(i=t.checkoutData)||void 0===i?void 0:i.ask)||void 0===n?void 0:n.show)?t.checkoutData.ask.text:e.ask.text},getAskMainImageURL:function(e,t){const i=`https://ucarecdn.com/7a2a472d-06d6-48fc-8c7d-37e313b717e0/-/${Ut}/-/format/auto/`;return(t?e.ask.mainImage.previewUrlRetina:e.ask.mainImage.previewUrl)||i},getCompanyImageURL:function(e,t){if(!e.logoUuid)return null;const i=t?"x100":"x50";return`https://ucarecdn.com/${e.logoUuid}/-/resize/${i}/-/format/auto/`}};!function(e){e.RELATIVE="relative",e.ABSOLUTE="absolute"}(Bt||(Bt={})),function(e){e.TWO_WEEKS="2weeks",e.ONE_MONTH="1month",e.THREE_MONTHS="3months"}(Gt||(Gt={})),function(e){e.ASC="asc",e.DESC="desc"}(qt||(qt={})),function(e){e.WITHOUT="without",e.SELECT="select"}(Kt||(Kt={})),function(e){e.ENABLED="enabled",e.DISABLED="disabled"}(Vt||(Vt={})),function(e){e.ACTIVE="active",e.DISABLED="disabled",e.AUTO_ARCHIVE="autoArchive"}(Ht||(Ht={})),function(e){e.FULL_NAME="fullName",e.FIRST_NAME_LAST_INITIALS="firstNameLastInitials",e.FIRST_NAME="firstName",e.NONE="none"}(Yt||(Yt={})),function(e){e.SPECIFIED="specified",e.DETECTED="detected",e.ACTUAL="actual"}(Zt||(Zt={})),function(e){e.ROUNDED="rounded",e.SHARP="sharp",e.PILL="pill"}($t||($t={}));const Wt=(ft()({"2:1":1.5,"1:1":2,"1:2":3,"1:3":4,"1:4":5,"1:5":6,"1:6":7,"1:7":8,"1:8":9,"1:9":10,"1:10":11}),{ask:{logoImage:null,mainImage:null,text:"",title:"",links:[]},sharing:{twitter:!1,facebook:!1,linkedin:!1,copyLink:!1},goal:{hasGoal:!1,amount:0,endDate:null,raisedAmount:0,donorsCount:0},donorImpact:{show:!1,donorNameType:Yt.NONE,showDonorComment:!1,showDonationAmount:!1,showDonationDate:!1,showDonorLocation:!1,currencyShowType:Zt.ACTUAL,currency:""},rateMatching:{show:!1,rate:0,sponsor:null,minAmount:0,endDate:null},thankYouScreen:{type:St.Tl.THANK_YOU_SCREEN,redirect:{url:null,includeSupporterData:!1},sharing:{link:null,text:null,channels:{twitter:!1,facebook:!1,email:!1,linkedin:!1}}},appearance:{color:"",type:$t.PILL}});class Xt{static overrideWidgetGoalsConfig(e){var t;const i=_e(e);return Nt.isOnetimeOnly(e.frequencies)||Nt.isRecurringOnly(e.frequencies)?(this.hasDefaultGoalForAllFrequencies(e.goals)||(i.goals=T()(t=i.goals).call(t,((e,t)=>x()(x()({},e),{repeat:St.$W.ALL,default:0===t?St.$W.ALL:null})))),i):i}static hasDefaultGoalForAllFrequencies(e){return S()(e).call(e,(e=>{const t=z()(e)===St.$W.ALL,i=e.default===St.$W.ALL;return t&&i}))}constructor(e,t,i,n,a,r,s,o,c,l,u,d){this.window=l,this._showcase=e.showcase;const h=this.cloneWidget(e.campaign);this._externalConfig=this.getExternalConfig(i,h),this._queryParams=Rt(n),this._infrastructureParams=Rt(a),this._infrastructureQueryParams=u&&Rt(u),this._integrations=Rt(r),this._launcherParams=Rt(s),this._environmentConfig=Rt(o),this._campaign=Rt(x()(x()({},h),{config:Ne()(h.config,"ask")})),this._cryptoCurrencies=Rt(e.config.cryptoCurrencies),this._currencies=Rt(e.config.currencies),this._user=Rt(e.user),this._aiSuggestions=Rt(e.aiSuggestions),this._company=this.getResolvedCompany(e.company,t),this._fundraisingPage=e.fundraisingPage?this.getFundraisingPage(e.fundraisingPage,this.campaign.key):void 0,this._splitTest=d&&Rt(d),this._getAskPageConfig=this.getAskPageConfigGetter(h,i,this.company),this._checkoutType=c.checkoutType,this._recentDonations=e.campaign.recentDonations?Rt(e.campaign.recentDonations):null}get allowLegacyTributeLabel(){var e;return Be()(e=["ASCBRLZS","APGYPDRM","AGPUPUKX","AGDVEKDU","ASMXWWKS","AYDKPHBH"]).call(e,this.company.key)}get successPaymentDelayBeforeLeave(){switch(this.checkoutType){case w.MODAL:return 2e3;case w.PAGE:return 0;default:throw new X(this.checkoutType)}}get campaignPagesSharingEnabled(){return this.campaignPage.sharing.linkedin||this.campaignPage.sharing.facebook||this.campaignPage.sharing.copyLink||this.campaignPage.sharing.twitter}get showDonorImpactSection(){return this.checkoutType===w.PAGE&&this.campaignPage.donorImpact.show&&!!this.recentDonations}get showGoalMeterSection(){var e,t,i;return(null===(t=null===(e=this.campaign.config.campaignPage)||void 0===e?void 0:e.goal)||void 0===t?void 0:t.hasGoal)||!!(null===(i=this.fundraisingPage)||void 0===i?void 0:i.goalAmount)}get recentDonations(){return this._recentDonations}get checkoutType(){return this._checkoutType}get aiSuggestions(){return this._aiSuggestions}get showcase(){return this._showcase}get featureConfig(){return this._company.featureConfig}get parentCompanyConfig(){return this._company.parentCompanyConfig}get fundraisingPage(){return this._fundraisingPage}get splitTest(){return this._splitTest}get defaultFlowType(){var e,t;return(null===(e=this.externalConfig.checkoutIntent)||void 0===e?void 0:e.flowType)?null===(t=this.externalConfig.checkoutIntent)||void 0===t?void 0:t.flowType:this.fundraisingPage&&this.enabledFlows.money?Dt.MONEY:this.campaign.config.defaultDonationType}get queryParams(){return this._queryParams}get infrastructureQueryParams(){return this._infrastructureQueryParams||{}}get infrastructureParams(){return this._infrastructureParams}get integrations(){return this._integrations}get launcherParams(){return this._launcherParams}get environmentConfig(){return this._environmentConfig}get element(){var e,t,i,n,a,r;return{key:(null===(e=this.externalConfig.launcher)||void 0===e?void 0:e.elementKey)||(null===(t=this.fundraisingPage)||void 0===t?void 0:t.elementKey)||"",type:(null===(i=this.externalConfig.launcher)||void 0===i?void 0:i.elementType)||(null===(n=this.fundraisingPage)||void 0===n?void 0:n.elementType)||Ot.DIRECT_LINK,reminderKey:(null===(a=this.externalConfig.launcher)||void 0===a?void 0:a.elementReminderKey)||"",locale:null===(r=this.externalConfig.launcher)||void 0===r?void 0:r.elementLocale}}get disableAmountAI(){var e;return!(!this.queryParams.amount&&"number"!=typeof(null===(e=this.externalConfig.checkoutData)||void 0===e?void 0:e.amount)&&!this.externalConfig.checkoutIntent)}get campaign(){return this._campaign}get campaignPage(){return this.campaign.config.campaignPage||Wt}get company(){return this._company}get user(){return this._user}get cryptoCurrencies(){return this._cryptoCurrencies}get currencies(){return this._currencies}get externalConfig(){return this._externalConfig}get mergedCustomFields(){return this.getMergedCustomFields()}get enabledFrequencies(){return Nt.getEnabledFrequencies(this.campaign.config.frequencies)}get defaultAmounts(){var e;const t=this.campaign.config.frequencies,i={};return g()(e=this.frequencies).call(e,(e=>{i[e]=t[e].defaultAmount})),i}get defaultAmountOptions(){var e;const t=this.campaign.config.frequencies,i={};return g()(e=this.frequencies).call(e,(e=>{i[e]=t[e].amountOptions})),i}get enabledFlows(){return{[Dt.MONEY]:this.campaign.config.donationTypes.money.enabled,[Dt.CRYPTO]:this.campaign.config.donationTypes.crypto.enabled&&!!this.company.cryptoProvider,[Dt.STOCK]:this.campaign.config.donationTypes.stock.enabled&&!!this.company.stockProvider}}get preselectDesignation(){var e;return!Be()(e=ft()(Pt)).call(e,this.campaign.key)}get isIOSFirefox(){return function(e){var t,i,n;return"string"==typeof(null===(t=e.navigator)||void 0===t?void 0:t.userAgent)&&!!(null===(n=null===(i=e.navigator)||void 0===i?void 0:i.userAgent)||void 0===n?void 0:n.match("FxiOS"))}(this.window)}getAskPageConfig(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._getAskPageConfig(e)}get frequencies(){const e=this.campaign.config.frequencies,t=[];for(const i of ze()(e))t.push(i);return t}get livemodeType(){return this.infrastructureParams.livemode?Tt.LIVE:Tt.TEST}getMergedCustomFields(){var e,t,i,n,a,r,s,o;const c=this.getCustomFieldsHash(this.campaign.customFields||[]),l=this.getCustomFieldsHash((null===(a=null===(n=null===(i=this.externalConfig.checkoutData)||void 0===i?void 0:i.intent)||void 0===n?void 0:n.checkoutSettings)||void 0===a?void 0:a.customFields)||[]),u=this.getCustomFieldsHash((null===(r=this.externalConfig.launcher)||void 0===r?void 0:r.customFields)||[]);let d=this.launcherParams;void 0!==(null===(s=this.fundraisingPage)||void 0===s?void 0:s.customFields)&&(null===(o=this.fundraisingPage)||void 0===o?void 0:o.customFields.length)>0&&(d=this.getCustomFieldsHash(this.fundraisingPage.customFields));const h=window.location.href,m=(0,jt.O5)(h),p=x()(c,u,d,l,m);return B()(e=T()(t=ze()(p)).call(t,(e=>({name:e,value:R()(p[e])?p[e][0]:p[e]})))).call(e,(e=>""!==e.value))}getFundraisingPage(e,t){if(e&&e.key&&e.openWidget===t)return e}getCustomFieldsHash(e){const t={};return g()(e).call(e,(e=>{t[e.name]=e.value})),t}getResolvedCompany(e,t){const i=vt()(t).call(t,(e=>e.key===this.campaign.company));if(e.key!==this.campaign.company)throw new Error("Invalid resolved company");if(!i)throw new Error("Widget's Company not found");if(i.useParentPaymentAccounts){const e=vt()(t).call(t,(e=>e.key===i.parentKey));if(!e)throw new Error("Widget's Parent Company not found");i.stripeCurrencies=e.stripeCurrencies}return x()(x()(x()({},e),i),{paymentOptions:i.paymentOptions[this.livemodeType]})}cloneWidget(e){const t=Xt.overrideWidgetGoalsConfig(e.config);return Rt(x()(x()({},e),{config:t}))}getAskPageConfigGetter(e,t,i){return n=>function(e,t,i,n){let{isRetina:a,checkoutType:r}=n;const s=function(e,t){var i,n;return Boolean(e.ask.show||(null===(n=null===(i=t.checkoutData)||void 0===i?void 0:i.ask)||void 0===n?void 0:n.show))}(e,t),o=i.name,c=function(e){return e===w.MODAL?zt:Mt}(r),l=c.getAskTitle(e,t),u=c.getAskDescription(e,t),d=c.getLinks(e),h=c.getLogoImageURL(e,a),m=c.getAskMainImageURL(e,a);return{text:u,title:l,companyName:o,links:d,logoImage:h||c.getCompanyImageURL(i,a),fallbackCompanyLogo:c.getCompanyImageURL(i,a),mainImage:m,show:s,showLinks:!!d.length}}(e.config,t,i,{isRetina:n,checkoutType:this.checkoutType})}getExternalConfig(e,t){var i,n;const a=x()(x()({},e),{checkoutData:x()({},Ne()(e.checkoutData,["ask","designationId"]))}),r=T()(i=t.config.goals).call(i,(e=>e.key));return(null===(n=e.checkoutData)||void 0===n?void 0:n.designationId)&&Be()(r).call(r,e.checkoutData.designationId)?Rt(x()(x()({},a),{checkoutData:x()(x()({},a.checkoutData),{designationId:e.checkoutData.designationId})})):Rt(a)}}var Qt,Jt=i(50428),ei=i.n(Jt),ti=i(59222),ii=JSON.parse('{"CY":0.597,"ER":14.319,"LR":0.439,"SO":0.367,"ZM":7.52,"VE":41.572,"TM":2.416,"AL":41.905,"HR":0.457,"GB":0.692,"SD":913.322,"TL":0.401,"CG":305.697,"AZ":0.683,"KE":46.595,"CI":235.862,"SN":241.375,"VN":7320.584,"SV":0.479,"AF":21.476,"LV":0.573,"GT":4.091,"KW":0.188,"ST":16.694,"KG":26.777,"PL":2.122,"GH":4.464,"LT":0.545,"AM":166.739,"GD":1.532,"TJ":2.487,"ET":26.474,"MA":3.78,"PR":0.883,"NZ":1.435,"BN":0.634,"RO":2.098,"BY":0.988,"PA":0.431,"CM":223.664,"CZ":14.033,"GR":0.539,"ML":209.499,"FR":0.726,"PK":65.328,"PE":1.843,"BB":2.305,"TD":238.939,"HU":176.404,"KM":176.794,"BD":32.841,"FJ":0.834,"CN":3.791,"CO":1622.964,"DZ":50.173,"MV":7.304,"MY":1.576,"ES":0.611,"IE":0.753,"EE":0.637,"PY":2759.532,"UY":30.804,"ZA":7.171,"LC":1.935,"VU":140.789,"FI":0.833,"SE":8.981,"LB":949.837,"US":1,"CL":475.645,"AU":1.452,"BZ":1.272,"GY":67.471,"MN":1279.203,"TV":1.523,"DO":24.98,"GQ":226.141,"KN":1.622,"BO":2.612,"NP":37.095,"TW":13.751,"BJ":202.869,"BG":0.864,"MD":7.624,"BT":20.503,"KH":1336.847,"AG":2.036,"HT":90.913,"CV":45.61,"GE":0.963,"BI":1011.198,"BS":0.768,"MU":18.967,"LY":1.156,"MW":459.168,"MX":10.089,"SZ":6.285,"PG":2.744,"DM":1.77,"RU":32.418,"IL":3.582,"SG":0.896,"UG":1373.909,"SK":0.552,"TO":1.868,"AE":2.071,"SR":14.885,"UZ":3049.14,"SA":1.742,"EG":7.393,"IT":0.635,"MG":1290.888,"CA":1.2,"MH":1.059,"MR":11.793,"GM":20.941,"TT":4.385,"SC":6.955,"JP":91.378,"BR":2.654,"TZ":894.827,"AD":0.604,"IR":118010.95,"TG":218.614,"MT":0.564,"KR":765.24,"WS":1.974,"DE":0.752,"NE":241.175,"JM":83.222,"NI":12.716,"GN":4352.156,"BE":0.758,"PT":0.548,"DK":6.481,"PH":19.058,"AT":0.782,"GW":201.323,"NA":7.658,"CR":332.589,"BA":0.717,"MO":4.442,"MZ":27.653,"ME":0.379,"UA":15.389,"IQ":658.651,"AO":297.001,"SL":5194.855,"FM":1.131,"RS":48.126,"EC":0.486,"TR":10.54,"KI":1.214,"KZ":195.433,"IS":155.812,"PW":1.044,"QA":2.616,"CH":1.019,"JO":0.269,"MM":526.745,"TH":11.08,"AW":1.244,"NG":205.494,"BH":0.174,"LA":3617.279,"DJ":95.733,"SB":7.954,"IN":23.365,"SM":0.647,"LU":0.88,"CF":298.324,"BW":5.285,"NO":12.59,"GA":270.74,"ZW":10066.803,"LS":6.784,"SI":0.594,"AR":269.377,"BF":201.05,"YE":491.281,"CD":1132.812,"OM":0.205,"ID":4857.581,"NR":1.584,"RW":395.173,"MK":21.119,"NL":0.789,"TN":1.055,"SS":1016.902,"HN":11.603,"VC":1.418,"LK":55.699,"HK":5.545}'),ni=i(78765),ai=i.n(ni),ri=i(99794),si=i.n(ri),oi=i(45835),ci=i.n(oi),li=i(17238);class ui extends class extends class{constructor(e,t){this.rates=e,this.sentry=t}getDigits(e){return this.currencyData[e]?this.currencyData[e].digits:2}getRate(e){return this.rates[e]||1}setData(e,t,i){this._currencyData=e,t&&(this._countriesData=t),i&&(this._pppexData=i)}convertBase(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;var r;if(!ci()(e)){const e=new Error("amount should be a finite number");return null===(r=this.sentry)||void 0===r||r.captureException(e),console.error(e),0}if(0===e)return 0;if(t===i)return e;const s=this.currencyData[t].type===li.x.FIAT,o=this.currencyData[i].type===li.x.FIAT,c=this.getDigits(t),l=this.getDigits(i),u=this.calcRate(t,i,s,o);return n&&a&&s&&o&&(e=this.toAiAmount(e,a)),Math.ceil(e/Math.pow(10,c)*u*Math.pow(10,l))}calcRate(e,t,i,n){let a;const r=this.getRate(e),s=this.getRate(t);return a=i&&n?s/r:i&&!n?1/(r*s):!i&&n?r*s:r/s,a}toAiAmount(e,t){return e*(this.pppexData[t]||1)/(this.rates[this.getCountryCurrency(t)]||1)}getCountryCurrency(e){return this.countriesData[e]?this.countriesData[e][0]:"USD"}get currencyData(){if(!this._currencyData)throw new Error("Currency data was not set");return this._currencyData}get countriesData(){if(!this._countriesData)throw new Error("Countries data was not set");return this._countriesData}get pppexData(){if(!this._pppexData)throw new Error("Pppex data was not set");return this._pppexData}}{getCryptoCurrency(e){const t=this.currencyData[e];if(!t)throw new Error(`Currency ${e} was not found`);if(t.type!==li.x.CRYPTO)throw new Error(`Currency ${e} is not a crypto`);return t}getSymbol(e){return this.currencyData[e]?this.currencyData[e].symbol:""}getName(e){return this.currencyData[e]?this.currencyData[e].name:""}getRate(e){return this.rates[e]||1}convert(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;return this.convertBase(e,t,i,n,a)}round(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const i=Math.ceil(ai()(e+1))-t,n=5*Math.pow(10,Math.max(i-3,0)+t);return Math.ceil(e/n)*n}toFloatUnformattedStr(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=this.getDigits(t);return(e/Math.pow(10,n)).toFixed(i)}toFloat(e,t){const i=this.getDigits(t);return e/Math.pow(10,i)}fromFloat(e,t){const i=this.getDigits(t);return Math.round(e*Math.pow(10,i))}ceil(e,t){return this.fromFloat(Math.ceil(this.toFloat(e,t)),t)}getMinAmount(e){return this.convert(70,"USD",e)}toInt(e,t){if(!si()(e))throw new Error("amount should be a finite number");const i=this.getDigits(t);return e*Math.pow(10,i)}getCurrencyCodesBySource(e){var t;return B()(t=ze()(this.currencyData)).call(t,(t=>{var i;return Be()(i=this.currencyData[t].sources).call(i,e)}))}isCrypto(e){return this.currencyData[e].type===li.x.CRYPTO}}{constructor(e,t,i){super(t,i),this.currencyDataLoader=e,this.rates=t,this.sentry=i}loadFiat(e){const t=this.currencyDataLoader.loadFiat(e),i=ti,n=ii,a=x()(x()({},t),this._currencyData);this.setData(a,i,n)}loadCrypto(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.currencyDataLoader.loadCrypto(),t=x()(x()({},e),this._currencyData);this.setData(t)}))}convertFeeCurrency(e,t,i,n){const a=Math.abs(n||1);return this.convertBase(e,t,i)*a}}!function(e){e.PREFIX="prefix",e.POSTFIX="postfix"}(Qt||(Qt={}));var di=i(11354);class hi extends di.I{getCryptoCurrencies(){return(0,m.mG)(this,void 0,void 0,(function*(){return(yield i.e(8866).then(i.t.bind(i,61695,19))).default}))}}function mi(e){return!!e.campaign.config.donationTypes.crypto.enabled||e.checkoutType===w.PAGE&&e.showDonorImpactSection}var pi=i(79131),gi=i.n(pi),fi=i(52950),yi=i.n(fi),vi=i(3675),Si=i.n(vi);function Ci(e){return!!e&&function(e){return/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e))}(e)}var bi=i(23972),Ai=i.n(bi);class Ei{static format(e){var t,i,n,a;const r=Ei.parseAmount(e.amount);return{firstName:e.firstName?gi()(t=e.firstName).call(t):null,lastName:e.lastName?gi()(i=e.lastName).call(i):null,email:Ei.parseEmail(e.email),amount:r,modifyAmount:r&&e.modifyAmount?"no"!==e.modifyAmount:null,recurring:Ei.parseRecurring(e.recurring),designationId:e.designationId||null,modifyDesignation:e.modifyDesignation?"no"!==e.modifyDesignation:null,tributeHonoree:e.tributeHonoree?gi()(n=e.tributeHonoree).call(n):null,successUrl:Ei.parseURL(e.successUrl),member:e.member?gi()(a=e.member).call(a):null,fundraiseupLivemode:e.fundraiseupLivemode?"no"!==e.fundraiseupLivemode:null,utm:{source:e.utm_source||null,campaign:e.utm_campaign||null,medium:e.utm_medium||null,content:e.utm_content||null,term:e.utm_term||null}}}static parseURL(e){return e&&function(e){let t;try{t=new(Ai())(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}(e)?gi()(e).call(e):null}static parseEmail(e){return e&&Ci(e)?gi()(e).call(e):null}static parseRecurring(e){const t=ft()(St.EK);return Be()(t).call(t,e)?e:null}static parseAmount(e){if(!e)return null;const t=yi()(e);return Si()(t)?null:t>999999?99999900:t>0?t:null}}const xi=class{static isFailure(e){return"Failure"===e._tag}static isSuccess(e){return"Success"===e._tag}static fail(e){return{_tag:"Failure",failureResult:e}}static success(e){return{_tag:"Success",successResult:e}}constructor(){throw new Error("Either can not be instantiated")}};var ki=i(36004),wi=i.n(ki),Ni=i(29275),Pi=i.n(Ni),Di=i(4707),Ti=i.n(Di);const _i=Ti()("CUSTOM_FINGERPRINT"),Oi=(Ti()("EXTRA"),Ti()("TAGS"),new(wi()));function Ii(e){return(0,m.mG)(this,void 0,void 0,(function*(){var t;const i=new Ri(e),n=Oi.get(e.url);e.cancelSimilar&&n&&n(),Oi.set(e.url,y()(t=i.abort).call(t,i));try{return yield i.send()}finally{Oi.delete(e.url)}}))}class Ri{constructor(e){this.options=e,this.abortController=function(){try{return void 0!==window.AbortController}catch(e){return!1}}()?new AbortController:null}abort(){var e;null===(e=this.abortController)||void 0===e||e.abort()}send(){var e,t;return(0,m.mG)(this,void 0,void 0,(function*(){const i=this.getUrl(),n=this.getHeaders(),a=this.getBody(),r=this.getCredentials();let s;try{s=yield fetch(i,{method:this.options.method,signal:null===(e=this.abortController)||void 0===e?void 0:e.signal,headers:n,credentials:r,body:a})}catch(e){const t=e instanceof Error?e.message:"Network Error";throw new Li(0,t,this.options.method,this.options.url,this.options.setCustomFingerprint)}const o=s.status;let c;const l=s.headers.get("content-type");if(c=(null==l?void 0:Be()(l).call(l,"application/json"))?yield s.json():yield s.text(),o>=500&&this.options.rejectOnInvalid)throw new Li(o,s.statusText,this.options.method,this.options.url,this.options.setCustomFingerprint);const u=o>=200&&o<400||(null===(t=this.options.validStatuses)||void 0===t?void 0:Be()(t).call(t,o));return{data:c,valid:Boolean(u)}}))}getHeaders(){const e=new Headers,t=this.options.headers;var i;return t&&g()(i=ze()(t)).call(i,(i=>{const n=t[i];void 0!==n&&e.append(i,n)})),e}getBody(){return void 0!==this.options.params&&"GET"!==this.options.method?pe()(this.options.params):null}getUrl(){let e=this.options.url;if("GET"===this.options.method&&this.options.params){const t=new(Pi());for(const e of ze()(this.options.params))void 0!==this.options.params[e]&&t.set(e,String(this.options.params[e]));e+=`?${t.toString()}`}return e}getCredentials(){return"withCredentials"in this.options?this.options.withCredentials?"include":"omit":"include"}}class Li extends Error{constructor(e,t,i,n,a){super(`[Checkout Shared]: Server ${i} response status ${e}, ${t} for url ${n}`),a&&(this[_i]=[n,t]),this.statusCode=e}}class ji extends Error{constructor(){super('Request returned failure result with "rejectOnInvalid" flag set')}}function Mi(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";const a=e=>"string"==typeof e?gi()(e).call(e):e,r=e=>"string"==typeof e||"number"==typeof e,s=e=>""!==e;return B()(t=T()(i=B()(e).call(e,r)).call(i,a)).call(t,s).join(n)}class Fi extends Error{constructor(e){let{type:t="",code:i="",cause:n="",description:a="",resolution:r=""}=e;super(`Loqate ${t} error: error code: "${i}", cause: "${n}, description: "${a}", resolution: "${r}"`)}}class Ui{static formatPredictions(e){return T()(e).call(e,(e=>{let{Id:t,Text:i,Next:n}=e;return{placeId:t,description:i,meta:{shouldFindSubplaces:"Retrieve"!==n}}}))}constructor(e,t,i){this.sentry=e,this.fundraiseupAddressProviderWithLoqate=t,this.requestService=i,this.apiUrl="https://api.addressy.com/CapturePlus/Interactive/Find/v2.10/json3.ws"}getPlaces(e){var t;const{input:i,restrictCountries:n,lastId:a}=e;return this.requestService.get({url:this.apiUrl,withCredentials:!1,headers:{Accept:"application/json"},params:{SearchFor:"Everything",Country:null!==(t=null==n?void 0:n[0])&&void 0!==t?t:"GB",PreferredLanguage:"English",MaxSuggestions:20,MaxResults:100,Key:Ui.apiKey,Street:i,SearchTerm:i,LastId:a},rejectOnInvalid:!0}).then((e=>{if(xi.isFailure(e))return this.sentry.captureException(new ji,{extra:{failureResult:e.failureResult},tags:{service:Ui.name}}),[];const t=e.successResult,i=t.Items[0];if(1===(n=t.Items).length&&4===ze()(n[0]).length&&"Cause"in n[0]){const e=new Fi({type:"autocomplete",code:i.Error,cause:i.Cause,description:i.Description,resolution:i.Resolution});return this.sentry.captureException(e),[]}var n;return Ui.formatPredictions(t.Items)})).catch((e=>(this.sentry.captureException(e,{tags:{service:Ui.name}}),[])))}shouldFindSubplaces(e){var t;const{place:i}=e;return!!(null===(t=i.meta)||void 0===t?void 0:t.shouldFindSubplaces)}getSubplaces(e){const{input:t,restrictCountries:i,place:n}=e;return this.getPlaces({input:t,restrictCountries:i,lastId:n.placeId})}getDetails(e){const{customData:t,place:i,sessionToken:n}=e;return this.fundraiseupAddressProviderWithLoqate.getDetails({customData:t,place:i,sessionToken:n})}}var Bi,Gi,qi;Ui.apiKey="XB23-FH36-GC98-TK65",function(e){e.GOOGLE_PLACES="google-places",e.LOB="lob",e.LOQATE="loqate"}(Bi||(Bi={})),function(e){e.DELIVERABLE="deliverable",e.UNDELIVERABLE="undeliverable"}(Gi||(Gi={})),function(e){e[e.STREET=200]="STREET",e[e.APARTMENT=200]="APARTMENT",e[e.CITY=40]="CITY",e[e.STATE=200]="STATE",e[e.ZIP=100]="ZIP"}(qi||(qi={}));class Ki{constructor(e,t,i,n){this.createFundraiseupAddressProvider=e,this.sentry=t,this.requestService=i,this.config=n}getPlaces(e){return(0,m.mG)(this,void 0,void 0,(function*(){const{customData:t,input:i,sessionToken:n,restrictCountries:a}=e,r=this.getProvider({restrictCountries:a});return""===i?[]:r.getPlaces({customData:t,input:i,sessionToken:n,restrictCountries:a})}))}shouldFindSubplaces(e){const{place:t,restrictCountries:i}=e;return this.getProvider({restrictCountries:i}).shouldFindSubplaces({place:t,restrictCountries:i})}getSubplaces(e){const{place:t,input:i,sessionToken:n,restrictCountries:a}=e;return this.getProvider({restrictCountries:a}).getSubplaces({place:t,input:i,sessionToken:n,restrictCountries:a})}getDetails(e){return(0,m.mG)(this,void 0,void 0,(function*(){const{customData:t,place:i,sessionToken:n,restrictCountries:a}=e;return this.getProvider({restrictCountries:a}).getDetails({customData:t,place:i,sessionToken:n})}))}getProvider(e){const{restrictCountries:t}=e;let i;switch(t&&t[0]){case St.C9.UNITED_KINGDOM:case St.C9.IRELAND:{const e=this.createFundraiseupAddressProvider(this.sentry,this.config);e.setForcedProviderType(Bi.LOQATE),i=new Ui(this.sentry,e,this.requestService);break}default:i=this.createFundraiseupAddressProvider(this.sentry,this.config)}return i}}var Vi,Hi=i(36582),Yi=i(71100);!function(e){e.PREFIX="prefix",e.POSTFIX="postfix"}(Vi||(Vi={}));const Zi={[Ge.c0.EN_US]:Vi.PREFIX,[Ge.c0.EN_GB]:Vi.PREFIX,[Ge.c0.EN_CA]:Vi.PREFIX,[Ge.c0.FR_CA]:Vi.POSTFIX,[Ge.c0.ES]:Vi.POSTFIX,[Ge.c0.ES_US]:Vi.PREFIX,[Ge.c0.NL]:Vi.PREFIX,[Ge.c0.NO]:Vi.PREFIX,[Ge.c0.DE]:Vi.POSTFIX,[Ge.c0.FI_FI]:Vi.POSTFIX,[Ge.c0.FR_FR]:Vi.POSTFIX,[Ge.c0.SV]:Vi.POSTFIX,[Ge.c0.IT]:Vi.POSTFIX,[Ge.c0.PT_PT]:Vi.POSTFIX,[Ge.c0.PT_BR]:Vi.PREFIX,[Ge.c0.AR_001]:Vi.PREFIX,[Ge.c0.ZH_CN]:Vi.PREFIX,[Ge.c0.ZH_TW]:Vi.PREFIX,[Ge.c0.JA]:Vi.PREFIX,[Ge.c0.KO]:Vi.PREFIX,[Ge.c0.HU]:Vi.POSTFIX,[Ge.c0.DA]:Vi.POSTFIX,[Ge.c0.RU_RU]:Vi.POSTFIX};class $i{constructor(){this._currenciesData=null}setData(e){this._currenciesData=e}formatCurrency(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"narrowSymbol";const o=this.currenciesData[t];e=(e||0)/Math.pow(10,o.digits);const c=$i.buildOptions({amount:e,display:i,currency:t,displayCurrency:s,datum:o,withoutPrefix:n,withoutSuffix:a});return e<0&&0===c.intlOptions.maximumFractionDigits&&(e=0),$i.castIntl({amount:e,locale:r,options:c,datum:o})}getCurrencyFormat(e){return{decimalSeparator:Intl.NumberFormat(e).format(1.1).replace(/\d/g,""),groupSeparator:Intl.NumberFormat(e).format(1e5).replace(/\d/g,"")}}static castIntl(e){let{amount:t,locale:i,options:n,datum:a}=e,r=Intl.NumberFormat(i,n.intlOptions).format(t);return a.symbol&&Be()(r).call(r,a.code)&&(r=r.replace(a.code,a.symbol)),n.internalOptions.pushSuffix&&(r+=`${a.code}`),r}formatSymbol(e,t,i){const n=$i.currencySymbolPosition(i);return n===Vi.PREFIX&&t===Qt.PREFIX||n===Vi.POSTFIX&&t===Qt.POSTFIX?e:""}get currenciesData(){if(!this._currenciesData)throw new Error("Currencies data was not set");return this._currenciesData}static buildOptions(e){let{amount:t,display:i,currency:n,datum:a,withoutPrefix:r,withoutSuffix:s,displayCurrency:o="narrowSymbol"}=e;const c=a.type===li.x.CRYPTO,l=c?void 0:a.symbol,u={style:l?"currency":"decimal",currency:c?void 0:n,notation:"standard",currencyDisplay:o,minimumFractionDigits:0,maximumFractionDigits:0,numberingSystem:"latn"},d={pushSuffix:!l};switch(i){case"short":{const e=$i.shortFormatNotation(t),i=$i.shortFormatFractionDigits(t);"compact"===e&&(u.minimumFractionDigits=0,u.maximumFractionDigits=i),u.notation=e;break}case"shortlabel":{const e=$i.shortFormatNotation(t),i=$i.shortFormatFractionDigits(t);"compact"===e&&(u.minimumFractionDigits=0,u.maximumFractionDigits=i),u.notation=e,d.pushSuffix=!1;break}case"round":break;case"roundstrict":throw new Error("Used only in non-localized parts, not rewritten at the moment");case"roundlabel":d.pushSuffix=!1;break;case"full":c&&(u.style="decimal",d.pushSuffix=!0),u.maximumFractionDigits=a.digits,u.minimumFractionDigits=c?Hi.R:a.digits;break;case"fullstrict":c&&(u.style="decimal"),d.pushSuffix=!0,u.maximumFractionDigits=a.digits,u.minimumFractionDigits=c?Hi.R:a.digits;break;case"floatcents":Math.round(t)!==t?(u.maximumFractionDigits=a.digits,u.minimumFractionDigits=a.digits):(u.maximumFractionDigits=0,u.minimumFractionDigits=0);break;case"trimzeroes":c?(u.maximumFractionDigits=a.digits,u.minimumFractionDigits=0):Math.round(t)!==t?(u.maximumFractionDigits=a.digits,u.minimumFractionDigits=a.digits):(u.maximumFractionDigits=0,u.minimumFractionDigits=0);break;case"scopeFloatCents":throw new Error("Unused, not rewritten at the moment");default:throw new Error(`Unknown display type ${i}`)}return r&&(u.style="decimal"),(s||(0,Yi.i)(n))&&(d.pushSuffix=!1),{intlOptions:u,internalOptions:d}}static shortFormatNotation(e){return Math.abs(e)<1e4?"standard":"compact"}static shortFormatFractionDigits(e){const t=Math.abs(e),i=$i.calcDivisor(t);let n=$i.calcDigits(t,i);return t>=$i.TEN_THOUSAND&&t<$i.HUNDRED_THOUSAND&&(n=1),t%i==0&&(n=0),n}static calcDivisor(e){let t=1;return e>=$i.MILLION?t=$i.TEN_MILLIONS:e>=$i.TEN_THOUSAND&&(t=$i.THOUSAND),t}static calcDigits(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=2-Math.ceil(ai()(e/t));return Math.max(0,i)}static currencySymbolPosition(e){return Zi[e]}}$i.THOUSAND=1e3,$i.TEN_THOUSAND=1e4,$i.HUNDRED_THOUSAND=1e5,$i.MILLION=1e6,$i.TEN_MILLIONS=1e7;class zi extends $i{constructor(e){super(),this.currencyDataLoader=e,this.loadFiat()}loadCrypto(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.currencyDataLoader.loadCrypto(),t=x()(x()({},e),this._currenciesData);this.setData(t)}))}loadFiat(){const e=this.currencyDataLoader.loadFiat(),t=x()(x()({},e),this._currenciesData);this.setData(t)}}class Wi extends class{constructor(e,t){var i,n,a;this._locale=e,this.commonCurrencyFilter=t,this.formatCurrency=y()(i=t.formatCurrency).call(i,t),this.formatSymbol=y()(n=t.formatSymbol).call(n,t),this.getCurrencyFormat=y()(a=t.getCurrencyFormat).call(a,t)}get locale(){return this._locale}set locale(e){this._locale=e}changeLocale(e){return this.locale=e,this.locale}format(e,t){return this.formatCurrency(e,null==t?void 0:t.currency,null==t?void 0:t.display,null==t?void 0:t.withoutPrefix,null==t?void 0:t.withoutSuffix,this.locale,null==t?void 0:t.displayCurrency)}formatCurrencySymbol(e,t){return this.formatSymbol(e,t,this.locale)}getFormat(){return this.getCurrencyFormat(this.locale)}}{constructor(e,t){super(e,t)}replaceCurrencyFilter(e){this.formatCurrency=e.formatCurrency,this.formatSymbol=e.formatSymbol,this.getCurrencyFormat=e.getCurrencyFormat}}class Xi{constructor(e,t){this.field=e,this.storage=t}get(){return this.storage.get(this.field)}set(e,t){this.storage.set(this.field,e,t)}remove(e){this.storage.remove(this.field,e)}}var Qi,Ji,en=i(21805);!function(e){e.STRING="string",e.OBJECT="object"}(Qi||(Qi={})),function(e){e.SESSION="fundraiseup_session",e.FUNC="fundraiseup_func",e.PERFORMANCE="fundraiseup_stat",e.CONSENT="fundraiseup_consent",e.MARKETING="fundraiseup_mark",e.CID="fundraiseup_cid",e.DEBUG="fundraiseup_debug",e.EXPERIMENTS="fundraiseup_experiments"}(Ji||(Ji={}));class tn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:en.Z;if(this.type=e,this.storage=t,window.FUN_DO_NOT_TRACK){const e=function(){const e=[],t=window.location.hostname.split(".");let i=F()(t).call(t,-1).join();for(let n=t.length;n>0;n--)i=F()(t).call(t,-1).join()+"."+i,e.push(i);return e}();g()(e).call(e,(e=>{this.remove(Ji.CID,{domain:e}),this.remove(Ji.SESSION,{domain:e}),this.remove(Ji.FUNC,{domain:e}),this.remove(Ji.PERFORMANCE,{domain:e})}))}}get(e){if(window.FUN_DO_NOT_TRACK)return null;const t=this.storage.get(e);if(!t)return null;if(this.type===Qi.OBJECT){let e=null;return e=JSON.parse(t),e}return t}set(e,t,i){window.FUN_DO_NOT_TRACK||(this.type===Qi.OBJECT&&(t=pe()(t)),this.storage.set(e,t,i))}remove(e,t){this.storage.remove(e,t)}}var nn=i(75937),an=i(60751),rn=i(77884);class sn{constructor(e,t,i,n,a){this.translationService=e,this.dateFormatter=t,this.currencyFormatter=i,this.numberFormatter=n,this._locale=sn.DEFAULT_LOCALE,this.availableLocales=a.availableLocales,this.locale=a.locale,this.dateFormatter.intl=this}static isLocaleCode(e){return void 0!==e&&Be()(an.d).call(an.d,e)}get locale(){return this._locale}set locale(e){this.isLocaleAvailable(e)?this._locale=e:this._locale=sn.DEFAULT_LOCALE}get language(){return this.locale.split("-")[0]}setLocale(e){const t=this.locale;this.locale=e;const i=[this.translationService.changeLocale(this.locale)];return Fe().all(i).then((()=>this.locale)).catch((e=>(this.locale=t,Fe().reject(e)))).finally((()=>{this.dateFormatter.changeLocale(this.locale),this.currencyFormatter.changeLocale(this.locale),this.numberFormatter.changeLocale(this.locale)}))}translate(e,t){return(0,nn.C3)(this.translationService.translate(e,t))}formatDate(e,t){return this.dateFormatter.format(e,t)}formatCurrency(e,t){return this.currencyFormatter.format(e,t)}formatSymbol(e,t){return this.currencyFormatter.formatCurrencySymbol(e,t)}formatNumber(e,t){return this.numberFormatter.format(e,t)}isLocaleAvailable(e){var t;return S()(t=this.availableLocales).call(t,(t=>t===e))}getCurrencyFormat(){return this.currencyFormatter.getFormat()}}sn.DEFAULT_LOCALE=rn.c.EN_US;const on={withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}};class cn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this.baseURL=e,this.request=t}sendRequest(e){const t=x()(x()({},on),e);return t.url=this.baseURL+t.url,this.request(t).then((e=>{let{data:t,valid:i}=e;return i?xi.success(t):xi.fail(t)}))}get(e){return this.sendRequest(x()(x()({},e),{method:"GET"}))}post(e){return this.sendRequest(x()(x()({},e),{method:"POST"}))}}function ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new cn(e,Ii)}var un=i(65731),dn=i.n(un);class hn{constructor(e){this.currencyService=e,this.numbers=this.generateNumbers()}beautify(e,t,i){var n,a;const r=R()(e);let s=T()(n=dn()(e)).call(n,(e=>this.currencyService.toFloat(e,t)));const o=this.sortAsc(s);s=o.list;const c=o.positions;let l=this.findNearestPosition(s[0],0,this.numbers.length-s.length);if(i){const e=this.currencyService.toFloat(i,t),n=this.numbers[this.numbers.length-1];for(;e&&this.numbers[l]<e&&e<n;)l++}const u=this.getPositionsArray(l,s.length);for(let e=u.length-1;e>0;e--){const t=this.findNearestPosition(s[e],u[e-1]+1,u[e+1]-1);u[e]=t||u[e]}return s=T()(a=this.restoreSort(T()(u).call(u,(e=>this.numbers[e])),c)).call(a,(e=>this.currencyService.fromFloat(e,t))),r?s:s[0]}generateNumbers(){const e=[1,2,3,4,5,6,7,8,9,10,12,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,100,120,130,140,150,160,170,180,190,200,250,300,350,400,450,500,600,650,700,750,800,900],t=[10,12,15,20,25,30,35,40,50,60,70,80,90];for(let i=100;i<1e7;i*=10)g()(t).call(t,(t=>e.push(t*i)));return e}sortAsc(e){var t;let i=0;const n=Y()(t=T()(e).call(e,(e=>({val:e,pos:i++})))).call(t,((e,t)=>e.val-t.val));return{list:T()(n).call(n,(e=>e.val)),positions:T()(n).call(n,(e=>e.pos))}}restoreSort(e,t){var i,n;let a=0;return T()(i=Y()(n=T()(t).call(t,(t=>({pos:t,val:e[a++]})))).call(n,((e,t)=>e.pos-t.pos))).call(i,(e=>e.val))}findNearestPosition(e,t,i){if(t=t||0,i=i||this.numbers.length-1,e>=this.numbers[i])return i;for(let n=i;n>t;n--)if(this.numbers[n-1]<=e&&e<=this.numbers[n])return e-this.numbers[n-1]>=this.numbers[n]-e?n:n-1;return 0}getPositionsArray(e,t){const i=[];for(let n=e;n<e+t;n++)i.push(n);return i}}class mn{constructor(e){this.window=e}subscribeOnUserInteraction(e){const t=function(e,t){let i=!1;return t=>{i||(e(t),i=!0,P()((()=>{i=!1}),1e3))}}(e);return this.window.addEventListener("mousemove",t),this.window.addEventListener("touchstart",e),this.window.addEventListener("keypress",e),()=>{this.window.removeEventListener("mousemove",t),this.window.removeEventListener("touchstart",e),this.window.removeEventListener("keypress",e)}}}let pn;function gn(){return void 0===pn&&(pn=!1),pn}var fn;!function(e){e.US_BANK_ACCOUNT="us-bank-account",e.US_BANK_ACCOUNT_DONATE_OPTIONS="us-bank-account-donate-options",e.US_BANK_ACCOUNT_CONFIRMATION="us-bank-account-confirmation",e.US_BANK_ACCOUNT_VERIFICATION_GUIDE="us-bank-account-verification-guide",e.AU_BECS="au-becs",e.CLICK_TO_PAY_SPLASH="click-to-pay-splash",e.CREDIT_CARD="credit-card",e.DONATE="donate-form",e.DOUBLE="double",e.GIFT_AID="gift-aid",e.PAYMENT_OPTIONS="payment-method",e.PAYPAL_CONVERSION="paypal-conversion",e.POST_DONATION_UPSELL="post-donation-upsell",e.SEPA="sepa",e.IDEAL="ideal",e.UK_BACS="uk-bacs",e.UK_BACS_CONFIRMATION="uk-bacs-confirmation",e.IDEAL_CONFIRMATION="ideal-confirmation",e.UPSELL="upsell"}(fn||(fn={}));class yn{constructor(e){this.deviceExperimentsSettings=e}getSuggestions(e){if(this.shouldSortSuggestions)return this.sortSuggestionsBasedOnCompanyExclusions(e)}getAmount(){if(this.shouldHideDefaultAmount)return this.showAmountBasedOnCompanyExclusions()}get shouldSortSuggestions(){return"ascSort"in this.deviceExperimentsSettings}get shouldHideDefaultAmount(){return"hasDefault"in this.deviceExperimentsSettings}sortSuggestionsBasedOnCompanyExclusions(e){return t=[...e],(i=this.deviceExperimentsSettings.ascSort?qt.ASC:qt.DESC)===qt.ASC?Y()(t).call(t,((e,t)=>e-t)):i===qt.DESC?Y()(t).call(t,((e,t)=>t-e)):t;var t,i}showAmountBasedOnCompanyExclusions(){if(!this.deviceExperimentsSettings.hasDefault)return null}}class vn{static convertMinAmount(e,t,i,n){let a=Math.max(t,e.convert(70,"USD",i));a=e.convert(a,i,n);const r=e.getDigits(n);return Math.ceil(a/Math.pow(10,r))*Math.pow(10,r)}constructor(e,t,i){var n,a;this.currencyService=t,this.suggestionsService=i,this.forceNullAmountWidgets=["FUNFXDEZPWX"],this.defaultData=x()(x()({},e),{disableCompanyExclusionLogic:{amounts:Boolean(null===(n=e.disableCompanyExclusionLogic)||void 0===n?void 0:n.amounts),suggestions:Boolean(null===(a=e.disableCompanyExclusionLogic)||void 0===a?void 0:a.suggestions)}}),this.currentData={frequency:this.defaultData.frequency,amount:this.defaultData.defaultAmount,minAmount:this.defaultData.minAmount||0,suggestions:this.defaultData.amountOptions,hintsAmounts:this.defaultData.hintsAmounts},this.setupCurrentData()}get amount(){return this.currentData.amount}get minAmount(){return this.currentData.minAmount}get isValidAmount(){return null!==this.currentData.amount&&this.currentData.amount>=this.currentData.minAmount}get suggestions(){return this.currentData.suggestions}get hintsAmounts(){return this.currentData.hintsAmounts||null}get currency(){return this.defaultData.currentCurrency}get currencyDigits(){return this.currencyService.getDigits(this.defaultData.currentCurrency)}setAmount(e){this.currentData.amount=e,this.defaultData.disableAmountAI=!0}setCurrency(e,t){this.defaultData.previousCurrency=this.defaultData.currentCurrency,this.defaultData.currentCurrency=e,this.defaultData.disableAmountAI=!0,this.resetMinAmount(),t||(this.resetAmount(),this.applyNAIAmount(),this.applyRoundAmount()),this.resetSuggestions(),this.applyNAISuggestions(),this.applyRoundSuggestions(),this.resetHints(),this.applyRoundHints(),this.applyCompanyExclusions(),this.applyWidgetExclusions()}setSuggestionsAndDisableAi(e){this.defaultData.amountOptions=e,this.defaultData.disableSuggestionsAI=!0,this.resetSuggestions(),this.applyRoundSuggestions()}get needNAIAmount(){return Boolean(this.defaultData.aiEnabled&&!this.defaultData.showcase&&this.defaultData.trend&&!this.defaultData.disableAmountAI)}get needNAISuggestions(){return Boolean(this.defaultData.aiEnabled&&!this.defaultData.showcase&&this.defaultData.trend&&!this.defaultData.disableSuggestionsAI)}get suggestionsMultiplier(){return this.defaultData.isLauncher||!this.defaultData.aiEnabled||this.defaultData.disableAmountAI||this.defaultData.disableSuggestionsAI||!this.deviceExperimentsSettings.multiplySuggestions?1:1.4}get deviceExperimentsSettings(){return this.defaultData.experimentsSettings[this.defaultData.isMobile?St.xR.MOBILE:St.xR.DESKTOP]}setupCurrentData(){this.resetMinAmount(),this.resetAmount(),this.applyNAIAmount(),this.applyRoundAmount(),this.resetSuggestions(),this.applyNAISuggestions(),this.applyRoundSuggestions(),this.resetHints(),this.applyRoundHints(),this.applyCompanyExclusions(),this.applyWidgetExclusions()}resetMinAmount(){this.currentData.minAmount=vn.convertMinAmount(this.currencyService,this.defaultData.minAmount||0,this.defaultData.defaultCurrency,this.defaultData.currentCurrency)}resetAmount(){null!==this.currentData.amount&&(this.currentData.amount=this.currencyService.convert(this.currentData.amount,this.defaultData.previousCurrency,this.defaultData.currentCurrency,this.defaultData.aiEnabled&&!this.defaultData.disableAmountAI,this.defaultData.countryCode))}applyNAIAmount(){const e=this.defaultData.trend[this.currentData.frequency];var t,i;if(null!==this.currentData.amount&&this.needNAIAmount){let n=this.currencyService.convert(e,this.defaultData.defaultCurrency,this.defaultData.currentCurrency,!1,this.defaultData.countryCode);((i=this.currentData.amount)-e)/i*100>10&&(n=this.currentData.amount-this.currentData.amount/10),this.currentData.amount=e?n:(t=this.defaultData.xFactor,this.currentData.amount*(1+t/100))}}applyRoundAmount(){null!==this.currentData.amount&&(this.needNAIAmount||this.defaultData.previousCurrency!==this.defaultData.currentCurrency)&&(this.currentData.amount=this.suggestionsService.beautify(this.currentData.amount,this.defaultData.currentCurrency,this.currentData.minAmount))}resetSuggestions(){var e;this.currentData.suggestions=T()(e=this.defaultData.amountOptions).call(e,(e=>this.currencyService.convert(e,this.defaultData.defaultCurrency,this.defaultData.currentCurrency,this.defaultData.aiEnabled&&!this.defaultData.disableSuggestionsAI,this.defaultData.countryCode)))}applyNAISuggestions(){this.needNAISuggestions&&(this.currentData.suggestions=function(e,t){let i=[e/4,e/3,e/2,e,1.3*e];return 3===t.length&&(i=[e/2,e]),t=Y()(t).call(t,((e,t)=>e-t)),g()(i).call(i,((e,i)=>{const n=i+1;t[n]<5e4&&(t[n]=t[n]*(1+e/100))})),t=Y()(t).call(t,((e,t)=>t-e))}(this.defaultData.xFactor,this.currentData.suggestions))}applyRoundSuggestions(){if(this.needNAISuggestions||this.defaultData.currentCurrency!==this.defaultData.defaultCurrency){var e;const t=T()(e=this.currentData.suggestions).call(e,(e=>{const t=e*this.suggestionsMultiplier;return this.defaultData.aiEnabled?Math.max(t,this.currentData.minAmount):t}));this.currentData.suggestions=this.suggestionsService.beautify(t,this.defaultData.currentCurrency,this.currentData.minAmount)}}resetHints(){var e;this.defaultData.hintsAmounts&&(this.currentData.hintsAmounts=T()(e=this.defaultData.hintsAmounts).call(e,(e=>this.currencyService.convert(e,this.defaultData.defaultCurrency,this.defaultData.currentCurrency,!1,this.defaultData.countryCode))))}applyRoundHints(){this.currentData.hintsAmounts&&this.defaultData.currentCurrency!==this.defaultData.defaultCurrency&&(this.currentData.hintsAmounts=this.suggestionsService.beautify(this.currentData.hintsAmounts,this.defaultData.currentCurrency,this.currentData.minAmount))}applyCompanyExclusions(){const e=this.defaultData.disableCompanyExclusionLogic.amounts||this.defaultData.disableCompanyExclusionLogic.suggestions;if(!this.defaultData.aiEnabled&&!e)return;const t=new yn(this.deviceExperimentsSettings),i=t.getSuggestions(this.currentData.suggestions);if(!i||this.defaultData.disableCompanyExclusionLogic.suggestions||this.defaultData.disableSuggestionsAI||(this.currentData.suggestions=i),this.defaultData.disableAmountAI)return;const n=t.getAmount();null!==n||this.defaultData.disableCompanyExclusionLogic.amounts||(this.currentData.amount=n)}applyWidgetExclusions(){var e;this.defaultData.widgetKey&&Be()(e=this.forceNullAmountWidgets).call(e,this.defaultData.widgetKey)&&(this.currentData.amount=null)}}class Sn{static get frequencyOrder(){return bt}static convertMinAmount(e,t,i,n){let a=Math.max(t,Sn.getMinInWidgetCurrency(e,i));a=e.convert(a,i,n);const r=e.getDigits(n);return Math.ceil(a/Math.pow(10,r))*Math.pow(10,r)}static getMinInWidgetCurrency(e,t){return e.convert(70,"USD",t)}constructor(e,t,i,n){var a,r;if(this.exchequerCurrencyService=t,this.currencyService=i,this.suggestionsService=n,this.currentFrequency=St.EK.ONCE,this.strategyMap=new(wi()),this._enabledFrequencies=[],this.frequencies=ze()(e.frequencies),this._enabledFrequencies=T()(a=B()(r=ei()(e.frequencies)).call(r,(e=>{let[,t]=e;return t.enabled}))).call(a,(e=>{let[t]=e;return t})),this.initStrategies(e),e.forceDefaultAmount){const t=this.getCurrentCurrency();this.setCurrency(e.defaultCurrency),this.setAmounts(e.forceDefaultAmount),this.setCurrency(t)}}get enabledFrequencies(){return this._enabledFrequencies}getCurrentFrequency(){return this.currentFrequency}getCurrentAmount(){return this.getStrategy(this.currentFrequency).amount}getCurrentCurrency(){return this.getStrategy(this.currentFrequency).currency}getAllAmounts(){const e={};for(const t of this.frequencies)e[t]=this.getStrategy(t).amount;return e}getAllMinAmounts(){const e={};for(const t of this.frequencies)e[t]=this.getStrategy(t).minAmount;return e}getAllSuggestions(){const e={};for(const t of this.frequencies)e[t]=this.getStrategy(t).suggestions;return e}getAllHintsAmounts(){const e={};for(const t of this.frequencies)e[t]=this.getStrategy(t).hintsAmounts;return e}getGuessedCurrency(){return this.exchequerCurrencyService.guessedCurrency}getGuessedCurrenciesList(){return this.exchequerCurrencyService.guessedCurrenciesList}setFrequency(e){return this.currentFrequency=e,this}setAmount(e){return this.getStrategy(this.currentFrequency).setAmount(e),this}setAmountForFrequency(e,t){return this.getStrategy(t).setAmount(e),this}setAmounts(e){var t;return g()(t=this.strategyMap).call(t,(t=>{t.setAmount(e)})),this}setCurrency(e,t){var i;return g()(i=this.strategyMap).call(i,(i=>{i.setCurrency(e,t)})),this}setSuggestionsAndDisableAi(e){this.getStrategy(this.currentFrequency).setSuggestionsAndDisableAi(e)}getHighestFrequency(){if(1===this.enabledFrequencies.length)return this.enabledFrequencies[0];let e=this.enabledFrequencies[0];for(const t of this.enabledFrequencies)Sn.frequencyOrder[t]>Sn.frequencyOrder[e]&&(e=t);return e}getLowestFrequency(){if(1===this.enabledFrequencies.length)return this.enabledFrequencies[0];let e=this.enabledFrequencies[0];for(const t of this.enabledFrequencies)Sn.frequencyOrder[t]<Sn.frequencyOrder[e]&&(e=t);return e}getCurrentState(){const e=this.getStrategy(this.currentFrequency);return{frequency:this.currentFrequency,amount:e.amount,minAmount:e.minAmount,isValidAmount:e.isValidAmount,suggestions:e.suggestions,hintsAmounts:e.hintsAmounts,currency:e.currency,currencyDigits:e.currencyDigits,guessedCurrenciesList:this.exchequerCurrencyService.guessedCurrenciesList,guessedCurrency:this.exchequerCurrencyService.guessedCurrency}}getStrategy(e){const t=this.strategyMap.get(e);if(!t)throw new Error(`Strategy for frequency ${e} is not defined`);return t}initStrategies(e){for(const i of this.frequencies){var t;e.frequencies[i].default&&(this.currentFrequency=i);const n=T()(t=Ct[i]).call(t,((t,n)=>e.frequencies[i].amountOptions[n]||t)),a=e.hintsAmounts&&e.hintsAmounts[i]||null;this.strategyMap.set(i,new vn({widgetKey:e.widgetKey,countryCode:e.countryCode,defaultCurrency:e.defaultCurrency,isMobile:e.isMobile,isLauncher:e.isLauncher,showcase:e.showcase,aiEnabled:e.aiEnabled,disableAmountAI:e.disableAmountAI,trend:e.trend,xFactor:e.xFactor,disableCompanyExclusionLogic:e.disableCompanyExclusionLogic,experimentsSettings:e.experimentsSettings,frequency:i,minAmount:e.frequencies[i].minAmount,defaultAmount:e.frequencies[i].defaultAmount,amountOptions:n,currentCurrency:this.exchequerCurrencyService.defaultCurrentCurrency,previousCurrency:this.exchequerCurrencyService.defaultPreviousCurrency,hintsAmounts:a},this.currencyService,this.suggestionsService))}}}function Cn(e){var t;return B()(t=ft()(e)).call(t,(e=>e.enabled)).length>1}var bn,An,En=i(34126);class xn{constructor(e,t,i){this.sentry=e,this.requestService=t,this.config=i,this.baseURL="",this.basePrefix="",(null==i?void 0:i.baseURL)&&(this.baseURL=i.baseURL)}setForcedProviderType(e){this.forcedProviderType=e}getPlaces(e){var t;const{customData:i,input:n,sessionToken:a,restrictCountries:r}=e;return this.requestService.get({url:`${this.baseURL}${this.basePrefix}/autocompleteAddresses`,withCredentials:!0,headers:x()(x()({},null===(t=this.config)||void 0===t?void 0:t.fundraiseupAddressProviderHeaders),{Accept:"application/json"}),params:{customData:En.stringify(i),input:n,sessionToken:a,restrictCountries:r,forceAddressProviderType:this.forcedProviderType},rejectOnInvalid:!0}).then((e=>xi.isFailure(e)?(this.sentry.captureException(new ji,{extra:{failureResult:e.failureResult},tags:{service:xn.name}}),[]):e.successResult)).catch((e=>(this.sentry.captureException(e,{tags:{service:xn.name}}),[])))}shouldFindSubplaces(){return!1}getSubplaces(){return Fe().reject(new Error("There is no subplaces in fundraiseup provider"))}getDetails(e){var t;const{customData:i,place:n,sessionToken:a}=e;if(n.address)return Fe().resolve(n.address);if(!n.placeId)return Fe().reject(new Error("Nor address field neither placeId field is defined in place object, something gone wrong"));const{placeId:r}=n;return this.requestService.get({url:`${this.baseURL}${this.basePrefix}/detailsAddress`,withCredentials:!0,headers:x()(x()({},null===(t=this.config)||void 0===t?void 0:t.fundraiseupAddressProviderHeaders),{Accept:"application/json"}),params:{customData:En.stringify(i),placeId:r,sessionToken:a,forceAddressProviderType:this.forcedProviderType},rejectOnInvalid:!0}).then((e=>xi.isFailure(e)?Fe().reject(new ji):e.successResult))}}class kn extends xn{constructor(e,t,i,n){super(e,t,i),this.sentry=e,this.requestService=t,this.config=i,this.checkoutSessionToken=n}getPlaces(e){var t,i;const{customData:n,input:a,sessionToken:r,restrictCountries:s}=e,o=this.checkoutSessionToken||(null==n?void 0:n.token);return o?this.requestService.get({url:`${this.baseURL}/paymentSession/${o}/mailingAddress`,withCredentials:!0,headers:x()(x()({},null===(t=this.config)||void 0===t?void 0:t.fundraiseupAddressProviderHeaders),{Accept:"application/json"}),params:{input:a,sessionToken:r,restrictCountries:s,forceAddressProviderType:this.forcedProviderType,locale:null===(i=this.config)||void 0===i?void 0:i.locale},rejectOnInvalid:!0}).then((e=>xi.isFailure(e)?(this.sentry.captureException(new ji,{extra:{failureResult:e.failureResult},tags:{service:xn.name}}),[]):e.successResult)):Fe().reject(new Error("Expected the widgetSession token"))}getDetails(e){var t,i;const{customData:n,place:a,sessionToken:r}=e;if(a.address)return Fe().resolve(a.address);if(!a.placeId)return Fe().reject(new Error("Nor address field neither placeId field is defined in place object, something gone wrong"));const{placeId:s}=a,o=this.checkoutSessionToken||(null==n?void 0:n.token);return o?this.requestService.get({url:`${this.baseURL}/paymentSession/${o}/mailingAddress/${s}`,withCredentials:!0,headers:x()(x()({},null===(t=this.config)||void 0===t?void 0:t.fundraiseupAddressProviderHeaders),{Accept:"application/json"}),params:{sessionToken:r,forceAddressProviderType:this.forcedProviderType,locale:null===(i=this.config)||void 0===i?void 0:i.locale},rejectOnInvalid:!0}).then((e=>xi.isFailure(e)?Fe().reject(new ji):e.successResult)):Fe().reject(new Error("Expected the widgetSession token"))}}class wn{constructor(e,t,i){this.storage=e,this.zipper=t,this.disableNewCookies=i}getData(){const e=this.storage.get(this.key);return e?this.zipper.unzip(e):{}}setData(e,t){const i=this.zipper.zip(e);this.storage.set(this.key,i,t)}removeData(e){this.storage.remove(this.key,e)}}class Nn extends wn{constructor(){super(...arguments),this.key=Ji.SESSION}get available(){return!!this.disableNewCookies||Boolean(this.storage.get(Ji.CID))&&Boolean(this.storage.get(this.key))}}class Pn extends wn{constructor(){super(...arguments),this.key=Ji.FUNC}get available(){if(this.disableNewCookies)return!1;const e=Boolean(this.storage.get(Ji.CID));return!e||e&&Boolean(this.storage.get(this.key))}}class Dn{constructor(e){this.dictionary=new(wi()),this.reverseDictionary=new(wi());for(const t in e){if(!Object.prototype.hasOwnProperty.call(e,t))continue;const i=e[t];this.dictionary.set(t,i),this.reverseDictionary.set(i,t)}}zip(e){return this.zipKeys(this.toFlatData(e))}unzip(e){return this.fromFlatData(this.unzipKeys(e))}unzipKeys(e){const t={};for(const i in e){if(!Object.prototype.hasOwnProperty.call(e,i))continue;const n=this.dictionary.get(i);n?t[n]=e[i]:console.error(`The key for the "${i}" field was not found`)}return t}zipKeys(e){const t={};for(const i in e){if(!Object.prototype.hasOwnProperty.call(e,i))continue;const n=this.reverseDictionary.get(i);n?t[n]=e[i]:console.error(`The minification key for the "${i}" field was not found`)}return t}toFlatData(e){const t={};for(const i in e){if(!Object.prototype.hasOwnProperty.call(e,i))continue;const n=e[i];if(Tn(n)){t[i]=n;continue}const a=this.toFlatData(n);for(const n in a)Object.prototype.hasOwnProperty.call(e,i)&&(t[i+"."+n]=a[n])}return t}fromFlatData(e){var t;let i={};return g()(t=ze()(e)).call(t,(t=>{const n=e[t],a=t.split("."),r={};let s;g()(a).call(a,((e,t)=>{if(a.length===t+1)return s?void(s[e]=n):void(r[e]=n);const o=e;if(i[o])s=i[o];else{if(s)return s[e]||(s[e]={}),void(s=s[e]);r[e]={},s=r[e]}})),i=x()({},i,r)})),i}}function Tn(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e||R()(e)}class _n{constructor(e,t,i){this.funLegacyStorage=e,this.funFuncStorage=t,this.disableNewCookies=i}get available(){return this.disableNewCookies?this.funLegacyStorage.available:this.funFuncStorage.available}get isFuncStorageInitialized(){const e=this.funFuncStorage.getData();return!!ze()(e).length}getData(){return this.funFuncStorage.available&&this.isFuncStorageInitialized?this.funFuncStorage.getData():this.funLegacyStorage.getData()}initialize(e,t){this.funFuncStorage.setData(e,t)}setData(e,t){this.funFuncStorage.available&&this.funFuncStorage.setData(e,t),this.funLegacyStorage.available&&this.funLegacyStorage.setData(e,t)}removeData(e){this.funFuncStorage.available&&this.funFuncStorage.removeData(e),this.funLegacyStorage.available&&this.funLegacyStorage.removeData(e)}}!function(e){e[e.BACKWARD=1]="BACKWARD",e[e.FORWARD=2]="FORWARD"}(bn||(bn={})),function(e){e.SCREEN_CHANGED="screenChanged",e.FLOW_CHANGED="flowChanged",e.DONE="done",e.LOCKED="locked",e.UNLOCKED="unlocked"}(An||(An={}));class On{constructor(e,t,i,n,a,r,s,o,c,l,u,d,h,m,p,g,f,y,v,S,C,b,A){this.eventEmitter=e,this.checkoutConfiguration=t,this.intl=i,this.tracker=n,this.debug=a,this.currencyService=r,this.suggestionsService=s,this.targetWindow=o,this.globalWindow=c,this.sentry=l,this.paymentMethods=u,this.stripeLoadingPromise=d,this.applePayStripeLoadingPromise=h,this.userSession=m,this.addressService=p,this.checkoutAPIBridge=g,this._experiments=f,this.flowFactoryMap=y,this.logger=v,this.requestService=S,this.subscriptionPeriodLabelsService=C,this.paymentMethodAvailabilityManagerRepository=b,this.params=A,this.currentFlow=null,this._checkoutService=null,this._flowType=null,this._isFlowInitializedOnce=!1}get checkoutService(){if(!this._checkoutService)throw new Error("Checkout service is not defined");return this._checkoutService}get experiments(){if(!this._experiments)throw new Error("Checkout Experiments Controller is not defined");return this._experiments}get flowType(){if(!this._flowType)throw new Error("Flow is not initialized");return this._flowType}get isFlowInitializedOnce(){return this._isFlowInitializedOnce}get questionsScreenPageCount(){return this._checkoutService?this._checkoutService.checkoutUIState.pagesOfQuestionsScreen:null}dispose(){var e,t;null===(e=this._checkoutService)||void 0===e||e.dispose(),null===(t=this.currentFlow)||void 0===t||t.dispose()}setInitialScreen(e){return this.initialScreen=e,this}getCurrentFlow(){if(!this.currentFlow)throw new Error("Start flow first");return this.currentFlow}onScreenChanged(e){return this.eventEmitter.on(An.SCREEN_CHANGED,e),()=>this.eventEmitter.removeListener(An.SCREEN_CHANGED,e)}onFlowChanged(e){return this.eventEmitter.on(An.FLOW_CHANGED,e),()=>this.eventEmitter.removeListener(An.FLOW_CHANGED,e)}startDefaultFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.start(this.checkoutConfiguration.defaultFlowType)}))}startFiatFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.start(Dt.MONEY)}))}startCryptoFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.start(Dt.CRYPTO)}))}startStockFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.start(Dt.STOCK)}))}restart(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.start(this.flowType)}))}start(e){var t,i;return(0,m.mG)(this,void 0,void 0,(function*(){yield null===(t=this._checkoutService)||void 0===t?void 0:t.dispose(),null===(i=this.currentFlow)||void 0===i||i.dispose();const{flow:n,checkoutService:a}=yield this.initializeFlow(e,{shouldRestoreFromIntent:this.isFlowInitializedOnce});this.currentFlow=n,this._checkoutService=a,this._flowType=e,this._isFlowInitializedOnce=!0,this.eventEmitter.emit(An.FLOW_CHANGED,e),yield n.start()}))}canClose(e){var t,i;if(!this.currentFlow)throw new Error("currentFlow is not defined");const n=this.checkoutService.isPaid,a=this.currentFlow.isLocked,r=null===(i=null===(t=this.checkoutConfiguration.company)||void 0===t?void 0:t.abandonedDonations)||void 0===i?void 0:i.enabled;if(a)return!1;if(this.checkoutConfiguration.infrastructureParams.showcase)return!1;if(r&&e.isRemindMeLaterAvailableScreen&&this.currentFlow.tryExit())return!1;if(!n&&(!e.isUnrestrictedExitScreen||e.isMobile&&e.isMobileExitScreen)&&this.currentFlow.tryExit())return!1;if(!r&&!e.isUnrestrictedExitScreen&&!this.currentFlow.isExiting){const e=[this.intl.translate("confirmCloseDialog.question"),this.intl.translate("confirmCloseDialog.instructions")].join("\n\n");return confirm(e)}return!0}shouldNotifyAbandoned(){var e,t;if(!this.currentFlow)throw new Error("currentFlow is not defined");if(!(null===(t=null===(e=this.checkoutConfiguration.company)||void 0===e?void 0:e.abandonedDonations)||void 0===t?void 0:t.enabled))return!1;if(this.currentFlow.isExiting)return!1;const{remindMeLater:i}=this.checkoutService.getState();return!i.show}canNavigateBackward(e,t){var i;const n=this.checkoutService.checkoutUIState.isCanNotGoBackScreen(e.getCurrentScreen().name),a=e.previousScreenName===t.paymentScreenName&&t.isPaid,r=e.previousScreenName===this.params.screenSet.creditCard&&t.isPaid,s=null===(i=this.currentFlow)||void 0===i?void 0:i.isLocked;return!(n||a||r||s)}initializeFlow(e,t){return(0,m.mG)(this,void 0,void 0,(function*(){const{flow:i,checkoutService:n}=yield this.createFlow(e);return i.on(An.SCREEN_CHANGED,(e=>{n.setCanGoBack(this.canNavigateBackward(i,n)),n.shouldFindMandatoryScreen=!1,n.checkoutUIState.setCloseButtonVisibility(i.getCurrentScreen().name,i.getHistoricalScreens()),this.eventEmitter.emit(An.SCREEN_CHANGED,e)})),i.on(An.LOCKED,(()=>{n.setCanGoBack(this.canNavigateBackward(i,n))})),i.on(An.UNLOCKED,(()=>{n.setCanGoBack(this.canNavigateBackward(i,n))})),n.initialize(t),this.tracker.setCurrentScreenDataGetter((()=>({screenName:i.getCurrentScreen().name,screenData:i.getCurrentScreen().getScreenData()}))),this.tracker.setCheckoutTrackerDataGetter((()=>n.getCheckoutTrackerData())),this.tracker.setCheckoutUIStateGetter((()=>n.checkoutUIState)),this.tracker.setDonationType(n.type),{flow:i,checkoutService:n}}))}createFlow(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.loadFlowFactory(e),{formFlow:i,checkoutService:n}=t({checkoutConfiguration:this.checkoutConfiguration,intl:this.intl,tracker:this.tracker,debug:this.debug,currencyService:this.currencyService,suggestionsService:this.suggestionsService,targetWindow:this.targetWindow,globalWindow:this.globalWindow,sentry:this.sentry,paymentMethods:this.paymentMethods,stripeLoadingPromise:this.stripeLoadingPromise,applePayStripeLoadingPromise:this.applePayStripeLoadingPromise,subscriptionPeriodLabelsService:this.subscriptionPeriodLabelsService,userSession:this.userSession,addressService:this.addressService,eventEmitter:this.eventEmitter,checkoutAPIBridge:this.checkoutAPIBridge,experiments:this.experiments,initialScreen:this.initialScreen,logger:this.logger,requestService:this.requestService,paymentMethodAvailabilityManagerRepository:this.paymentMethodAvailabilityManagerRepository,stripe:{elementsOptions:this.params.stripe.elementsOptions,elementStyles:this.params.stripe.elementStyles,elementClasses:this.params.stripe.elementClasses}});return{flow:i,checkoutService:n}}))}loadFlowFactory(e){return(0,m.mG)(this,void 0,void 0,(function*(){return(0,this.flowFactoryMap[e])()}))}}const In=i(85087);class Rn{constructor(e,t){this.schema=e,this.config=t}validate(e){return this.schema.validate(e)}allowed(e,t){const i=this.schema.path(e);return!!i&&!i.validate(t,{[e]:t},e)}isRequired(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=this.schema.path(e);return!!i&&!!i.validate(null,t,e)}getProvider(){return this.config.provider}}class Ln{constructor(e,t){this.config=e,this.paymentMethodConfigParser=t,this.managersMap=new(wi())}createManager(e,t){const i=this.config[e],n=i[t],a=this.paymentMethodConfigParser.parse(n);return new Rn(a,x()(x()({},n),{name:i.name,provider:i.provider}))}getManager(e,t){const i=e+"_"+t;let n=this.managersMap.get(i);return n||(n=this.createManager(e,t),this.managersMap.set(i,n),n)}}var jn=i(85448),Mn=i.n(jn),Fn=i(64537),Un=i.n(Fn),Bn=i(84101),Gn=i.n(Bn),qn=i(77485),Kn=i.n(qn),Vn=i(36160),Hn=i.n(Vn),Yn=i(80524),Zn=i.n(Yn);const $n=(e,t,i)=>{const n=Kn()(t,"ibanCountry");return!Be()(i).call(i,n)||!!e&&!Hn()(e)},zn=(e,t,i)=>!!Zn()(e)||e>=i.size,Wn=e=>!!Zn()(e)||!!e;var Xn=i(60008),Qn=i(49666),Jn=i.n(Qn),ea=i(31734),ta=i.n(ea);class ia extends Error{constructor(e,t){super(e),na(this,"path",t),na(this,"expose",!0),na(this,"status",400),Error.captureStackTrace&&Error.captureStackTrace(this,ia)}}const na=(e,t,i)=>{ta()(e,t,{enumerable:!1,configurable:!0,writable:!0,value:i})};var aa={type:(e,t,i)=>("function"==typeof i&&(i=i.name),`${e} must be of type ${i}.`),required:e=>`${e} is required.`,match:(e,t,i)=>`${e} must match ${i}.`,length(e,t,i){if("number"==typeof i)return`${e} must have a length of ${i}.`;const{min:n,max:a}=i;return n&&a?`${e} must have a length between ${n} and ${a}.`:a?`${e} must have a maximum length of ${a}.`:n?`${e} must have a minimum length of ${n}.`:void 0},size(e,t,i){if("number"==typeof i)return`${e} must have a size of ${i}.`;const{min:n,max:a}=i;return void 0!==n&&void 0!==a?`${e} must be between ${n} and ${a}.`:void 0!==a?`${e} must be less than ${a}.`:void 0!==n?`${e} must be greater than ${n}.`:void 0},enum(e,t,i){const n=a()(i).call(i),r=n.pop();return`${e} must be either ${n.join(", ")} or ${r}.`},illegal:e=>`${e} is not allowed.`,default:e=>`Validation failed for ${e}.`},ra=i(58149),sa=i.n(ra);function oa(e,t,i){var n;"string"!=typeof e?g()(n=ze()(e)).call(n,(t=>i[t]=e[t])):i[e]=t}function ca(e,t,i){const n=e.split(/\.\$(?=\.|$)/),a=n.shift(),r=Xn.get(t,a);if(!n.length)return i(a,r);if(R()(r))for(let e=0;e<r.length;e++)ca(ua(e,a)+n.join(".$"),t,i)}function la(e,t,i,n){const a=sa()(e);if("array"!==a){if("object"===a)for(const[a,r]of ei()(e)){const e=ua(a,i),s=ua(a,n);t(e,s)&&la(r,t,e,s)}}else g()(e).call(e,((e,a)=>la(e,t,ua(a,i),ua("$",n))))}function ua(e,t){return t?`${t}.${e}`:e}class da{constructor(e,t){this.name=e,this.registry={},this._schema=t,this._type=null,this.messages={}}message(e){"string"==typeof e&&(e={default:e});const t=ei()(e);for(const[e,i]of t)this.messages[e]=i;return this}schema(e){return this._schema.path(this.name,e),this}use(e){var t;return g()(t=ze()(e)).call(t,(t=>{let i=e[t];R()(i)||(i=[i]);const n=i.shift();this._register(t,i,n)})),this}required(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._register("required",[e])}type(e){return this._type=e,this._register("type",[e])}string(){return this.type(String)}number(){return this.type(Number)}array(){return this.type(Array)}date(){return this.type(Date)}length(e){return this._register("length",[e])}size(e){return this._register("size",[e])}enum(e){return this._register("enum",[e])}match(e){return this._register("match",[e])}each(e){return this._schema.path(ua("$",this.name),e),this}elements(e){return g()(e).call(e,((e,t)=>{this._schema.path(ua(t,this.name),e)})),this}properties(e){for(const[t,i]of ei()(e))this._schema.path(ua(t,this.name),i);return this}path(){return this._schema.path(...arguments)}typecast(e){const t=this._schema;let i=this._type;if(!i)return e;"function"==typeof i&&(i=i.name);const n=t.typecasters[i]||t.typecasters[i.toLowerCase()];if("function"!=typeof n)throw new Error(`Typecasting failed: No typecaster defined for ${i}.`);return n(e)}validate(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.name;const n=ze()(this.registry);for(const a of n){const n=this._run(a,e,t,i);if(n)return n}return null}_run(e,t,i,n){if(!this.registry[e])return;const a=this._schema,{args:r,fn:s}=this.registry[e];return(s||a.validators[e])(t,i,...r,n)?void 0:this._error(e,i,r,n)}_register(e,t,i){return this.registry[e]={args:t,fn:i},this}_error(e,t,i,n){const a=this._schema;let r=this.messages[e]||this.messages.default||a.messages[e]||a.messages.default;return"function"==typeof r&&(r=r(n,t,...i)),new ia(r,n)}}var ha,ma=i(66397),pa=i.n(ma),ga={required:(e,t,i)=>!1===i||null!=e&&""!==e,type:(e,t,i)=>null==e||("function"==typeof i?e.constructor===i:sa()(e)===i),length(e,t,i){if(null==e)return!0;if("number"==typeof i)return e.length===i;const{min:n,max:a}=i;return!(n&&e.length<n||a&&e.length>a)},size(e,t,i){if(null==e)return!0;if("number"==typeof i)return e===i;const{min:n,max:a}=i;return!(null!=pa()(n)&&e<n||null!=pa()(a)&&e>a)},enum:(e,t,i)=>null==e||Be()(i).call(i,e),match:(e,t,i)=>null==e||i.test(e)};class fa{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.opts=i,this.hooks=[],this.props={},this.messages=x()({},aa),this.validators=x()({},ga),this.typecasters=x()({},Jn()),g()(e=ze()(t)).call(e,(e=>this.path(e,t[e])))}path(e,t){const i=e.split("."),n=i.pop(),a=i.join(".");if(a&&this.path(a),"$"===n&&this.path(a).type(Array),t instanceof fa)return t.hook(((t,i)=>this.path(ua(t,e),i))),this.path(e,t.props);if(t instanceof da)return this.props[e]=t,this.propagate(e,t),t;const r=this.props[e]||new da(e,this);if(this.props[e]=r,this.propagate(e,r),!t)return r;if("string"==typeof t||"function"==typeof t)return r.type(t),r;if(R()(t))return r.type(Array),1===t.length?r.each(t[0]):r.elements(t),r;const s=ze()(t);let o=!1;for(const e of s)if("function"!=typeof r[e]){r.type(Object),o=!0;break}return g()(s).call(s,(i=>{const n=t[i];if(o)return this.path(ua(i,e),n);r[i](n)})),r}typecast(e){for(const[t,i]of ei()(this.props))ca(t,e,((t,n)=>{if(null==n)return;const a=i.typecast(n);a!==n&&Xn.set(e,t,a)}));return this}strip(e){return la(e,((t,i)=>!!this.props[i]||(Xn.delete(e,t),!1))),this}enforce(e){const t=[];return la(e,((e,i)=>{if(this.props[i])return!0;const n=new ia(aa.illegal(e),e);return t.push(n),!1})),t}validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=x()(this.opts,t);const i=[];t.typecast&&this.typecast(e),t.strict&&i.push(...this.enforce(e)),!1!==t.strip&&this.strip(e);for(const[t,n]of ei()(this.props))ca(t,e,((t,a)=>{const r=n.validate(a,e,t);r&&i.push(r)}));return i}assert(e,t){const[i]=this.validate(e,t);if(i)throw i}message(e,t){return oa(e,t,this.messages),this}validator(e,t){return oa(e,t,this.validators),this}typecaster(e,t){return oa(e,t,this.typecasters),this}hook(e){return this.hooks.push(e),this}propagate(e,t){var i;return g()(i=this.hooks).call(i,(i=>i(e,t))),this}}fa.ValidationError=ia;class ya{constructor(e){this.validationMessagesService=e,this.props={},this.customValidations={requiredIfIbanCountry:$n,availableAll:Wn,minAmount:zn}}parse(e){return Mn()(e,((e,t)=>this._parse(t,e))),new fa(this.props,{strip:!1})}_parse(e,t){if("repeat"===e&&Un()(t))return this.props.period={enum:Gn()(t,St.EK.ONCE),message:{enum:(e,i)=>this.validationMessagesService.get("period")(e,i,Gn()(t,St.EK.ONCE))}},void(this.props[e]={enum:t,message:{enum:(e,i)=>this.validationMessagesService.get("enum")(e,i,t)}});Un()(t)?this.props[e]={enum:t,message:{enum:(e,i)=>this.validationMessagesService.get("enum")(e,i,t)}}:Mn()(t,((t,i)=>{i in this.customValidations?this.props[e]={use:{[i]:(e,n)=>this.customValidations[i](e,n,t)},message:{[i]:(e,n)=>this.validationMessagesService.get(i)(e,n,t)}}:this.props[e]={[i]:t,message:{[i]:(e,n)=>this.validationMessagesService.get(i)(e,n,t)}}}))}}!function(e){e.SHORT="short",e.ADVERB="adverb",e.NOUN="noun",e.ADJECTIVE="adjective"}(ha||(ha={})),ha.SHORT,ha.ADVERB,ha.NOUN;const va={daily:{short:"day",noun:"day",adverb:"daily",adjective:"daily"},weekly:{short:"w",noun:"week",adverb:"weekly",adjective:"weekly"},biweekly:{short:"2w",noun:"2 weeks",adverb:"biweekly",adjective:"biweekly"},every4weeks:{short:"4w",noun:"4 weeks",adverb:"every 4 weeks",adjective:"4-weekly"},monthly:{short:"mo",noun:"month",adverb:"monthly",adjective:"monthly"},bimonthly:{short:"2mo",noun:"2 months",adverb:"bimonthly",adjective:"bimonthly"},quarterly:{short:"qrt",noun:"quarter",adverb:"quarterly",adjective:"quarterly"},semiannual:{short:"6mo",noun:"6 months",adverb:"semiannually",adjective:"semiannual"},annual:{short:"yr",noun:"year",adverb:"annually",adjective:"annual"}};function Sa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ha.ADVERB;if(!e)return;const i=va[e];return i&&i[t]}class Ca{constructor(e,t){this.currencyFormatter=e,this.translateServices=t}get(e){var t,i,n,a,r;switch(e){case"enum":return y()(t=this.enum).call(t,this);case"minAmount":return y()(i=this.minAmount).call(i,this);case"required":case"requiredIfIbanCountry":return y()(n=this.required).call(n,this);case"period":return y()(a=this.period).call(a,this);default:return y()(r=this.default).call(r,this)}}enum(e,t,i){return this.translateServices?this.translateServices.intlService.translate("paymentMethodValidationMessages.enum",{enums:i.join(", ")}):`This value must be either ${i.join(", ")}`}period(e,t,i){if(this.translateServices){const e=this.translateServices.subscriptionPeriodLabelsService,t=T()(i).call(i,(t=>e.getLabel(t,ha.ADJECTIVE))).join(", ");return this.translateServices.intlService.translate("paymentMethodValidationMessages.period",{periods:t})}return`The chosen payment method only works with the following frequencies: ${T()(i).call(i,(e=>Sa(e,ha.ADJECTIVE))).join(", ")}`}minAmount(e,t,i){if(this.translateServices){const e=this.translateServices.intlService.formatCurrency(i.size,{currency:i.currency});return this.translateServices.intlService.translate("paymentMethodValidationMessages.minAmount",{minAmount:e})}return`This amount must be at least ${this.currencyFormatter.format(i.size,{currency:i.currency})} due to the payment method chosen.`}required(e){return this.translateServices?this.translateServices.intlService.translate("paymentMethodValidationMessages.required"):`${e} is required`}default(e){return this.translateServices?this.translateServices.intlService.translate("paymentMethodValidationMessages.default"):`Validation failed for ${e}`}}class ba{constructor(e){this.intl=e}get all(){return{daily:{short:this.intl.translate("widgetSubscriptionPeriodLabel.daily.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.daily.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.daily.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.daily.adjective")},weekly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adjective")},biweekly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adjective")},every4weeks:{short:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.adjective")},monthly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adjective")},bimonthly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adjective")},quarterly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adjective")},semiannual:{short:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adjective")},annual:{short:this.intl.translate("widgetSubscriptionPeriodLabel.annual.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.annual.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.annual.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.annual.adjective")}}}}class Aa{get all(){return va}}class Ea{constructor(e){this.subscriptionPeriodLabelsProvider=e}getLabel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ha.ADVERB;if(!e)return;const i=this.subscriptionPeriodLabelsProvider.all[e];return i&&i[t]}getValueWithLabel(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ha.SHORT;return function(e,t){let i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ha.SHORT,a=arguments.length>3?arguments[3]:void 0;return t?(i=a||Sa(t,n),i?`${e}/${i}`:e):e}(e,t,i,this.getLabel(t,i))}}class xa extends fe{constructor(e,t){super(),this.payload={checkoutIsRecurring:e.frequency!==St.EK.ONCE?1:0,checkoutCurrency:e.currency,checkoutAmount:e.amount,checkoutPresets:e.amountOptions[e.frequency],elementKey:t.elementKey,elementType:t.elementType,elementReminderKey:t.elementReminderKey}}}class ka extends xa{constructor(e,t,i,n,a){super(e,t),this.merge({checkoutScreen:i,checkoutClickElement:n,clickAHref:null==a?void 0:a.link,clickDOMPath:null==a?void 0:a.path,clickText:null==a?void 0:a.text})}get eventType(){return"checkoutClick"}}class wa extends fe{get eventType(){return"ping"}}var Na;!function(e){e.CHECKOUT="checkout"}(Na||(Na={}));var Pa=i(71899),Da=i.n(Pa),Ta=i(47111),_a=i.n(Ta);function Oa(e,t){if(!e)return;if("test"===t&&e.FUN_SPLIT_TESTING_NAME)return{name:e.FUN_SPLIT_TESTING_NAME,node:e};if("variant"===t&&e.FUN_SPLIT_TESTING_VARIANT_NAME)return{name:e.FUN_SPLIT_TESTING_VARIANT_NAME,node:e};const i=(0,jt.um)(e,`fun-${t}`);if(i)return{name:i,node:e};const n=e.getAttribute("href")||"",a=/#FUN/.test(n),r=/#X/.test(n);if(a||r){const i=(0,jt.Lb)(n);if(i&&i.key&&i[t])return{name:i[t],node:e}}}class Ia{constructor(e){this.node=e,this.path="",this.purePath=this.createPath(this.node),this.convertPathToString(this.purePath),this.extractDataFromNode(),this.extractSplitTest()}createPath(e){let t=e;const i=[];for(;!(t instanceof HTMLHtmlElement)&&t.parentNode;)i.push(t),t=t.parentNode;return i}convertPathToString(e){var t,i;this.path=_a()(t=B()(i=T()(e).call(e,(e=>{if(e.tagName&&e.nodeName&&"HTML"!==e.tagName){const t=e.classList?a()([]).call(e.classList):[];return e.tagName.toLowerCase()+(t.length?"."+t.join("."):"")}return!1}))).call(i,Boolean)).call(t).join(" ")}extractDataFromNode(){var e;const t=this.findExtractableNode();if(!t)return;const i=t.innerText||t.textContent||t.value;if(this.text=i?gi()(e=i.replace(/\s+/g," ")).call(e).substr(0,200):void 0,t instanceof HTMLAnchorElement)this.link=t.href;else{let e=t;for(;e;){if(e.href){this.link=e.href;break}e=e.parentNode}}}findExtractableNode(){var e;return vt()(e=this.purePath).call(e,(e=>{var t,i;if(e.nodeType!==Node.ELEMENT_NODE)return!1;const n=e.tagName.toLowerCase();return-1!==Da()(t=["a","button"]).call(t,n)||"input"===n&&-1!==Da()(i=["submit","button"]).call(i,e.type)}))}extractSplitTest(){const e=function(e){if(!function(e){if(!e)return!1;const t=(0,jt.FX)(e,(e=>Boolean(e.FUN_SPLIT_TESTING)));return Boolean(t)}(e))return;const t=function(e){const t=(0,jt.FX)(e,(e=>Boolean(e.FUN_SPLIT_TESTING_NAME||(0,jt.um)(e,"fun-test"))));return Oa(e,"test")||Oa(t,"test")}(e),i=function(e){const t=(0,jt.FX)(e,(e=>Boolean(e.FUN_SPLIT_TESTING_VARIANT_NAME||(0,jt.um)(e,"fun-variant"))));return Oa(e,"variant")||Oa(t,"variant")}(e);return t&&i?{test:t.name,variant:i.name}:void 0}(this.node);e&&(this.test=e.test,this.variant=e.variant)}}const Ra=[[0,3,1,7,5,9,8,6,4,2],[7,0,9,2,1,5,4,8,6,3],[4,2,0,6,8,7,1,3,5,9],[1,7,5,0,9,8,3,4,2,6],[6,1,2,3,0,4,5,9,7,8],[3,6,7,4,2,0,9,5,8,1],[5,8,6,9,7,2,0,1,3,4],[8,9,4,5,3,6,2,0,1,7],[9,4,3,8,6,1,7,2,0,5],[2,5,8,1,4,3,6,7,9,0]];class La extends xa{constructor(e,t,i){super(e,t),this.merge({customEventType:i.customEventType,customEventData:pe()(i.customEventData)})}get eventType(){return ge}}class ja extends class{constructor(e){this.tags=new(q()),this.tracker=e}get companyKey(){return this.tracker.companyKey}get clientId(){return this.tracker.clientId}get livemode(){return this.tracker.livemode}get clientLocale(){return this.tracker.clientLocale}get debug(){return this.tracker.debug}get page(){return this.tracker.page}customTrack(e){return this.tracker.customTrack(e)}track(e,t){return this.tracker.track(e,t)}ping(e,t){const i=e||new wa;this.tracker.ping(i,t)}initializePointerUsageTracking(){this.tracker.initializePointerUsageTracking()}subscribe(e,t){return this.tracker.subscribe(e,t)}setEventTags(e){g()(e).call(e,(e=>this.tags.add(e)))}removeEventTags(e){var t;g()(t=this.tags).call(t,(t=>{S()(e).call(e,(e=>t.substring(0,e.length)===e))&&this.tags.delete(t)}))}mergeEventTags(e){var t;let i=[];var n;e.payload.eventTags&&(i=a()(n=e.payload.eventTags).call(n)),g()(t=this.tags).call(t,(e=>{-1===Da()(i).call(i,e)&&i.push(e)})),e.payload.eventTags=i}}{constructor(e,t,i,n,r,s,o,c){var l,u,d;super(e),this.tracker=e,this.checkoutConfiguration=t,this.currencyService=i,this.checkoutLocale=n,this.targetWindow=r,this.url=s,this.screenDataFormatter=o,this.checkoutOpenTimestamp=c,this.isTrackingClicks=!1,this.currentScreenDataGetter=null,this.checkoutTrackerDataGetter=null,this.checkoutUIStateGetter=null,this._donationType=null,this.checkoutViewId=`${d=a()(l=he()).call(l,0,-1)}${function(e){let t=0;for(let i=0;i<e.length;i++){const n=e.charAt(i);t=Ra[t][n]}return t.toString()}(d)}`,this.clickHandler=y()(u=this.handleClick).call(u,this)}get pageViewId(){var e;return null===(e=this.tracker.page)||void 0===e?void 0:e.pageViewId}initialize(){this.tracker.initializePointerUsageTracking(this.targetWindow),this.trackClicks()}dispose(){this.untrackClicks()}initializePointerUsageTracking(){this.tracker.initializePointerUsageTracking(this.targetWindow)}track(e){this.showcase||(this.addTrackerData(e),this.tracker.track(e,{url:this.url,trackerType:Na.CHECKOUT}))}customTrack(e){if(this.showcase)return;const t=this.checkoutDataSnapshot;if(!t)return;const i={elementKey:this.checkoutConfiguration.element.key,elementReminderKey:this.checkoutConfiguration.element.reminderKey,elementType:this.checkoutConfiguration.element.type};this.track(new La(t.payParams,i,{customEventType:e.type,customEventData:e.data}))}ping(e){if(this.showcase)return;const t=e||new wa;this.addTrackerData(t),this.tracker.ping(t,{url:this.url})}trackClicks(){if(this.isTrackingClicks)throw new Error("Already tracking clicks");this.targetWindow.addEventListener("click",this.clickHandler,!0),this.isTrackingClicks=!0}setCurrentScreenDataGetter(e){this.currentScreenDataGetter=e}setCheckoutTrackerDataGetter(e){this.checkoutTrackerDataGetter=e}setCheckoutUIStateGetter(e){this.checkoutUIStateGetter=e}setDonationType(e){this._donationType=e}trackClick(e,t){this.trackClickEvent(t,e)}get showcase(){return this.checkoutConfiguration.infrastructureParams.showcase}get checkoutDataSnapshot(){const e=this.getCheckoutTrackerData();if(!e)return null;const t={[e.donation.frequency]:e.donation.amountOptions||[]};return{payParams:{currency:e.donation.currency,frequency:e.donation.frequency,amount:e.donation.amount||0,amountOptions:t},isTributeActive:e.tribute.isActive}}get donationType(){return this._donationType||this.checkoutConfiguration.defaultFlowType}addTrackerData(e){var t,i;let n,a;e.payload.checkoutCurrency&&(a=this.currencyService.getRate(e.payload.checkoutCurrency)),e.payload.checkoutAmount&&e.payload.checkoutCurrency&&(n=this.currencyService.convert(e.payload.checkoutAmount,e.payload.checkoutCurrency,"USD"));const r=this.getCurrentScreenData();let s,o,c=null;if(r){if(s=r.screenName,c=this.getCheckoutTrackerData(),!c)throw new Error("Checkout tracker data is required");const e=this.getCheckoutUIStateData();if(!e)throw new Error("Checkout UI state data is required");o=pe()(this.screenDataFormatter.format(s,r.screenData,c,e,this.checkoutConfiguration))}let l=this.checkoutConfiguration.queryParams.member;l||(l=(null===(t=this.checkoutConfiguration.fundraisingPage)||void 0===t?void 0:t.admin)||""),e.merge({widgetKey:this.checkoutConfiguration.campaign.key,checkoutCompanyKey:this.checkoutConfiguration.campaign.company,checkoutFrequency:null==c?void 0:c.donation.frequency,checkoutLocale:this.checkoutLocale,elementReminderKey:this.checkoutConfiguration.element.reminderKey,elementKey:this.checkoutConfiguration.element.key,elementType:this.checkoutConfiguration.element.type,elementLocale:this.checkoutConfiguration.element.locale,checkoutViewId:this.checkoutViewId,checkoutOpenTime:this.checkoutOpenTimestamp,checkoutLifetime:O()()-this.checkoutOpenTimestamp,checkoutScreen:s,checkoutScreenData:o,checkoutInUSDAmount:n,checkoutCurrencyRate:a,checkoutDefaultAmount:(null==c?void 0:c.donation.defaultAmount)||0,splitTestName:this.checkoutConfiguration.splitTest&&this.checkoutConfiguration.splitTest.name||"",splitTestVariant:this.checkoutConfiguration.splitTest&&this.checkoutConfiguration.splitTest.variant||"",elementData:pe()(this.checkoutConfiguration.externalConfig.elementTrackingData),fundraisingPageKey:(null===(i=this.checkoutConfiguration.fundraisingPage)||void 0===i?void 0:i.key)||"",fundraisingPageCustomerKey:l,donationType:this.donationType,checkoutType:this.checkoutConfiguration.checkoutType}),this.mergeEventTags(e)}handleClick(e){const t=e.target;if(!t)return;const i=(0,jt.FX)(t,(e=>e&&e.hasAttribute&&e.hasAttribute(ja.ElementNameDataAttr)));this.trackClickEvent(t,null==i?void 0:i.getAttribute(ja.ElementNameDataAttr))}trackClickEvent(e,t){var i;const n=this.checkoutDataSnapshot;if(!n)return;const a={elementKey:this.checkoutConfiguration.element.key,elementReminderKey:this.checkoutConfiguration.element.reminderKey,elementType:this.checkoutConfiguration.element.type},r=new Ia(e),s=(null===(i=this.getCurrentScreenData())||void 0===i?void 0:i.screenName)||"";this.track(new ka(n.payParams,a,s,t||"other",r))}untrackClicks(){this.targetWindow.removeEventListener("click",this.clickHandler),this.isTrackingClicks=!1}getCurrentScreenData(){return this.currentScreenDataGetter?this.currentScreenDataGetter():null}getCheckoutTrackerData(){return this.checkoutTrackerDataGetter?this.checkoutTrackerDataGetter():null}getCheckoutUIStateData(){return this.checkoutUIStateGetter?this.checkoutUIStateGetter():null}}function Ma(e){return function(t){return S()(e).call(e,(e=>e===t))}}var Fa,Ua;ja.ElementNameDataAttr="data-tracking-element-name",function(e){e.COMMENT="comment",e.MAILING_ADDRESS="mailing-address",e.PRIVACY="privacy",e.THANK_YOU="thank-you",e.REMIND_ME="email-ask",e.QUESTIONS="questions"}(Fa||(Fa={})),function(e){e.CRYPTO_CURRENCY="crypto-currency",e.CRYPTO_WALLET="crypto-wallet"}(Ua||(Ua={}));const Ba=[Ua.CRYPTO_CURRENCY,Ua.CRYPTO_WALLET,Fa.COMMENT,Fa.PRIVACY,Fa.THANK_YOU,Fa.REMIND_ME,Fa.MAILING_ADDRESS,Fa.QUESTIONS],Ga=[fn.US_BANK_ACCOUNT,fn.US_BANK_ACCOUNT_DONATE_OPTIONS,fn.US_BANK_ACCOUNT_CONFIRMATION,fn.US_BANK_ACCOUNT_VERIFICATION_GUIDE,fn.AU_BECS,fn.CLICK_TO_PAY_SPLASH,fn.CREDIT_CARD,fn.DONATE,fn.DOUBLE,fn.GIFT_AID,fn.PAYMENT_OPTIONS,fn.PAYPAL_CONVERSION,fn.POST_DONATION_UPSELL,fn.SEPA,fn.IDEAL,fn.IDEAL_CONFIRMATION,fn.UK_BACS,fn.UK_BACS_CONFIRMATION,fn.UPSELL,Fa.QUESTIONS,Fa.COMMENT,Fa.MAILING_ADDRESS,Fa.PRIVACY,Fa.THANK_YOU,Fa.REMIND_ME];var qa;!function(e){e.STOCK_BROKERAGE="stock-brokerage",e.STOCK_CO_OWNER="stock-co-owner",e.STOCK_CO_OWNER_SIGNATURE="stock-co-owner-signature",e.STOCK_CONFIRMATION="stock-confirmation",e.STOCK_SECURITIES="stock-securities",e.STOCK_SIGNATURE="stock-signature"}(qa||(qa={}));const Ka=[qa.STOCK_BROKERAGE,qa.STOCK_CO_OWNER,qa.STOCK_CO_OWNER_SIGNATURE,qa.STOCK_CONFIRMATION,qa.STOCK_SECURITIES,qa.STOCK_SIGNATURE,Fa.COMMENT,Fa.MAILING_ADDRESS,Fa.QUESTIONS,Fa.PRIVACY,Fa.THANK_YOU,Fa.REMIND_ME],Va=Ma([...Ba,...Ga,...Ka]);class Ha extends class{constructor(e){this._locale=e}get locale(){return this._locale}set locale(e){this._locale=e}changeLocale(e){return this.locale=e,this.locale}set intl(e){this._intl=e}get intl(){if(!this._intl)throw new Error("Intl service is undefined in date formatter");return this._intl}}{format(e){const t={numberingSystem:"latn"};switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:Ge.nx.SHORT}).type){case Ge.nx.LONG:t.month="long",t.day="numeric";break;case Ge.nx.LONG_WITH_YEAR:t.month="long",t.day="numeric",t.year="numeric";break;default:t.month="short",t.day="numeric"}return new Date(e).toLocaleString(this.locale,t)}}var Ya=i(69765),Za=i(70782);class $a{constructor(e,t){this.baseLocale=e,this.lingui=(0,Ya.E5)({locale:e,messages:{[e]:t||{}},localeData:{[e]:$a.makeLocaleData(e)}})}static extractLanguageFromLocale(e){const[t]=e.split("-");return t}static makeLocaleData(e){const t=this.extractLanguageFromLocale(e);return{plurals:Za[t]}}get defaultMessages(){return this.lingui._messages[this.baseLocale]}locale(e){if(void 0!==e){const t=$a.makeLocaleData(e);this.lingui.loadLocaleData(e,t),this.lingui.activate(e)}return this.lingui.locale}t(e,t){const i=this.lingui._(e,t,{formats:{number:{numberingSystem:"latn"}}});return i===e?"":i}extend(e){const t=x()({},this.defaultMessages,e);this.lingui.load(this.locale(),t)}}class za{constructor(e,t){this.translationProvider=e,this.translationLoader=t}changeLocale(e){return this.loadTranslation(e).then((t=>{this.translationProvider.locale(e),this.translationProvider.extend(t)}))}translate(e,t){return this.translationProvider.t(e,t)}loadTranslation(e){return this.translationLoader.load(e)}}class Wa{constructor(e,t,i){this.locale=e,this.widgetLocalizationConfig=t,this.companyLocalizationConfig=i}getDataLanguage(){var e;const t=(0,nn.dI)(this.locale);return-1!==Da()(e=this.widgetLocalizationConfig.supportedLanguages).call(e,t)?t:(0,nn.dI)(this.widgetLocalizationConfig.defaultLocale)}getUILocale(){var e,t;const i=this.locale,n=this.widgetLocalizationConfig.useCompanyInterfaceLocales,a=-1!==Da()(e=this.companyLocalizationConfig.interfaceLocales).call(e,i),r=-1!==Da()(t=this.widgetLocalizationConfig.supportedLanguages).call(t,(0,nn.dI)(i));return n&&!a||!n&&!r?this.widgetLocalizationConfig.defaultLocale:i}}function Xa(e,t,i,n){return(Number(e)||0).toLocaleString(n||"en-US",{style:"decimal",currency:"USD",minimumFractionDigits:t||0,maximumFractionDigits:i||0,numberingSystem:"latn"})}class Qa extends class{constructor(e){this._locale=e}get locale(){return this._locale}set locale(e){this._locale=e}changeLocale(e){return this.locale=e,this.locale}}{constructor(e){super(e),this.formatNumber=Xa}format(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{minimumFractionDigits:0,maximumFractionDigits:0};return this.formatNumber(e,t.minimumFractionDigits,t.maximumFractionDigits,this.locale)}}class Ja extends class{load(e){const t=this.getTranslationFilename(e);return this.loadFile(t)}getTranslationFilename(e){return e.replace("-","_")}}{loadFile(e){return(0,u.mG)(this,void 0,void 0,(function*(){return(yield(()=>{switch(e){case"ar_001":return i.e(330).then(i.t.bind(i,70499,19));case"da":return i.e(3634).then(i.t.bind(i,20130,19));case"de":return i.e(7652).then(i.t.bind(i,56586,19));case"en_CA":return i.e(3799).then(i.t.bind(i,51855,19));case"en_GB":return i.e(1080).then(i.t.bind(i,94176,19));case"en_US":return i.e(6526).then(i.t.bind(i,52689,19));case"es":return i.e(4534).then(i.t.bind(i,5322,19));case"es_US":return i.e(8012).then(i.t.bind(i,28122,19));case"fi_FI":return i.e(4971).then(i.t.bind(i,43965,19));case"fr_CA":return i.e(4002).then(i.t.bind(i,67906,19));case"fr_FR":return i.e(8918).then(i.t.bind(i,3975,19));case"hu":return i.e(9930).then(i.t.bind(i,73502,19));case"it":return i.e(6442).then(i.t.bind(i,15142,19));case"ja":return i.e(8317).then(i.t.bind(i,82287,19));case"ko":return i.e(2209).then(i.t.bind(i,20439,19));case"nl":return i.e(9419).then(i.t.bind(i,29432,19));case"no":return i.e(8796).then(i.t.bind(i,12810,19));case"pt_BR":return i.e(9562).then(i.t.bind(i,26201,19));case"pt_PT":return i.e(5298).then(i.t.bind(i,86792,19));case"ru_RU":return i.e(5924).then(i.t.bind(i,76321,19));case"sv":return i.e(1139).then(i.t.bind(i,12649,19));case"zh_CN":return i.e(1086).then(i.t.bind(i,56428,19));case"zh_TW":return i.e(6161).then(i.t.bind(i,64714,19))}})()).default}))}}var er=i(54615);const tr={base:{color:"#222832",fontWeight:400,fontFamily:"'IBM Plex Sans', sans-serif",fontSize:"16px",lineHeight:"24px",fontSmoothing:"antialiased",":focus":{color:"#222832"},"::placeholder":{color:"#697484"},":focus::placeholder":{color:"#697484"}},invalid:{color:"#dA2243",":focus":{color:"#dA2243"},"::placeholder":{color:"#697484"}}},ir={focus:"focused",empty:"empty",invalid:"invalid"},nr={fonts:[{family:"IBM Plex Sans",src:`url(${er}) format('woff2')`,weight:"400",style:"normal"}]};var ar=i(5681),rr=i.n(ar);const sr=/#([\da-z_-]{1,25})(\?|&|$)/i,or=e=>{var t,i,n;return"string"==typeof(null===(t=e.navigator)||void 0===t?void 0:t.userAgent)&&!!(null===(n=null===(i=e.navigator)||void 0===i?void 0:i.userAgent)||void 0===n?void 0:n.match("CriOS"))},cr=/^X[\dA-Z]{7}/,lr=new RegExp("\\/-\\/(N[\\dA-Z]{7})");var ur,dr;new RegExp(`${lr.source}(?!\\/join)`),new RegExp(`${lr.source}\\/join`),function(e){e.type="type",e.recurring="recurring",e.amount="amount",e.modifyAmount="modifyAmount",e.designationId="designationId",e.fundraiser="fundraiser",e.modifyDesignation="modifyDesignation",e.firstName="firstName",e.lastName="lastName",e.email="email",e.fundraiseupLivemode="fundraiseupLivemode"}(ur||(ur={})),function(e){e.fundraiser="fundraiser",e.element="element"}(dr||(dr={}));let hr=!1;class mr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;this.keysKeeper=e,this._disabled=!1,this.originalQueryStringAndHash="",this.window=t}get disabled(){return this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e)}checkUrl(){if(this.disabled)return;if(!this.window.location.hash)return;if(!this.keysKeeper.exists("WIDGET",this.window.location.hash))return;hr=!1;const e=this.keysKeeper.getOriginalWidgetKey(this.window.location.hash),t=this.window.location.href.replace(this.window.location.hash,"#"+e);this.window.history.replaceState("",this.window.document.title,t)}setUrl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.disabled)return;if(!this.keysKeeper.exists("WIDGET",e)&&!this.isModalKey(e))return;const a=this.getQueryString({keyOrHash:e,hrefParams:t,queryString:this.window.location.search,hash:this.window.location.hash,fundraisingPageKey:i}),r=this.cleanHash(this.window.location.hash);this.originalQueryStringAndHash=this.cleanQueryString(a,t,n)+r;const s=this.normalizePathname(this.window.location.pathname)+a+r;this.window.history.replaceState("",this.window.document.title,s),hr=!1}back(){or(this.window)||this.window.history.go(-2),P()((()=>{const e=(0,jt.O5)(this.window.location.search,!1).form;if(this.keysKeeper.exists("WIDGET",e)||this.isModalKey(e))return hr?void this.window.history.back():this.clearUrl()}),150)}clearUrl(){if(this.disabled)return;const e=(0,jt.O5)(this.window.location.search,!1).form;if(!this.keysKeeper.exists("WIDGET",e)&&!this.isModalKey(e))return;const t=this.normalizePathname(this.window.location.pathname)+this.originalQueryStringAndHash;this.window.history.replaceState("",this.window.document.title,t),hr=!0}isModalKey(e){const t=[Ot.P2P_BUTTON,Ot.P2P_LINK];return S()(t).call(t,(t=>this.keysKeeper.checkElementType(t,e)))}getQueryString(e){var t,i;let{keyOrHash:n,hrefParams:a,hash:r,queryString:s,fundraisingPageKey:o}=e;const c=(0,jt.O5)(a,!0),l={form:n},u=(0,jt.O5)(r,!1),d=(0,jt.O5)(s,!1),h=function(e){const t=sr.exec(e);return t&&t[1]?t[1]:""}(r)||d.form||"",m=0!==h.length&&h.toLowerCase()!==n.toLowerCase();return o&&(l.fundraiser=o),g()(t=ze()(u)).call(t,(e=>{m&&e in l||(l[e]=u[e])})),g()(i=ze()(d)).call(i,(e=>{m&&e in l||(l[e]=d[e])})),x()(l,c),l.form=n,l.element&&cr.test(l.element)&&delete l.element,"?"+(0,jt.f0)(l,!1)}cleanHash(e){const t=e.split("&",1)[0];return this.keysKeeper.exists("WIDGET",t)||"#"===t||-1!==Da()(t).call(t,"=")?"":t}cleanQueryString(e,t,i){var n,a;const r=(0,jt.O5)(t,!1),s=(0,jt.O5)(e,!1);var o;delete s.form,g()(n=ze()(ur)).call(n,(e=>delete s[e])),g()(a=ze()(dr)).call(a,(e=>delete s[e])),i||g()(o=ze()(r)).call(o,(e=>delete s[e]));const c=(0,jt.f0)(s,!1);return""===c?"":"?"+c}normalizePathname(e){return rr()(e).call(e,"//")?a()(e).call(e,1):e}}function pr(e){return new(Fe())((t=>{P()(t,e)}))}var gr,fr=i(29406),yr=i.n(fr);class vr{static forKey(e){return new vr(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.key=e,this.params=t,this.customParams=i}toString(){var e,t;const i=yr()(e=[]).call(e,this.params,this.customParams);return B()(t=["#"+this.key,T()(i).call(i,(e=>{let[t,i]=e;return t+"="+encodeURIComponent(i)})).join("&")]).call(t,Boolean).join("&")}addRecurring(e){return e&&this.params.push([ur.recurring,e]),this}addAmount(e){return e&&this.params.push([ur.amount,e.toString()]),this}addModifyAmount(e){return!1!==e&&"no"!==e||this.params.push([ur.modifyAmount,"no"]),this}addModifyDesignation(e){return!1!==e&&"no"!==e||this.params.push([ur.modifyDesignation,"no"]),this}addDesignation(e){return"no"===e?this.params.push(["designation",e]):e&&this.params.push([ur.designationId,e]),this}addFirstName(e){return e&&this.params.push([ur.firstName,e]),this}addLastName(e){return e&&this.params.push([ur.lastName,e]),this}addEmail(e){return e&&this.params.push([ur.email,e]),this}addFundraiseupLivemode(e){return!1!==e&&"no"!==e||this.params.push([ur.fundraiseupLivemode,"no"]),this}addCustomQueryParams(e){if(!e)return this;for(const[t,i]of ei()(e))i&&this.customParams.push([t,i]);return this}}class Sr extends class{constructor(e){var t;this.window=e,this.navigationHandlers=new(q()),this.isLoop=!1,this.historyStateStack=[],this.historyApi=this.window.history,this._handleNavigation=y()(t=this.handleNavigation).call(t,this)}initialize(){var e;this.historyStateStack=[];const t=(null===(e=this.historyApi.state)||void 0===e?void 0:e.state)||this.historyApi.state;return"initial"!==t&&this.setInitialNavigationState(t),this.window.addEventListener("popstate",this._handleNavigation),this}dispose(){this.historyStateStack.length&&(this.historyApi.go(-this.historyStateStack.length),this.historyStateStack=[]),this.window.removeEventListener("popstate",this._handleNavigation)}onNavigation(e){this.navigationHandlers.add(e)}activateLoop(){this.isLoop||(this.isLoop=!0,this.setNavigationState("loop",{replace:!0}))}deactivateLoop(){this.isLoop&&(this.isLoop=!1,this.setNavigationState("initial",{replace:!0}))}callNavigationHandlers(){var e;g()(e=this.navigationHandlers).call(e,(e=>{e()}))}handleNavigationInitialState(){this.historyApi.length>2?this.historyApi.back():this.setNavigationState("initial")}handleNavigation(e){var t;const i=(null===(t=e.state)||void 0===t?void 0:t.state)||e.state,n=null===i||""===i,a="initial"===i;this.historyStateStack.pop(),this.isLoop&&(a||n)&&this.setNavigationState("loop"),this.isLoop||!a&&!n?this.callNavigationHandlers():this.handleNavigationInitialState()}setNavigationState(e,t){(null==t?void 0:t.replace)?this.historyApi.replaceState({state:e},""):(this.historyApi.pushState({state:e},""),this.historyStateStack.push(e))}setInitialNavigationState(e){const t="loop"===e;this.setNavigationState("initial",{replace:t})}}{handleNavigationInitialState(){this.callNavigationHandlers()}}!function(e){e.CHECKOUT_INTENT="checkoutIntent"}(gr||(gr={}));class Cr{constructor(e,t,i,n,a,r){this.globalWindow=e,this.keysKeeper=t,this.checkoutConfiguration=i,this.queryParams=n,this.launcherParams=a,this.isOpenedFromUrl=r}initialize(){this.setUrl(),this.clearUrl(),this.flowNavigationRouter.initialize()}dispose(){return(0,u.mG)(this,void 0,void 0,(function*(){this.flowNavigationRouter.dispose(),yield pr(150),this.urlRouter.clearUrl()}))}onNavigation(e){this.flowNavigationRouter.onNavigation(e)}activateNavigationLoop(){this.flowNavigationRouter.activateLoop()}deactivateNavigationLoop(){this.flowNavigationRouter.deactivateLoop()}get urlRouter(){return this._urlRouter||(this._urlRouter=new mr(this.keysKeeper,this.globalWindow)),this._urlRouter}get flowNavigationRouter(){return this._flowNavigationRouter||(this._flowNavigationRouter=new Sr(this.globalWindow)),this._flowNavigationRouter}clearUrl(){var e;const t=(0,jt.O5)(this.globalWindow.location.search,!1),i={},n=ft()(gr);g()(e=ze()(t)).call(e,(e=>{Be()(n).call(n,e)||(i[e]=t[e])}));const a=(0,jt.f0)(i,!1),r=`${this.globalWindow.location.pathname}${a?`?${a}`:""}`;this.globalWindow.history.replaceState("",this.globalWindow.document.title,r)}setUrl(){var e,t,i;this.urlRouter.disabled=!!this.checkoutConfiguration.showcase;const n=vr.forKey("").addAmount(this.queryParams.amount).addDesignation(this.queryParams.designationId).addModifyDesignation(this.queryParams.modifyDesignation).addRecurring(this.queryParams.recurring).addModifyAmount(this.queryParams.modifyAmount).addFirstName(this.queryParams.firstName).addLastName(this.queryParams.lastName).addEmail(this.queryParams.email).addFundraiseupLivemode(this.queryParams.fundraiseupLivemode).addCustomQueryParams(this.checkoutConfiguration.externalConfig.queryParams);this.urlRouter.checkUrl(),this.urlRouter.setUrl(this.checkoutConfiguration.campaign.customHash||this.checkoutConfiguration.campaign.key,a()(e=n.toString()).call(e,1),null!==(i=null===(t=this.checkoutConfiguration.fundraisingPage)||void 0===t?void 0:t.key)&&void 0!==i?i:"",this.isOpenedFromUrl)}}const br=[fn.CREDIT_CARD,fn.DONATE,fn.DOUBLE,fn.GIFT_AID,fn.PAYMENT_OPTIONS,fn.POST_DONATION_UPSELL,fn.UK_BACS,fn.UPSELL,Fa.COMMENT,Fa.MAILING_ADDRESS,Fa.PRIVACY,Fa.THANK_YOU,Ua.CRYPTO_CURRENCY,qa.STOCK_BROKERAGE,qa.STOCK_SECURITIES,qa.STOCK_SIGNATURE,qa.STOCK_CO_OWNER_SIGNATURE,qa.STOCK_CONFIRMATION];class Ar{format(e,t,i,n,a){return function(e,t,i,n,a){if(r=e,!S()(br).call(br,(e=>e===r)))return{};var r;switch(e){case fn.DONATE:return function(e,t,i,n){var a,r,s,o,c;return{isFiatEnabled:!0,isCryptoEnabled:e.enabledFlows.crypto,isStockEnabled:e.enabledFlows.stock,frequency:{value:e.donation.frequency,options:[e.leftButtonFrequency,e.rightButtonFrequency],editable:e.donation.canModifyFrequency},amountOptions:{selected:Be()(a=e.donation.amountOptions).call(a,null!==(r=e.donation.amount)&&void 0!==r?r:0),values:e.donation.amountOptions,shown:e.donation.amountOptions.length>0},amount:{filled:!!e.donation.amount,value:null!==(s=e.donation.amount)&&void 0!==s?s:0,editable:e.donation.canModifyAmount},currency:{value:e.donation.currency,editable:e.donation.canSelectCurrency},tribute:{filled:e.tribute.isFilled,type:e.tribute.show?e.tribute.labelType:null,shown:e.tribute.show},comment:{shown:e.comment.isEnabled,filled:!!e.comment.content},goal:{value:e.designation.goalKey,editable:e.designation.isEditable,shown:e.designation.show},askPage:{shown:n.getAskPageConfig().show},fundraisingPage:{shown:Boolean((null===(o=n.fundraisingPage)||void 0===o?void 0:o.key)&&"fundraiser"===i.askPageActiveTab)},hint:t.donation.currentHint&&{amount:t.donation.currentHint.amount,description:t.donation.currentHint.description,amountUsd:t.donation.currentHint.amountUsd}||null,hintOptions:(null===(c=t.donation.hintOptions)||void 0===c?void 0:T()(c).call(c,(e=>({amount:e.amount,description:e.description,amountUsd:e.amountUsd,default:e.default}))))||null,hintVariantName:t.donation.hintVariantName||null,aiEnabled:n.campaign.config.enableAI}}(t,i,n,a);case fn.UPSELL:return function(e){var t,i;return{amount:{value:e.upsell.fromAmount},currency:{value:e.currency},smallAmount:{shown:null!==e.lowMonthlyAmount,value:null!==(t=e.lowMonthlyAmount)&&void 0!==t?t:0},bigAmount:{value:null!==(i=e.highMonthlyAmount)&&void 0!==i?i:0,frequency:e.targetFrequency}}}(t);case fn.PAYMENT_OPTIONS:return function(e,t,i){var n,a;const r=B()(n=e.availableOptions).call(n,(t=>e.buttonOptions[t].show));return{coverFees:{checked:e.isFeeCovered,fees:e.processingFee,total:e.total,currency:e.currency},frequency:e.frequency,paymentMethods:r,askPage:{shown:i.getAskPageConfig().show},fundraisingPage:{shown:Boolean((null===(a=i.fundraisingPage)||void 0===a?void 0:a.key)&&"fundraiser"===t.askPageActiveTab)}}}(t,n,a);case fn.GIFT_AID:return function(e){return{shown:!0,textarea:e.legalTextOverflowed}}(t);case fn.CREDIT_CARD:return function(e){return{number:{filled:e.filledFields.cardNumber},expiry:{filled:e.filledFields.cardExpiry},cvc:{filled:e.filledFields.cardCvc}}}(t);case fn.UK_BACS:return function(e){return{accountNumber:{filled:!!e.accountNumber},sortCode:{filled:!!e.sortCode}}}(t);case fn.DOUBLE:return function(e){var t;return{upsell:{currency:e.currency,currentAmount:e.total,matchingFromAmount:e.minimumMatchedAmount,matchingPromisedAmount:e.matchingPromisedAmount,matchingRatio:e.matchingRatio,proposedAmount:e.proposedAmount,proposedAmountBeforeFeeCovered:e.proposedAmountBeforeFeeCovered,show:e.showDTDUpsellExperiment&&e.showDTDUpsell},employer:{filled:!!e.employer.name,filledFromList:S()(t=e.companies).call(t,(t=>{let{company_name:i}=t;return i===e.employer.name}))}}}(t);case fn.POST_DONATION_UPSELL:return function(e){var t,i;return{amount:{value:null!==(t=e.amount)&&void 0!==t?t:0},minAmount:{value:e.recurringMinAmount},total:{value:null!==(i=e.amount)&&void 0!==i?i:0},currency:{value:e.currency},period:{value:e.period}}}(t);case Fa.COMMENT:return function(e){return{comment:{filled:!!e.comment}}}(t);case Fa.PRIVACY:return function(e,t,i){var n;return{firstName:{filled:!!e.firstName},lastName:{filled:!!e.lastName},email:{filled:!!e.email,validated:!1,valid:null},phoneNumber:{shown:e.showPhone,required:e.phoneRequired,filled:!!e.phone},anonymous:{shown:e.showAnonymous,filled:e.anonymousChecked},onBehalfOf:{shown:e.onBehalfOf.isEnabled,filled:!!e.onBehalfOf.companyName},terms:{shown:e.termsAndConditions.isEnabled,checked:e.termsAndConditions.isAccepted},subscription:{shown:e.mailingListSubscription.show,checked:e.mailingListSubscription.show&&e.mailingListSubscription.checked},askPage:{shown:i.getAskPageConfig().show},fundraisingPage:{shown:Boolean((null===(n=i.fundraisingPage)||void 0===n?void 0:n.key)&&"fundraiser"===t.askPageActiveTab)},brokerageAccountNumberFilled:e.brokerageAccountNumber.isEnabled?!!e.brokerageAccountNumber.accountNumber:void 0}}(t,n,a);case Fa.MAILING_ADDRESS:return function(e){return{mailingAddressRequired:e.isRequired,city:{filled:!!e.city},country:{filled:!!e.countryCode,value:e.countryCode},line1:{filled:!!e.line1},line2:{filled:!!e.line2},postal:{filled:!!e.postal},region:{filled:!!e.region,value:e.region}}}(t);case Fa.THANK_YOU:return function(e){return{amount:{value:e.total},currency:{value:e.currency},email:{shown:e.sharing.showEmail},facebook:{shown:e.sharing.showFacebook},linkedin:{shown:e.sharing.showLinkedin},twitter:{shown:e.sharing.showTwitter}}}(t);case Ua.CRYPTO_CURRENCY:return function(e,t,i){var n;return{isFiatEnabled:e.enabledFlows.money,isCryptoEnabled:!0,isStockEnabled:e.enabledFlows.stock,tribute:{filled:e.tribute.isFilled,type:e.tribute.show?e.tribute.labelType:null,shown:e.tribute.show},comment:{shown:e.comment.isEnabled,filled:!!e.comment.content},goal:{value:e.designation.goalKey,editable:e.designation.isEditable,shown:e.designation.show},askPage:{shown:i.getAskPageConfig().show},fundraisingPage:{shown:Boolean((null===(n=i.fundraisingPage)||void 0===n?void 0:n.key)&&"fundraiser"===t.askPageActiveTab)},cryptocurrency:e.currencyCode}}(t,n,a);case qa.STOCK_BROKERAGE:return function(e,t,i){var n;return{isFiatEnabled:e.enabledFlows.money,isCryptoEnabled:e.enabledFlows.crypto,isStockEnabled:!0,tribute:{filled:e.tribute.isFilled,type:e.tribute.show?e.tribute.labelType:null,shown:e.tribute.show},comment:{shown:e.comment.isEnabled,filled:!!e.comment.content},goal:{value:e.designation.goalKey,editable:e.designation.isEditable,shown:e.designation.show},askPage:{shown:i.getAskPageConfig().show},fundraisingPage:{shown:Boolean((null===(n=i.fundraisingPage)||void 0===n?void 0:n.key)&&"fundraiser"===t.askPageActiveTab)},brokerage:e.broker.name}}(t,n,a);case qa.STOCK_SECURITIES:return function(e){var t;return{selectedSecurities:T()(t=e.selectedSecurities).call(t,(e=>({ticker:e.ticker,quantity:e.quantity,price:e.price,stocksAvailable:e.stocksAvailable})))}}(t);case qa.STOCK_SIGNATURE:return function(e){return{signatureFilled:!!e.signature}}(t);case qa.STOCK_CO_OWNER_SIGNATURE:return function(e){return{signatureFilled:!!e.signature,emailFilled:!!e.email,firstNameFilled:!!e.firstName,lastNameFilled:!!e.lastName,fullNameFilled:!!e.fullName}}(t);case qa.STOCK_CONFIRMATION:return function(e){var t;return{brokerage:e.broker.name,coOwner:{filled:!!e.coOwner.fullName,fullName:e.coOwner.fullName,email:e.coOwner.email},owner:{filled:!!e.owner.fullName,fullName:e.owner.fullName,phone:e.owner.phone,email:e.owner.email},securities:T()(t=e.securities).call(t,(e=>({ticker:e.ticker,quantity:e.quantity}))),total:e.total,accountNumber:{filled:!!e.accountNumber,value:e.accountNumber}}}(t);default:throw new Error(`Unknown screen name "${e}"`)}}(e,t,i,n,a)}}var Er;!function(e){e.HISTORY_NAVIGATION="historyNavigation",e.SWIPE_LEFT="swipeLeft"}(Er||(Er={}));var xr,kr=i(7035),wr=i.n(kr),Nr=i(42614),Pr=i.n(Nr);function Dr(e){let t,i,n,a,r,s,o,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(t=3&e.length,i=e.length-t,n=l,r=3432918353,s=461845907,c=0;c<i;)o=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,o=(65535&o)*r+(((o>>>16)*r&65535)<<16)&4294967295,o=o<<15|o>>>17,o=(65535&o)*s+(((o>>>16)*s&65535)<<16)&4294967295,n^=o,n=n<<13|n>>>19,a=5*(65535&n)+((5*(n>>>16)&65535)<<16)&4294967295,n=27492+(65535&a)+((58964+(a>>>16)&65535)<<16);switch(o=0,t){case 3:o^=(255&e.charCodeAt(c+2))<<16;break;case 2:o^=(255&e.charCodeAt(c+1))<<8;break;case 1:o^=255&e.charCodeAt(c),o=(65535&o)*r+(((o>>>16)*r&65535)<<16)&4294967295,o=o<<15|o>>>17,o=(65535&o)*s+(((o>>>16)*s&65535)<<16)&4294967295,n^=o}return n^=e.length,n^=n>>>16,n=2246822507*(65535&n)+((2246822507*(n>>>16)&65535)<<16)&4294967295,n^=n>>>13,n=3266489909*(65535&n)+((3266489909*(n>>>16)&65535)<<16)&4294967295,n^=n>>>16,n>>>0}class Tr{constructor(e){let{clientId:t,name:i,variants:n,sentry:a}=e;this.variants=new(wi()),this.clientId=t,this.name=i,this.sentry=a,g()(n).call(n,(e=>{this.variants.set(e.name,{name:e.name,percent:e.percent,weight:e.weight})})),this.variantSelectors=this.getDistributedSelectors()}get currentVariantName(){return this._currentVariantName}get previousVariantName(){return this._previousVariantName}initCurrentVariantName(){var e,t;const i=this.getSelection(),n=[];g()(e=this.variantSelectors).call(e,((e,t)=>{n.push([t,e])})),this.currentVariantName=null===(t=vt()(n).call(n,(e=>{let[,[t,n]]=e;return i>=t&&i<n})))||void 0===t?void 0:t[0]}setVariant(e){this.variants.has(e)?this.currentVariantName=e:this.sentry.captureException(`5 ${this.name}`)}set currentVariantName(e){this._previousVariantName=this._currentVariantName,this._currentVariantName=e}getSelection(){return this.useNewVariantsDistribution(this.variants)?this.getSelectionV2():Number(Dr(`${this.clientId}:${this.name}`)%1e3)}getSelectionV2(){const e=this.getMaxDistributionValue();return Number(Dr(`${this.clientId}:${this.name}`)%e)}getDistributedSelectors(){var e,t;if(this.useNewVariantsDistribution(this.variants))return this.getDistributedSelectorsV2();let i=0;g()(e=this.variants).call(e,(e=>{let{percent:t}=e;return i+=t})),100!==Math.floor(i)&&this.sentry.captureException(`7 ${this.name} ${i}`);let n=0;const a=new(wi());return g()(t=this.variants).call(t,((e,t)=>{let{percent:i}=e;a.set(t,[10*n,10*n+10*i]),n+=i})),a}getDistributedSelectorsV2(){var e;let t=0;const i=new(wi());return this.assertVariantsWithWeight(this.variants),g()(e=this.variants).call(e,((e,n)=>{let{weight:a}=e;const r=this.getWeightSum(),s=this.getMaxDistributionValue()/r;i.set(n,[t,t+s*a]),t+=s*a})),i}getWeightSum(){var e;let t=0;return this.assertVariantsWithWeight(this.variants),g()(e=this.variants).call(e,(e=>{let{weight:i}=e;return t+=i})),t}getMaxDistributionValue(){return 100*this.variants.size}assertVariantsWithWeight(e){if(!this.useNewVariantsDistribution(e))throw new Error("Every variant should have weight")}useNewVariantsDistribution(e){var t;return wr()(t=[...Pr()(e).call(e)]).call(t,(e=>{let[,{weight:t}]=e;return void 0!==t}))}}class _r{constructor(e){this.experiments=new(wi());const{experimentsSettings:t,tracker:i,funStorage:n,companyKey:a,widgetKey:r,user:s,parentCompanyKey:o,infrastructureParams:c,sentry:l}=e;this.experimentsSettings=t,this.tracker=i,this.funStorage=n,this.companyKey=a,this.parentCompanyKey=o,this.widgetKey=r,this.user=s,this.infrastructureParams=c,this.sentry=l}register(e,t){var i;if(this.experiments.has(e))return;const n=vt()(i=this.experimentsSettings).call(i,(t=>t.name===e));if(!n)return void this.sentry.captureException(`8 "${e}"`);const a=new Tr({clientId:this.tracker.clientId,name:n.name,variants:n.variants,sentry:this.sentry}),r=new t({settings:n,companyKey:this.companyKey,parentCompanyKey:this.parentCompanyKey,tracker:this.tracker,funStorage:this.funStorage,user:this.user,widgetKey:this.widgetKey,infrastructureParams:this.infrastructureParams,sentry:this.sentry,distribution:a});this.experiments.set(e,r)}get(e){if(!this.experiments.has(e)){const t=`9 "${e}"`;throw this.sentry.captureException(t),new Error(t)}return this.experiments.get(e)}}class Or{constructor(e){this.isInitialized=!1,this.excluded=!1,this.isActive=!1;const{settings:t,companyKey:i,widgetKey:n,tracker:a,funStorage:r,user:s,parentCompanyKey:o,infrastructureParams:c,sentry:l,distribution:u}=e;this.sentry=l,this.companyKey=i,this.parentCompanyKey=o,this.widgetKey=n,this.tracker=a,this.funStorage=r,this.user=s,this.infrastructureParams=c;const{id:d,name:h,disabledAccounts:m,enabledAccounts:p,enabled:g,enabledForWidgets:f}=t;this.name=h,this.id=d,this.disabledAccounts=m,this.enabledAccounts=p,this.enabledForWidgets=f,this.enabled=g,this.distribution=u;const y=R()(window.FUN_DISABLED_EXPERIMENTS)?window.FUN_DISABLED_EXPERIMENTS:[],v=!window.FUN||window.FUN.config.allowExperiments;this.globalDisabled=!v||-1!==Da()(y).call(y,d)}get active(){return this.isActive}get variantName(){return this.distribution.currentVariantName}start(e){if(!this.checkDisabled()&&(this.isInitialized=this.init(),this.isInitialized)){this.activate();const e=this.getTags();this.tracker.setEventTags(e)}}getTags(){const e=[this.id,`${this.id}-${this.variantName}`];return this.excluded&&e.push(`${this.id}-exclusion`),e}isVariant(e){return this.variantName===e}setVariant(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.distribution.setVariant(e),this.excluded=t;const i=[this.id];this.tracker.removeEventTags(i);const n=this.getTags();this.tracker.setEventTags(n)}restoreVariant(){this.distribution.previousVariantName&&this.setVariant(this.distribution.previousVariantName,!1)}init(){var e,t,i,n,a;const r=this.getDebugPanelVariant();if(r.variant&&r.enabled)return this.setVariant(r.variant),!0;if(r.enabled&&!r.variant&&(this.excluded=!0),null===(e=this.disabledAccounts)||void 0===e?void 0:vt()(e).call(e,(e=>e===this.companyKey)))return!1;const s=null===(t=this.enabledAccounts)||void 0===t?void 0:vt()(t).call(t,(e=>e===this.companyKey));if((null===(i=this.enabledAccounts)||void 0===i?void 0:i.length)&&!s)return!1;const o=null===(n=this.enabledForWidgets)||void 0===n?void 0:vt()(n).call(n,(e=>e===this.widgetKey));return!((null===(a=this.enabledForWidgets)||void 0===a?void 0:a.length)&&!o||(this.distribution.initCurrentVariantName(),0))}activate(){this.isActive?this.sentry.captureException(`4 ${this.name}`):this.isActive=!0}checkDisabled(){const e=this.getDebugPanelExperimentsSettings();if(e){const t=e[this.name];if(t&&t.enabled)return!1}return!this.enabled||this.globalDisabled}getDebugPanelExperimentsSettings(){const e=this.funStorage.get();return"object"!=typeof e?(this.sentry.captureException("6"),null):e}getDebugPanelVariant(){const e=this.funStorage.get();if(!e)return{enabled:!1};const t=e[this.name];return t&&(null==t?void 0:t.enabled)?{enabled:!0,variant:t.variant}:{enabled:!1}}}class Ir extends Or{}!function(e){e.DUMMY_EXPERIMENT="DummyExperiment",e.UPSELL_BUTTONS_EXPERIMENT="UpsellButtonsExperiment",e.UPSELL_EVERY_4_WEEKS_EXPERIMENT="UpsellEvery4WeeksExperiment",e.UPSELL_CURTAIN_EXPERIMENT="UpsellCurtainExperiment",e.SUGGESTED_PRESET_AMOUNTS_V_3_EXPERIMENT="SuggestedPresetAmountsV3Experiment",e.CHECKOUT_BUNDLE_EXPERIMENT="CheckoutBundleExperiment",e.MOBILE_FIRST_PAGES_EXPERIMENT="MobileFirstPagesExperiment",e.SOCIAL_PROOF_REDESIGN_EXPERIMENT="SocialProofRedesignExperiment"}(xr||(xr={}));const Rr={[xr.DUMMY_EXPERIMENT]:"33802",[xr.UPSELL_BUTTONS_EXPERIMENT]:"43509",[xr.UPSELL_EVERY_4_WEEKS_EXPERIMENT]:"51252",[xr.UPSELL_CURTAIN_EXPERIMENT]:"43030",[xr.SUGGESTED_PRESET_AMOUNTS_V_3_EXPERIMENT]:"53335",[xr.CHECKOUT_BUNDLE_EXPERIMENT]:"61172",[xr.MOBILE_FIRST_PAGES_EXPERIMENT]:"58523",[xr.SOCIAL_PROOF_REDESIGN_EXPERIMENT]:"45953"};var Lr,jr,Mr,Fr,Ur,Br,Gr,qr,Kr;!function(e){e.EMBED="embed",e.CAMPAIGN_PAGES="campaignPages",e.DONOR_PORTAL="donorPortal"}(Lr||(Lr={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(jr||(jr={})),function(e){e.CONTROL="control",e.TEST="test"}(Mr||(Mr={})),function(e){e.CONTROL="control",e.TEST="test"}(Fr||(Fr={})),function(e){e.CONTROL="control",e.TEST="test"}(Ur||(Ur={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(Br||(Br={})),function(e){e.TEST_1="test-1",e.TEST_2="test-2"}(Gr||(Gr={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(qr||(qr={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(Kr||(Kr={}));const Vr={id:Rr[xr.DUMMY_EXPERIMENT],name:xr.DUMMY_EXPERIMENT,enabled:!1,scope:Lr.EMBED,variants:[{name:Mr.CONTROL,percent:50},{name:Mr.TEST,percent:50}]},Hr={id:Rr[xr.UPSELL_BUTTONS_EXPERIMENT],name:xr.UPSELL_BUTTONS_EXPERIMENT,enabled:!1,scope:Lr.EMBED,variants:[{name:Fr.CONTROL,percent:50},{name:Fr.TEST,percent:50}]},Yr={id:Rr[xr.UPSELL_EVERY_4_WEEKS_EXPERIMENT],name:xr.UPSELL_EVERY_4_WEEKS_EXPERIMENT,enabled:!1,scope:Lr.EMBED,variants:[{name:Ur.CONTROL,percent:50},{name:Ur.TEST,percent:50}]},Zr={id:Rr[xr.UPSELL_CURTAIN_EXPERIMENT],name:xr.UPSELL_CURTAIN_EXPERIMENT,enabled:!1,scope:Lr.EMBED,variants:[{name:Br.CONTROL,percent:33},{name:Br.TEST_1,percent:33},{name:Br.TEST_2,percent:33},{name:Br.TEST_3,percent:1}]},$r={id:Rr[xr.SUGGESTED_PRESET_AMOUNTS_V_3_EXPERIMENT],name:xr.SUGGESTED_PRESET_AMOUNTS_V_3_EXPERIMENT,enabled:!1,scope:Lr.EMBED,variants:[{name:Br.CONTROL,percent:45},{name:Gr.TEST_1,percent:45},{name:Gr.TEST_2,percent:10}]};var zr=i(24140);class Wr extends Or{constructor(){super(...arguments),this._openListeners=new(q()),this._closeListeners=new(q())}get isTestGroup(){return this.active&&!this.isVariant(Br.CONTROL)&&!this.isVariant(Br.TEST_3)}canOpenUpsellCurtain(e){return this.isTestGroup&&e.preDonationUpsellIsEnabled&&!this.isTributeAnnualUpsell(e.tributeIsFilled,e.targetFrequency)}canBeStarted(e){var t;return!!e.preDonationUpsellIsEnabled&&!!Be()(t=Wr.INCLUDED_LOCALES).call(t,e.locale)&&e.currentFrequency===zr.E.ONCE&&!this.isTributeAnnualUpsell(e.tributeIsFilled,e.targetFrequency)}tryStartUpsellEvery4WeeksExperiment(e){e.upsellEvery4WeeksExperiment.start({localeCode:e.locale,recurringPlans:e.recurringPlans,isTributeFilled:e.tributeIsFilled})}tryStart(e){this.active||this.canBeStarted(e)&&this.start(e)}openCurtain(){var e;this.trackCurtainOpen(),g()(e=this._openListeners).call(e,(e=>e()))}closeCurtain(){var e;this.trackCurtainClose(),g()(e=this._closeListeners).call(e,(e=>e()))}onCurtainOpen(e){return this._openListeners.add(e),()=>this._openListeners.delete(e)}onCurtainClose(e){return this._closeListeners.add(e),()=>this._closeListeners.delete(e)}onBackDropClose(e){return this._onBackDropCloseListener=e,()=>this._onBackDropCloseListener=void 0}closeCurtainOnBackDrop(){this._onBackDropCloseListener&&this._onBackDropCloseListener()}isTributeAnnualUpsell(e,t){return e&&t===zr.E.ANNUAL}trackCurtainOpen(){this.tracker.customTrack({type:"upsellCurtainExperimentOpen"})}trackCurtainClose(){this.tracker.customTrack({type:"upsellCurtainExperimentClose"})}}Wr.INCLUDED_LOCALES=[rn.c.EN_US,rn.c.EN_GB,rn.c.EN_CA];const Xr=[rn.c.EN_US,rn.c.EN_GB,rn.c.EN_CA];class Qr extends Or{constructor(){super(...arguments),this.enabledForLocales=Xr}start(e){const t=e;!this.isActive&&this.shouldStart(t)&&super.start()}get isTestGroup(){return this.isActive&&this.isVariant(Ur.TEST)}get frequency(){return this.isTestGroup?zr.E.EVERY_4_WEEKS:zr.E.MONTHLY}shouldStart(e){var t;return!!e.recurringPlans.every4weeks&&!!Be()(t=this.enabledForLocales).call(t,e.localeCode)&&!e.isTributeFilled}}class Jr extends dt{constructor(e,t,i,n,a,r,s,o,c){super(),this.embedTracker=e,this.debug=t,this.keysKeeper=i,this.checkoutViewEventEmitter=n,this.targetWindow=a,this.globalWindow=r,this.params=s,this.servicesFactoryMap=o,this.sentryInstance=c;const l=this.createCoreInstances();this.flowManager=l.flowManager,this.intl=l.intl,this.trackerCheckout=l.trackerCheckout,this.experiments=l.experiments,this.currencyService=l.currencyService,this.checkoutConfiguration=l.checkoutConfiguration,this.checkoutAPIBridge=l.checkoutAPIBridge,this.checkoutRouter=l.checkoutRouter,this.logger=l.logger,this.userInteraction=l.userInteraction,this.currencyFilter=l.currencyFilter,this.checkoutCurrencyFormatter=l.checkoutCurrencyFormatter}setLocale(e){return(0,u.mG)(this,void 0,void 0,(function*(){yield this.intl.setLocale(e||this.intl.locale)}))}initializePublicJsApi(){}initializePageGuardManager(){}initializeCookieConsent(){}initializeUserSession(){}initializeRouter(){this.checkoutConfiguration.infrastructureParams.showcase||this.checkoutRouter.initialize()}initializeTracker(){this.trackerCheckout.initialize()}initializeExperiments(){this.experiments.register(xr.UPSELL_CURTAIN_EXPERIMENT,Wr),this.experiments.register(xr.UPSELL_EVERY_4_WEEKS_EXPERIMENT,Qr)}initializeCurrencyService(){return(0,u.mG)(this,void 0,void 0,(function*(){yield function(e,t,i){return(0,m.mG)(this,void 0,void 0,(function*(){e.loadFiat(i),mi(t)&&(yield e.loadCrypto())}))}(this.currencyService,this.checkoutConfiguration,this.intl)}))}initializeCurrencyFilter(){return(0,u.mG)(this,void 0,void 0,(function*(){yield function(e,t,n){return(0,m.mG)(this,void 0,void 0,(function*(){if(function(){try{Intl.NumberFormat("fr-FR",{style:"currency",currency:"VND",currencyDisplay:"narrowSymbol",minimumFractionDigits:0,maximumFractionDigits:0}).format(8e3)}catch(e){return!1}return!0}())mi(n)&&(yield e.loadCrypto());else{const e=yield function(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield i.e(6661).then(i.bind(i,30306));return{formatCurrency:e.currencyFilter,formatSymbol:(e,t)=>t===Qt.PREFIX?e:"",getCurrencyFormat:e.getCurrencyFormat,loadCrypto:()=>Fe().resolve()}}))}();t.replaceCurrencyFilter(e)}}))}(this.currencyFilter,this.checkoutCurrencyFormatter,this.checkoutConfiguration)}))}subscribeOnUserInteraction(){return this.userInteraction.subscribeOnUserInteraction((()=>{this.trackerCheckout.ping()}))}subscribeOnHistoryInteraction(){this.checkoutRouter.onNavigation((()=>{const e=this.flowManager.getCurrentFlow();e.isCurrentScreenFirst()||e.isCurrentScreenLast()?this.checkoutViewEventEmitter.emit("should-hide",{}):this.flowManager.checkoutService.canGoBack&&e.prev()})),this.checkoutRouter.onNavigation((()=>{this.trackerCheckout.customTrack({type:Er.HISTORY_NAVIGATION})})),this.flowManager.onScreenChanged((()=>{const e=this.flowManager.getCurrentFlow();e.isCurrentScreenFirst()||e.isCurrentScreenLast()?this.checkoutRouter.deactivateNavigationLoop():this.checkoutRouter.activateNavigationLoop()}))}startFlow(e){return(0,u.mG)(this,void 0,void 0,(function*(){const t=e||function(e,t,i,n){var a;const r=e.externalConfig;return(null===(a=r.checkoutData)||void 0===a?void 0:a.screen)&&i(r.checkoutData.screen)?r.checkoutData.screen:function(e){var t,i,n,a,r,s;const o=e.campaign.config,c=e.externalConfig,l=o.tribute.show,u=null===(i=null===(t=c.checkoutData)||void 0===t?void 0:t.tribute)||void 0===i?void 0:i.inHonorOf,d=null===(a=null===(n=c.checkoutData)||void 0===n?void 0:n.tribute)||void 0===a?void 0:a.type,h=o.showComment,m=!1!==(null===(r=c.checkoutData)||void 0===r?void 0:r.modifyAmount),p=!1!==(null===(s=c.checkoutData)||void 0===s?void 0:s.modifyDesignation),g=o.frequencies,f=o.displayGoal!==Kt.WITHOUT&&o.goals.length>1,y=[Ot.DONATION_FORM,Ot.SIMPLE_FORM,Ot.BUTTON_GROUP,Ot.IMPACT_SLIDER],v=e.element.type;if(!v)return!1;const S=v===Ot.DONATION_FORM,C=m&&!Be()(y).call(y,v),b=p&&!S,A=Cn(g);return!((S?(!u||!d)&&(u||d):l)||h||b&&f||C||!S&&A)}(e)&&function(e,t,i){var n,a,r;let s=null===(n=e.checkoutData)||void 0===n?void 0:n.recurring;const o=!Cn(t.frequencies);!s&&o&&(s=Nt.getDefaultFrequencyWithOverride(t.frequencies,null));const c=(null===(a=e.checkoutData)||void 0===a?void 0:a.amount)||0,l=(null===(r=e.checkoutData)||void 0===r?void 0:r.currency)||t.defaultCurrency;if(!s||!c||!l)return!1;const u=t.frequencies[s].minAmount,d=Sn.convertMinAmount(i,u||0,t.defaultCurrency,l),h=c.toString().length>8;return!(c<d||h)}(r,e.campaign.config,t)?n.screenSet.paymentOptions:void 0}(this.checkoutConfiguration,this.currencyService,Va,{screenSet:{paymentOptions:fn.PAYMENT_OPTIONS}});yield this.flowManager.setInitialScreen(t).startDefaultFlow()}))}createCoreInstances(){var e,t;const i=function(e){const t=function(e){const t=e.customFields;if(!t)return e;for(const i of t)e[i.name]=i.value;return Ne()(e,"customFields")}(_e(e));return x()({},De()(t,ke()))}(this.params.externalConfig.queryParams||{}),n=Ei.format(this.params.externalConfig.queryParams||{}),a=(null===(e=this.params.externalConfig.launcher)||void 0===e?void 0:e.elementType)===Ot.DIRECT_LINK,r={livemode:this.params.livemode,env:this.params.env,isMobile:this.params.isMobile,showcase:this.params.showcase,isDevelopmentMode:gn(),OS:this.params.browserData.os.name||"",browser:this.params.browserData.browser.name||"",isInAppBrowser:this.params.browserData.isInAppBrowser,isSSLEnabled:"https:"===window.location.protocol},c=new Xt(this.params.resolvedConfig,this.params.embedCompanies,this.params.externalConfig,n,r,this.params.integrations,i,{cdnUrl:o},{checkoutType:w.MODAL},this.globalWindow,this.params.infrastructureQueryParams,this.params.test),l=new Cr(this.globalWindow,this.keysKeeper,c,n,i,a),u=function(e,t,i){const n=function(e,t){var i;return x()(x()({},e),mt()(T()(i=ei()(t)).call(i,(e=>{let[i]=e;var n;return[i,Number(null!==(n=t[i])&&void 0!==n?n:1)]}))))}(e,t.cryptoCurrencies),a=new hi;return new ui(a,n,i)}(this.params.currencyRates,c,this.sentryInstance),d=new hn(u),m=new zi(new hi),p=new Wi(sn.DEFAULT_LOCALE,m),g=function(e,t,i){const n=new Wa(e,{defaultLocale:t.campaign.config.localization.defaultLocale,useCompanyInterfaceLocales:t.campaign.config.localization.useCompanyInterfaceLocales,supportedLanguages:[...t.campaign.config.localization.supportedLanguages]},{interfaceLocales:[...t.company.localization.interfaceLocales]}).getUILocale();return function(e){let{dateFormatter:t,currencyFormatter:i,numberFormatter:n,availableLocales:a=[sn.DEFAULT_LOCALE],translationLoader:r,locale:s=sn.DEFAULT_LOCALE,phrases:o}=e;const c=new $a(s,o),l=new za(c,r);return new sn(l,t,i,n,{locale:s,availableLocales:a})}({dateFormatter:new Ha(sn.DEFAULT_LOCALE),currencyFormatter:i,numberFormatter:new Qa(sn.DEFAULT_LOCALE),availableLocales:Ge.dI,translationLoader:new Ja,locale:n})}(this.params.localeCode,c,p),f=new Ar,y=new ja(this.embedTracker,c,u,g.locale,this.targetWindow,this.params.trackingUrls.checkout,f,this.params.checkoutOpenTimestamp),v=y.checkoutViewId,S=ln(),C=(b={sentry:this.sentryInstance,requestService:S,createFundraiseupAddressProvider:(e,t)=>new kn(e,S,t,v),baseURL:s,locale:g.locale},new Ki(b.createFundraiseupAddressProvider,b.sentry,b.requestService,{locale:b.locale,baseURL:b.baseURL,fundraiseupAddressProviderHeaders:b.fundraiseupAddressProviderHeaders}));var b;const A=new je(new Le(function(){const e=new tn(Qi.OBJECT),t=new Dn(Re),i=new Nn(e,t,window.FUN_DISABLE_NEW_COOKIES),n=new Pn(e,t,window.FUN_DISABLE_NEW_COOKIES);return new _n(i,n,window.FUN_DISABLE_NEW_COOKIES)}(),{env:this.params.env,allowWrite:!0})),E=c.company,k=this.params.livemode?Tt.LIVE:Tt.TEST,N=ut({publicKey:this.params.paymentMethods.stripePublicKey[k],targetWindow:this.targetWindow,locale:g.locale,stripeAccount:E.stripeAccount},this.sentryInstance),P=ut({publicKey:this.params.paymentMethods.stripePublicKey[k],targetWindow:this.globalWindow,locale:g.locale,stripeAccount:E.stripeAccount},this.sentryInstance),D=function(e,t){const i=ze()(Qi);if(!vt()(i).call(i,(e=>Qi[e]===t)))throw new Error(`10 ${t}`);return new Xi(e,new tn(t))}(Ji.EXPERIMENTS,Qi.OBJECT),_=new _r({companyKey:E.key,parentCompanyKey:E.parentKey,widgetKey:c.campaign.key,tracker:y,experimentsSettings:(O=this.params.experimentsConfig,T()(I=[Vr,Hr,Yr,Zr,$r]).call(I,(e=>{var t;const i=vt()(t=O.experiments).call(t,(t=>t.experimentId===e.id));return i?{id:e.id,enabledForWidgets:e.enabledForWidgets,name:i.name,enabled:i.enabled,variants:i.variants,disabledAccounts:i.disabledAccounts,enabledAccounts:i.enabledAccounts}:e}))),user:c.user,funStorage:D,infrastructureParams:c.infrastructureParams,sentry:this.sentryInstance});var O,I;_.register(xr.DUMMY_EXPERIMENT,Ir),_.get(xr.DUMMY_EXPERIMENT).start();const R=new(h()),L=new pt(c),j=function(e){let{userSession:t,livemode:i,window:n,tracker:a,currencyService:r,company:s,keysKeeper:o,campaignData:c,enabledByDefault:l}=e;const u={defaultCurrency:s.defaultCurrency,trackToMarketingPixels:s.trackToMarketingPixels};return new Ee(t,i,n,a,r,u,c,o,l)}({userSession:A,livemode:r.livemode,window:window,currencyService:u,tracker:y,keysKeeper:this.keysKeeper,company:{defaultCurrency:c.company.defaultCurrency,trackToMarketingPixels:{campaignPage:c.company.trackToMarketingPixels.campaignPage,checkoutModal:c.company.trackToMarketingPixels.checkoutModal,trackTestData:c.company.trackToMarketingPixels.trackTestData,googleTagManagerContainers:[...null!==(t=c.company.trackToMarketingPixels.googleTagManagerContainers)&&void 0!==t?t:[]]}},campaignData:{key:c.campaign.key,name:c.campaign.name,customHash:c.campaign.customHash,xFactor:c.campaign.config.xFactor,checkoutType:w.MODAL},enabledByDefault:!0}),M=ln(),F=function(e){return function(e){const t=e||new Aa;return new Ea(t)}(new ba(e))}(g),U=function(e,t,i){const n=new Ca(e,{intlService:t,subscriptionPeriodLabelsService:i}),a=new ya(n);return new Ln(In,a)}(p,g,F);return{flowManager:new On(R,c,g,y,this.debug,u,d,this.targetWindow,this.globalWindow,this.sentryInstance,this.params.paymentMethods,N,P,A,C,L,_,this.servicesFactoryMap,j,M,F,U,{stripe:{elementsOptions:nr,elementStyles:tr,elementClasses:ir},screenSet:{creditCard:fn.CREDIT_CARD}}),intl:g,trackerCheckout:y,experiments:_,currencyService:u,checkoutConfiguration:c,checkoutAPIBridge:L,checkoutRouter:l,logger:j,userInteraction:new mn(this.targetWindow),currencyFilter:m,checkoutCurrencyFormatter:p}}}var es=i(52322),ts=i(17029),is=i(2784),ns=i(56641),as=i(14090),rs=i(37004);class ss extends is.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){if(!this.context)throw new Error("SentryService is not provided");this.context.captureException(e,{extra:{componentStack:t.componentStack}})}render(){return this.state.hasError?(0,es.jsx)("h1",{children:this.props.fallback||"something went wrong"}):this.props.children}}ss.contextType=rs.E;const os=(0,is.createContext)(null);function cs(){const e=(0,is.useContext)(os);if(!e)throw new Error("currency service is not provided");return e}const ls=(0,is.createContext)(null);function us(){const e=(0,is.useContext)(ls);if(!e)throw new Error("Experiments is not provided");return e}const ds=(0,is.createContext)(null);function hs(){const e=(0,is.useContext)(ds);if(!e)throw new Error("FlowManager is not provided");return e}function ms(e){const t=function(e){const t=hs(),[i,n]=(0,is.useState)((()=>t.getCurrentFlow().getScreen(e))),a=function(){const e=(0,is.useRef)(!1);return(0,is.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}();return(0,is.useEffect)((()=>{let i=t.getCurrentFlow();const r=t.onScreenChanged((()=>{a.current&&n(i.getScreen(e))})),s=t.onFlowChanged((()=>{const n=t.getCurrentFlow();n.checkHasScreen(e)&&(i=n)}));return()=>{s(),r()}}),[t,e,a]),i}(e);return{controller:t,state:function(e){const[t,i]=(0,is.useState)((()=>e.getScreenData()));return(0,is.useEffect)((()=>{const t=()=>i(e.getScreenData());return t(),e.onUpdate(t),()=>e.removeUpdateListener(t)}),[e]),t}(t)}}const ps=(0,is.createContext)(null);function gs(){const e=(0,is.useContext)(ps);if(!e)throw new Error("Tracker is not provided");return e}const fs=(0,is.createContext)(null);function ys(){const e=(0,is.useContext)(fs);if(!e)throw new Error("View event emitter was not provided");return e}var vs,Ss=i(38002),Cs=i(86010),bs=i(3726);!function(e){e.CLICK_SHOWCASE="click-showcase"}(vs||(vs={}));var As=i(91758),Es=i(86843),xs=i(61643);const ks=(0,is.createContext)(!1);function ws(){return(0,is.useContext)(ks)}var Ns=i(9060);const Ps=["button","input","select","textarea","iframe","object","embed","a","[tabindex]","[href]","[contenteditable]"].join(", ");function Ds(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[i,n]=(0,is.useState)(),r=(0,is.useRef)(null),s=(0,is.useRef)(null),o=(0,is.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!r.current)throw new Error("Trap start element ref was not passed");if(!s.current)throw new Error("Trap stop element ref was not passed");if(!e.current)throw new Error("Root element ref was not passed");const i=e.current.querySelectorAll(Ps);let n=a()([]).call(i);n=B()(n).call(n,(e=>e!==r.current&&e!==s.current)),t&&(n=_a()(n).call(n)),n.length&&n[0].focus()}),[e]),c=(0,is.useCallback)((e=>{if(!t){if(!r.current)throw new Error("Trap start element ref was not passed");if(!s.current)throw new Error("Trap stop element ref was not passed");e.target===r.current&&o(i!==s.current),e.target===s.current&&o(i===r.current)}}),[o,i,t]),l=(0,is.useCallback)((e=>{t||n(e.target)}),[t]);return{trapStartRef:r,trapStopRef:s,handleFocus:c,handleBlur:l}}var Ts=i(10429);const _s=(0,is.createContext)(!1);function Os(){const e=hs(),[t,i]=(0,is.useState)(e.checkoutService);return(0,is.useEffect)((()=>e.onFlowChanged((()=>{i(e.checkoutService)}))),[e]),t}function Is(){const e=Os(),[t,i]=(0,is.useState)((()=>e.getState()));return(0,is.useEffect)((()=>(i(e.getState()),e.onStateUpdate((()=>{i(e.getState())})))),[e]),t}function Rs(){const e=Os(),[t,i]=(0,is.useState)((()=>e.checkoutUIState));return(0,is.useEffect)((()=>(i((t=>{const i=e.checkoutUIState;return e.checkoutUIState.askPageActiveTab=t.askPageActiveTab,i})),e.onStateUpdate((()=>{i(e.checkoutUIState)})))),[e]),t}const Ls=e=>window.matchMedia(`(min-width: ${e}px)`),js={sm:536,lg:916};function Ms(e){return function(e){const t=(0,is.useRef)(Ls(e)),[i,n]=(0,is.useState)(Ls(e).matches);return(0,is.useEffect)((()=>{const e=t.current,i=e=>{n(e.matches)};return e.addListener(i),()=>e.removeListener(i)}),[]),i}(js[e])}var Fs=i(81427);const Us=e=>{const{tab:t,setActiveTab:i}=e,n=(0,Fs.Y)(),a=(0,Ns.q)();return(0,es.jsx)("div",{className:a("campaign-tabs-holder"),role:"tablist",children:(0,es.jsxs)("div",{className:"campaign-tabs",children:[(0,es.jsx)("button",{type:"button",className:(0,Cs.Z)("campaign-tab",{active:"fundraiser"===t}),onClick:()=>i("fundraiser"),"data-qa":"p2p-component-button","data-tracking-element-name":"switchToFundraisingPageTab",role:"tab","aria-selected":"fundraiser"===t,children:n.translate("askPageScreen.reason")}),(0,es.jsx)("button",{type:"button",className:(0,Cs.Z)("campaign-tab",{active:"cause"===t}),onClick:()=>i("cause"),"data-qa":"ask-component-button","data-tracking-element-name":"switchToAskPageTab",role:"tab","aria-selected":"cause"===t,children:n.translate("askPageScreen.designation")})]})})},Bs=e=>{var t;const i=(0,As.S)(),n=(0,Ns.q)();return(0,es.jsx)("div",{className:(0,Cs.Z)(n("campaign-links-wrap"),e.className),children:(0,es.jsx)("div",{className:n("campaign-links"),children:T()(t=e.links).call(t,((e,t)=>(0,es.jsxs)(is.Fragment,{children:[!!t&&!i&&(0,es.jsx)("span",{className:(0,Cs.Z)("text-gray-60 px-1-5",i?"link-2":"link-3"),"aria-hidden":"true",children:""}),(0,es.jsx)("a",{href:e.url,className:n("campaign-link"),target:"_blank",rel:"noreferrer","data-tracking-element-name":"askPageLink","data-qa":"ask-link",children:e.label})]},t)))})})};var Gs=(0,is.memo)(Bs);const qs=e=>{const t=(0,As.S)(),i=(0,Ns.q)(),n=!!e.links.length;return(0,es.jsxs)(es.Fragment,{children:[(e.title||e.description)&&(0,es.jsxs)("div",{className:"min-h-0","data-qa":"ask-component",children:[!e.hideTitle&&e.title&&(0,es.jsx)("h2",{className:i("campaign-title"),"data-qa":"ask-title",dangerouslySetInnerHTML:{__html:e.title},dir:"auto"}),e.showText&&e.description&&(0,es.jsx)("p",{"data-qa":"ask-message",className:(0,Cs.Z)(i("campaign-text"),{"mt-0":!e.title,"campaign-text-sm":n&&e.title,"campaign-text-md":n&&!e.title||!n&&e.title,"campaign-text-lg":!n&&!e.title}),dangerouslySetInnerHTML:{__html:e.description},dir:"auto"})]}),!t&&n&&(0,es.jsx)(Gs,{links:e.links})]})};class Ks{static calculateProgressData(e){const t=Ks.round(e.currentAmount/e.targetAmount),i=e.increaseAmount?Ks.round(e.increaseAmount/e.targetAmount):0,n=e.increaseAmount?Ks.applyMinIncreasePercent(i):0,a=e.unlimitedProgress?t:Ks.limitMaxPercent(t),r=e.unlimitedProgress?n:Math.min(n,Ks.MAX_PROGRESS-a),s=t+i,o=e.currentAmount+(e.increaseAmount||0);return{progressPercent:a,progressIncreasePercent:r,totalProgressPercent:e.unlimitedProgress?s:Math.min(s,Ks.MAX_PROGRESS),totalAmount:o,isDone:s>=Ks.MAX_PROGRESS}}static round(e){return Math.round(1e3*e)/10}static limitMaxPercent(e){return Math.min(e,Ks.MAX_PROGRESS)}static applyMinIncreasePercent(e){return Math.max(e,Ks.MIN_INCREASE_PERCENT)}}Ks.MAX_PROGRESS=100,Ks.MIN_INCREASE_PERCENT=4;var Vs=i(50504);const Hs=e=>{const{fundraiser:t,userAmount:i}=e,n=(0,Fs.Y)(),a=(0,Vs.S)(),r=ws(),s=t.goalAmount||1,o=Ks.calculateProgressData({currentAmount:t.donationsAmount||0,targetAmount:s,increaseAmount:i}),c=o.progressPercent,l=!!i,u=o.isDone,d=r&&l?o.progressIncreasePercent:null,h=function(e,t,i){return(t?100-t-e:100)*(i?1:-1)}(o.progressPercent,d,a),m={transform:`translate3d(${h}%, 0, 0)`},p={width:`${c}%`,borderLeft:a&&c>0&&c<100?"1px solid #fff":void 0,borderRight:!a&&c>0&&c<100?"1px solid #fff":void 0};return(0,es.jsxs)("div",{className:e.className,children:[(0,es.jsx)("p",{className:"subtitle-4 text-truncate","data-qa":"fundraiser-display-name",children:t.name}),(0,es.jsx)("div",{className:"my-1",children:(0,es.jsxs)("div",{className:"campaign-meter",children:[(0,es.jsx)("div",{className:(0,Cs.Z)("campaign-meter-progress-increase",{"campaign-meter-done":u}),"data-testid":"progress-increase",style:m}),(0,es.jsx)("div",{className:(0,Cs.Z)("campaign-meter-progress",{"campaign-meter-hidden":!r,"campaign-meter-done":u}),"data-testid":"progress",style:p,children:(c>20||!l)&&(0,es.jsxs)("div",{className:(0,Cs.Z)("campaign-meter-percent",{"campaign-meter-percent-right":c<20}),"data-qa":"raised-percent",children:[c,"%"]})})]})}),(0,es.jsxs)("div",{className:"body-3 d-flex justify-content-between",children:[(0,es.jsx)("div",{className:"pe-1","data-qa":"fundraiser-raised-amount",children:n.translate("common.fundraisingPageMeter.raisedAmountText",{amount:n.formatCurrency(t.donationsAmount||0,{currency:t.currency||"USD"})})}),(0,es.jsx)("div",{className:"ps-1 text-right","data-qa":"fundraiser-goal-amount",children:n.translate("common.fundraisingPageMeter.goalAmountText",{amount:n.formatCurrency(t.goalAmount||0,{currency:t.currency||"USD"})})})]})]})},Ys=(0,is.memo)(Hs);function Zs(){const e=(0,is.useRef)();return void 0===e.current&&(e.current=he()),e.current}const $s=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:(0,Cs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:"17",viewBox:"0 0 23 17",width:"23",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsx)("clipPath",{id:`a-${t}`,children:(0,es.jsx)("path",{d:"m0 0h23v17h-23z"})}),(0,es.jsxs)("g",{clipPath:`url(#a-${t})`,clipRule:"evenodd",fillRule:"evenodd",children:[(0,es.jsx)("path",{d:"m22.2969 0c-.8672 1.46655-3.7617 6.01807-8.2266 9.52246-5.39647 4.23534-13.499988 5.99994-13.499988 5.99994s5.046878-2.8235 6.499998-7.99994c1.10547-3.93921-1.07226-6.51587-2.17578-7.52246z",fill:"#fff"}),(0,es.jsx)("path",{d:"m7.55191 7.65746c.77276-2.75336.03501-4.90001-.89849-6.3473-.34341-.532424-.71273-.96995-1.0419-1.31016h-1.49731c.01863.0139417.04001.0301894.06389.0487302.10229.0794108.25003.2005208.42446.3622868.34964.324253.80182.807553 1.2105 1.441163.81179 1.25859 1.45612 3.11195.77605 5.53506-.69276 2.46832-2.24912 4.39336-3.65535 5.71146-.70079.6569-1.35754 1.1566-1.83782 1.4913-.239927.1673-.435221.2929-.569177.3759-.06696.0415-.11854.0724-.152646.0924l-.037771.022-.008553.0049-.001621.0009.000718.0012.350605.9231c-.000919-.0033-.009786-.0417-.106988-.4881l.106988.4881h.00157l.005114-.0011.018933-.0043.071831-.0163c.062651-.0144.154403-.0359.272607-.0647.2364-.0576.57873-.1442 1.0058-.2614.85387-.2343 2.04806-.5911 3.41269-1.0815 2.72174-.9783 6.15406-2.5 8.91316-4.66543 2.7453-2.15464 4.9007-4.69229 6.3676-6.68516.7343-.9977 1.2984-1.86198 1.6796-2.478191.1907-.308179.3358-.554524.4336-.7247323.0055-.0094298.0107-.0186262.0159-.0275867h-1.1613c-.043.0708235-.0892.146313-.1386.226197-.3693.597029-.9185 1.438623-1.6346 2.411523-1.4341 1.9483-3.5286 4.41065-6.1796 6.49131-2.6371 2.06977-5.95479 3.54807-8.63399 4.51097-.75169.2702-1.45055.4989-2.06666.688.18093-.1557.36719-.3223.55648-.4997 1.48056-1.3878 3.17421-3.4627 3.93428-6.17084z",fill:"#c7cdd6"})]})]})},zs=(0,is.memo)($s),Ws=window.devicePixelRatio>1?"128x128":"64x64",Xs=e=>{const{fundraiser:t}=e,i=(0,As.S)(),n=(0,is.useMemo)((()=>{var e;const i=null===(e=t.image)||void 0===e?void 0:e.uuid;return i?`https://ucarecdn.com/${i}/-/preview/${Ws}/-/format/auto/`:null}),[t]),a=(0,is.useMemo)((()=>({backgroundImage:n?`url("${n}")`:void 0})),[n]);return(0,es.jsxs)("div",{"data-qa":"p2p-component",children:[(0,es.jsxs)("div",{className:(0,Cs.Z)("campaign-quote-bubble",i?"mb-6":"mb-10"),children:[(0,es.jsx)("p",{className:"text-line-clamp-3","data-qa":"fundraiser-message",children:t.message}),(0,es.jsx)(zs,{className:"campaign-quote-bubble-edge",ariaHidden:!0})]}),(0,es.jsxs)("div",{className:"d-flex align-items-start",children:[n&&(0,es.jsx)("div",{className:"campaign-fundraiser-photo flex-shrink-0 mt-1 me-4",style:a,"data-qa":"fundraiser-photo","data-src":n}),(0,es.jsx)(Ys,{className:"flex-grow-1",fundraiser:t,userAmount:e.userAmount})]})]})},Qs=window.devicePixelRatio>1,Js=()=>{const e=(0,Ns.q)(),t=cs(),i=Os(),n=Rs(),a=function(){const e=hs(),[t,i]=(0,is.useState)((()=>e.getCurrentFlow().getCurrentScreen().name));return(0,is.useEffect)((()=>e.onScreenChanged((()=>{i(e.getCurrentFlow().getCurrentScreen().name)}))),[e]),t}(),r=Is(),s=(0,ns.C)(),o=(0,is.useCallback)((e=>{n.askPageActiveTab=e,i.syncUpdateCheckoutState()}),[i,n]),c=(0,is.useMemo)((()=>s.getAskPageConfig(Qs)),[s]),l=(0,As.S)(),u=Ms("lg"),d=s.fundraisingPage,h=!!l&&n.isMobileScreenWithoutAskTitle(a),m=!l||n.isMobileScreenWithAskText(a),p=m||!h,g=c.title||c.text,f=a===fn.DONATE||a===Ua.CRYPTO_CURRENCY||a===qa.STOCK_BROKERAGE,y=!!d&&c.show&&f,v=!d||"cause"===n.askPageActiveTab,S=d&&"fundraiser"===n.askPageActiveTab;(0,is.useEffect)((()=>{d&&c.show&&!f&&o("fundraiser")}),[c.show,d,o,f]);const C=(0,is.useMemo)((()=>d&&d.currency?t.convert(r.donation.amount||0,r.donation.currency,d.currency):0),[r.donation.amount,r.donation.currency,t,d]),b=(0,is.useRef)(null),A=(0,is.useRef)(null);!function(e,t){const i=(0,as.R)(),n=(0,As.S)(),a=(0,is.useContext)(_s),r=(0,is.useCallback)((()=>{if(!n||a)return;const t=e.current;if(!t)throw new Error("scrollRef was not passed");const r=window.pageYOffset||i.pageYOffset;t.offsetTop>r||t.scrollIntoView(!0)}),[e,i,n,a]);(0,is.useEffect)(r,[t,r])}(p?b:A,a);const[E,x]=(0,is.useState)(!0),[k,w]=(0,is.useState)(!1),N=(0,is.useRef)(null),P=hs(),D=(0,is.useCallback)((e=>{const t=e.getCurrentFlow().getCurrentScreen().name;x(e.checkoutService.checkoutUIState.isScreenWithoutAskOverlay(t))}),[]);(0,is.useEffect)((()=>(D(P),P.onScreenChanged((()=>{D(P)})))),[P,D]);const T={backgroundImage:`url('${c.mainImage}')`},_=(0,Ts.r)(N);return(0,es.jsxs)("div",{className:(0,Cs.Z)(e("campaign"),{"p-rel":!E&&!l}),onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),ref:A,"data-qa":"campaign-info-section",children:[p&&(0,es.jsxs)("div",{className:e("campaign-image-holder"),children:[(0,es.jsx)("div",{className:e("campaign-image"),style:T,"data-qa":"ask-image","data-testid":"campaign-preview"}),y&&(0,es.jsx)(Us,{tab:n.askPageActiveTab,setActiveTab:o})]}),(0,es.jsx)("div",{className:e("campaign-header"),"data-qa":"ask-company-name",children:c.logoImage?(0,es.jsx)("img",{src:c.logoImage,alt:c.companyName,className:e("campaign-header-logo"),"data-testid":"campaign-logo"}):(0,es.jsx)("p",{className:e("campaign-header-name"),dir:"auto",title:c.companyName,"data-testid":"campaign-name",children:c.companyName})}),p&&(0,es.jsxs)("div",{ref:b,className:(0,Cs.Z)(e("campaign-body"),{"p-5":l&&(g||"fundraiser"===n.askPageActiveTab),"justify-content-end":"fundraiser"===n.askPageActiveTab&&!l}),role:d?"tabpanel":"",children:[v&&(0,es.jsx)(qs,{title:c.title,description:c.text,links:c.links,hideTitle:h,showText:m}),S&&(0,es.jsx)(Xs,{fundraiser:d,userAmount:C})]}),(0,es.jsx)(bs.Z,{classNames:"fade",nodeRef:N,in:!E&&!k&&!l&&u,addEndListener:_,mountOnEnter:!0,unmountOnExit:!0,children:(0,es.jsx)("div",{ref:N,className:"campaign-faded-overlay"})})]})},eo=[St.C9.UNITED_STATES,St.C9.CANADA,St.C9.MEXICO,St.C9.AUSTRALIA];var to,io=i(85103);function no(){return no=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},no.apply(this,arguments)}var ao=function(e,t){return is.createElement("svg",no({fill:"none",height:14,viewBox:"0 0 15 14",width:15,xmlns:"http://www.w3.org/2000/svg",ref:t},e),to||(to=is.createElement("path",{d:"m5.75 10.5 3.5-3.5-3.5-3.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))},ro=(0,is.forwardRef)(ao),so=(0,is.memo)(ro);const oo=["click"],co=e=>{const t=(0,As.S)(),i=(0,Vs.S)(),n=(0,Ns.q)(),[a,r]=(0,is.useState)(!1),s=(0,is.useRef)(null),o=(0,is.useRef)(null);return(0,es.jsxs)("li",{className:(0,Cs.Z)(n("faq-link-item"),e.className),"data-qa":e.qa,children:[(0,es.jsxs)("button",{ref:o,type:"button",className:(0,Cs.Z)(n("faq-link"),{"font-weight-600":a&&t}),onClick:()=>r(!a),children:[t&&(0,es.jsx)("span",{className:"icon-slot icon-slot-14 me-0-5 flex-shrink-0",children:(0,es.jsx)("span",{className:"p-abs centered font-size-14",children:(0,es.jsx)(so,{className:(0,Cs.Z)("icon d-block faq-link-icon",{"icon-rotate-90":!i&&a,"icon-rotate-180":i&&!a,"icon-rotate-270":i&&a})})})}),(0,es.jsx)("span",{className:"faq-link-title",children:e.title})]}),t?(0,es.jsx)(bs.Z,{nodeRef:s,in:a,timeout:200,classNames:"fade",mountOnEnter:!0,unmountOnExit:!0,children:(0,es.jsx)("div",{ref:s,className:"body-3 py-2 ps-4 flex-shrink-0","data-qa":e.qa?`${e.qa}-popover`:"",children:e.children})}):(0,es.jsxs)(io.N,{triggerRef:o,trigger:oo,maxWidth:"312px",dataQa:e.qa?`${e.qa}-popover`:"",children:[(0,es.jsx)("p",{className:"subtitle-5",children:e.title}),(0,es.jsx)("div",{className:"body-3 mt-1",children:e.children})]})]})},lo=(0,is.memo)(co),uo=e=>{const t=(0,Fs.Y)(),i=(0,As.S)(),n=(0,Ns.q)(),a=Os(),r=(0,ns.C)(),s=r.campaign.config.frequencies,o=r.company,c=Ms("lg"),l=(0,is.useMemo)((()=>a.type===Dt.MONEY),[a]),u=(0,is.useMemo)((()=>a.type===Dt.STOCK),[a.type]),d=(0,is.useMemo)((()=>a.type===Dt.CRYPTO),[a.type]),h=(m=o.country,p=o.nonProfit,Be()(eo).call(eo,m)&&p);var m,p;const g=l&&!Nt.isOnetimeOnly(s)&&o.donorPortal.canCancelSubscription;return(0,es.jsxs)("ul",{className:n("faq-links"),children:[(0,es.jsxs)(lo,{title:t.translate("faq.isDonationSecure.title"),qa:"is-donation-secure",children:[(0,es.jsxs)("p",{className:"faq-link-text",children:[l&&t.translate("faq.isDonationSecure.message.fiat.part-1"),u&&t.translate("faq.isDonationSecure.message.stock.part-1"),d&&t.translate("faq.isDonationSecure.message.crypto.part-1")]}),(0,es.jsxs)("p",{className:"faq-link-text mt-1",children:[l&&t.translate("faq.isDonationSecure.message.fiat.part-2"),u&&t.translate("faq.isDonationSecure.message.stock.part-2"),d&&t.translate("faq.isDonationSecure.message.crypto.part-2")]}),l&&(0,es.jsx)("p",{className:"faq-link-text mt-1",children:t.translate("faq.isDonationSecure.message.fiat.part-3")})]}),h&&(0,es.jsxs)(es.Fragment,{children:[e.showAskPage&&!i&&c&&(0,es.jsx)("li",{className:"body-4 text-white opacity-80 mx-3","aria-hidden":"true",children:""}),(0,es.jsxs)(lo,{title:t.translate("faq.isTaxDeductible.title"),qa:"is-tax-deductible",children:[(0,es.jsxs)("p",{className:"faq-link-text",children:[l&&t.translate("faq.isTaxDeductible.message.fiat.part-1"),u&&t.translate("faq.isTaxDeductible.message.stock.part-1"),d&&t.translate("faq.isTaxDeductible.message.crypto.part-1")]}),(0,es.jsxs)("p",{className:"faq-link-text mt-1",children:[l&&t.translate("faq.isTaxDeductible.message.fiat.part-2"),u&&t.translate("faq.isTaxDeductible.message.stock.part-2"),d&&t.translate("faq.isTaxDeductible.message.crypto.part-2")]}),u&&(0,es.jsx)("p",{className:"faq-link-text mt-1",children:t.translate("faq.isTaxDeductible.message.stock.part-3")}),d&&(0,es.jsx)("p",{className:"faq-link-text mt-1",children:t.translate("faq.isTaxDeductible.message.crypto.part-3")})]})]}),g&&(0,es.jsxs)(es.Fragment,{children:[e.showAskPage&&!i&&c&&(0,es.jsx)("li",{className:"body-4 text-white opacity-80 mx-3","aria-hidden":"true",children:""}),(0,es.jsx)(lo,{title:t.translate("faq.cancelRecurringDonation.title"),qa:"cancel-recurring-donation",children:(0,es.jsx)("p",{className:"faq-link-text",children:t.translate("faq.cancelRecurringDonation.messageNew")})})]})]})},ho=(0,is.memo)(uo);function mo(){return(0,ns.C)().infrastructureParams.showcase}const po=e=>{const t=(0,Fs.Y)(),i=mo(),n=hs(),a=(0,Ns.q)(),r=(0,is.useCallback)((()=>{i||n.startCryptoFlow()}),[n,i]),s=(0,is.useCallback)((()=>{i||n.startStockFlow()}),[n,i]);return(0,es.jsxs)("div",{className:(0,Cs.Z)(a("flow-buttons"),e.className),children:[e.enabledCrypto&&(0,es.jsx)("button",{type:"button",className:(0,Cs.Z)("btn-link",a("flow-button")),disabled:e.disabled,onClick:r,"data-qa":"start-crypto-flow",children:t.translate("changeFlowButtons.cryptoButton")}),e.enabledCrypto&&e.enabledStock&&(0,es.jsx)("span",{className:(0,Cs.Z)(a("flow-button-divider"),"flex-shrink-0"),"aria-hidden":"true",children:""}),e.enabledStock&&(0,es.jsx)("button",{type:"button",className:(0,Cs.Z)("btn-link",a("flow-button")),disabled:e.disabled,onClick:s,"data-qa":"start-stock-flow",children:t.translate("changeFlowButtons.stockButton")}),(e.enabledCrypto||e.enabledStock)&&e.enabledMoney&&(0,es.jsx)("span",{className:(0,Cs.Z)(a("flow-button-divider"),"flex-shrink-0"),"aria-hidden":"true",children:""}),e.enabledMoney&&(0,es.jsx)("button",{type:"button",className:(0,Cs.Z)("btn-link",a("flow-button")),disabled:e.disabled,onClick:()=>{i||n.startFiatFlow()},"data-qa":"start-fiat-flow",children:t.translate("changeFlowButtons.fiatButton")})]})},go=(0,is.memo)(po);var fo;function yo(){return yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},yo.apply(this,arguments)}var vo=function(e,t){return is.createElement("svg",yo({fill:"none",height:18,viewBox:"0 0 18 18",width:18,xmlns:"http://www.w3.org/2000/svg",ref:t},e),fo||(fo=is.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},is.createElement("path",{d:"m13.5 4.5-9 9"}),is.createElement("path",{d:"m4.5 4.5 9 9"}))))},So=(0,is.forwardRef)(vo),Co=(0,is.memo)(So);const bo=e=>{const t=(0,As.S)(),i=(0,Ns.q)(),n=(0,Fs.Y)();return(0,es.jsx)("button",{type:"button",className:(0,Cs.Z)(i("modal-close"),e.className),"aria-label":n.translate("common.closeButtonAriaLabel"),onClick:e.onClick,"data-qa":"global-close","data-tracking-element-name":"closeButton",children:(0,es.jsx)("span",{className:(0,Cs.Z)("icon-slot d-block",t?"icon-slot-28":"icon-slot-32"),"aria-hidden":"true",children:(0,es.jsx)("span",{className:"p-abs centered",children:(0,es.jsx)(Co,{className:"icon-fill d-block"})})})})};var Ao=(0,is.memo)(bo);const Eo=[Fa.THANK_YOU,Fa.REMIND_ME],xo=[Fa.THANK_YOU],ko=[Fa.THANK_YOU],wo=[Fa.THANK_YOU],No=[Fa.THANK_YOU,Fa.REMIND_ME],Po=[Fa.REMIND_ME],Do=[Fa.THANK_YOU,Fa.REMIND_ME];const To=(0,is.createContext)(null);function _o(){return(0,is.useContext)(To)}const Oo=e=>{const t=(0,Ns.q)();return(0,es.jsx)("div",{className:t("flow"),children:e.children})},Io=(0,is.forwardRef)((function(e,t){const{children:i,hide:n,className:a}=e,r=(0,Ns.q)();return(0,es.jsx)("div",{className:(0,Cs.Z)(r("flow-slide"),a,{"flow-slide-hidden":n}),ref:t,children:i})})),Ro=e=>{const{alwaysMount:t,show:i,Screen:n,screenDirection:a,currentScreen:r,animationDisabled:s,onScreenEntered:o}=e,c=(0,is.useRef)(null),[l,u]=(0,is.useState)(!i),d=!i&&l,h=function(e){const t=(0,ns.C)(),i=Is();return n=Rs(),a=i.tribute,!(r={isShowcase:t.infrastructureParams.showcase,currentScreen:e}).isShowcase&&!n.isScreenWithoutTributeBadge(r.currentScreen)&&a.isEnabled&&a.isActive&&!!a.name;var n,a,r}(r),m=(0,is.useCallback)((()=>{u(!1)}),[]),p=(0,is.useCallback)((()=>{o()}),[o]),g=(0,is.useCallback)((()=>{u(!0)}),[]),f=(0,Ts.r)(c);return(0,es.jsx)(bs.Z,{in:i,classNames:a,addEndListener:f,onEnter:m,onEntered:p,onExited:g,nodeRef:c,mountOnEnter:!t,unmountOnExit:!t,children:e=>(0,es.jsx)(Io,{ref:c,hide:d,className:s?"no-animation":"",children:(0,es.jsx)(is.Suspense,{fallback:(0,es.jsx)("span",{}),children:(0,es.jsx)(n,{transitionEntered:"entered"===e,showBadge:h})})})})};var Lo;!function(e){e[e.MAX_LENGTH=500]="MAX_LENGTH"}(Lo||(Lo={}));const jo=(0,is.forwardRef)((function(e,t){return(0,es.jsx)("div",{ref:t,className:(0,Cs.Z)("body",e.className),children:e.children})}));var Mo;function Fo(){return Fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fo.apply(this,arguments)}var Uo,Bo=function(e,t){return is.createElement("svg",Fo({fill:"none",height:12,viewBox:"0 0 8 12",width:8,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Mo||(Mo=is.createElement("path",{d:"m6.5 1-5 5 5 5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5})))},Go=(0,is.forwardRef)(Bo),qo=(0,is.memo)(Go);function Ko(){return Ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ko.apply(this,arguments)}var Vo=function(e,t){return is.createElement("svg",Ko({fill:"none",height:14,viewBox:"0 0 15 14",width:15,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Uo||(Uo=is.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},is.createElement("path",{d:"m11.5833 7h-8.16663"}),is.createElement("path",{d:"m7.5 11.0832-4.08333-4.08336 4.08333-4.08334"}))))},Ho=(0,is.forwardRef)(Vo),Yo=(0,is.memo)(Ho);const Zo=e=>{const t=(0,Fs.Y)(),i=(0,Vs.S)();return(0,es.jsx)(es.Fragment,{children:"header"===e.type?(0,es.jsx)("button",{className:(0,Cs.Z)("header-back-btn",e.className),type:"button","aria-label":t.translate("common.backButton"),onClick:e.onClick,"data-qa":"back-checkout",disabled:e.disabled,"data-tracking-element-name":"backButton",children:(0,es.jsx)(qo,{className:(0,Cs.Z)("icon-stroke d-block",{"icon-flip-horizontal":i}),"aria-hidden":"true","data-testid":"back-icon"})}):(0,es.jsxs)("button",{type:"button",className:(0,Cs.Z)("btn-link link-1 d-flex align-items-center justify-content-center",e.className),onClick:e.onClick,disabled:e.disabled,"data-qa":"back-checkout","data-tracking-element-name":"backButton",children:[(0,es.jsx)("span",{className:"icon-slot icon-slot-14 flex-shrink-0 me-1","aria-hidden":"true",children:(0,es.jsx)("span",{className:"p-abs centered font-size-14",children:(0,es.jsx)(Yo,{className:(0,Cs.Z)("icon-stroke d-block",{"icon-flip-horizontal":i}),"data-testid":"back-icon"})})}),(0,es.jsx)("span",{className:"text-truncate",children:t.translate("common.backButton")}),(0,es.jsx)("span",{className:"icon-slot icon-slot-14 flex-shrink-0 ms-1"})]})})},$o=(0,is.memo)(Zo),zo=e=>{const t=(0,As.S)(),i=(0,Ns.q)(),n=hs(),[a,r]=(0,is.useState)((()=>n.getCurrentFlow())),[s,o]=(0,is.useState)(a.isLocked),[c,l]=(0,is.useState)((()=>n.checkoutService.canGoBack)),[u,d]=(0,is.useState)((()=>a.canGoBack)),h=_o();(0,is.useEffect)((()=>{h&&(l(n.checkoutService.canGoBack),d(n.getCurrentFlow().canGoBack))}),[n,h]),(0,is.useEffect)((()=>{const e=a.on(An.LOCKED,(()=>{o(!0)})),t=a.on(An.UNLOCKED,(()=>{o(!1)}));return()=>{e(),t()}}),[a]),(0,is.useEffect)((()=>n.onFlowChanged((()=>{r(n.getCurrentFlow())}))),[n]);const m=(0,is.useCallback)((()=>{u&&c&&a.prev()}),[a,u,c]),p=t&&(e.forceShowBackButton||c);return(0,es.jsx)("div",{className:(0,Cs.Z)(i("footer"),e.className),children:(0,es.jsxs)("div",{className:"fixed-container p-rel",children:[e.children,p&&(0,es.jsx)("div",{className:(0,Cs.Z)("d-flex justify-content-center",{"mt-6":e.children}),children:(0,es.jsx)($o,{className:(0,Cs.Z)(e.backButtonClass),onClick:e.backButtonClickHandler||m,type:"footer",disabled:s})})]})})};var Wo;function Xo(){return Xo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xo.apply(this,arguments)}var Qo=function(e,t){return is.createElement("svg",Xo({fill:"none",height:18,viewBox:"0 0 18 18",width:18,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Wo||(Wo=is.createElement("path",{d:"m9 14.1538c11.106-6.11746 4.1743-13.12046 0-8.83311-4.17433-4.2874-11.106 2.7156 0 8.83311z",fill:"currentColor"})))},Jo=(0,is.forwardRef)(Qo),ec=(0,is.memo)(Jo);const tc=["hover"],ic=["click"],nc=["bottom"],ac=e=>{const t=(0,Fs.Y)(),i=(0,Vs.S)(),n=(0,As.S)(),a=(0,Ns.q)(),r=(0,ns.C)(),s=(0,is.useRef)(null),o=r.campaign.config.tribute.showAddress||r.campaign.config.tribute.showEmail;return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)("p",{ref:s,className:(0,Cs.Z)(a("tribute-badge"),{"cursor-pointer":o}),"data-qa":"tribute-badge","data-tracking-element-name":"tributeBadge",children:[(0,es.jsxs)("span",{className:"body-2 d-flex",children:[(0,es.jsx)("span",{className:"icon-slot icon-slot-18 flex-shrink-0 me-1","aria-hidden":"true",children:(0,es.jsx)("span",{className:"p-abs centered font-size-18 text-red-60",children:(0,es.jsx)(ec,{className:"icon-stroke d-block"})})}),(0,es.jsx)("span",{className:"text-truncate me-1",children:t.translate("common.tributeBadge.labelText")})]}),(0,es.jsx)("span",{className:(0,Cs.Z)("label-2",n?"text-ellipsis":"text-truncate"),dir:"auto",children:e.name})]}),o&&(0,es.jsx)(io.N,{triggerRef:s,trigger:n?ic:tc,placement:i?"left-start":"right-start",fallbackPlacements:nc,maxWidth:"var(--fixed-container-width-desktop)",children:t.translate("common.tributeBadge.popoverText")})]})},rc=window.devicePixelRatio>1,sc=e=>{const t=(0,As.S)(),i=(0,Ns.q)(),n=hs(),[a,r]=(0,is.useState)((()=>n.getCurrentFlow())),[s,o]=(0,is.useState)(a.isLocked),[c,l]=(0,is.useState)((()=>n.checkoutService.canGoBack)),[u,d]=(0,is.useState)((()=>a.canGoBack)),h=_o(),m=(0,ns.C)(),p=m.getAskPageConfig(rc),g=Is(),f=p.show||!!m.fundraisingPage,y=p.show?p.logoImage:p.fallbackCompanyLogo;(0,is.useEffect)((()=>{h&&(l(n.checkoutService.canGoBack),d(n.getCurrentFlow().canGoBack))}),[n,h]),(0,is.useEffect)((()=>{const e=a.on(An.LOCKED,(()=>{o(!0)})),t=a.on(An.UNLOCKED,(()=>{o(!1)}));return()=>{e(),t()}}),[a,e]),(0,is.useEffect)((()=>n.onFlowChanged((()=>{const e=n.getCurrentFlow();r(e)}))),[n]);const v=(0,is.useCallback)((()=>{u&&c&&a.prev()}),[a,u,c]);return(0,es.jsxs)(es.Fragment,{children:[e.showBadge&&(0,es.jsx)(ac,{name:g.tribute.name}),(0,es.jsxs)("div",{className:(0,Cs.Z)(i("header"),e.className),children:[!t&&!e.titleFullwidth&&(0,es.jsx)("div",{className:"header-aside",children:(0,es.jsx)("div",{className:"icon-slot icon-slot-24",children:(0,es.jsx)("div",{className:"p-abs centered",children:(e.forceShowBackButton||c)&&(0,es.jsx)($o,{type:"header",disabled:s,onClick:e.backButtonClickHandler||v})})})}),t&&!f&&(0,es.jsx)("div",{className:"header-company",children:y?(0,es.jsx)("img",{src:y,alt:p.companyName,className:"header-company-logo","data-qa":"campaign-logo-image"}):(0,es.jsx)("p",{className:"header-company-name",title:p.companyName,children:p.companyName})}),(e.children||e.title)&&(0,es.jsx)("div",{className:(0,Cs.Z)(i("header-main"),{"header-main-full":!t&&e.titleFullwidth}),children:e.title?(0,es.jsx)("h2",{className:(0,Cs.Z)("title-2",t?"text-ellipsis":"text-line-clamp-2"),"data-testid":e.titleTestId,"data-qa":e.titleQa,children:e.title}):e.children}),!t&&!e.titleFullwidth&&(0,es.jsx)("div",{className:"header-aside",children:(0,es.jsx)("div",{className:"icon-slot icon-slot-24"})})]})]})};function oc(){const e=ws(),t=_o();return e&&!1!==t}function cc(e){const t=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,is.useRef)(null),i=oc(),n=mo();return(0,is.useEffect)((()=>{if(n)return;if(!e||!i)return;if(!t.current)throw new Error("ref is not provided");const a=P()((()=>{var e,i;null===(e=t.current)||void 0===e||e.setAttribute("tabindex","0"),null===(i=t.current)||void 0===i||i.focus({preventScroll:!0})}),50);return()=>window.clearTimeout(a)}),[t,e,i,n]),t}(e.autoFocus);return(0,es.jsx)("div",{className:"sr-only",role:e.role,"aria-live":"polite",ref:t,children:e.children})}const lc={minHeight:"200px"};class uc{constructor(e){this.intl=e}get default(){return{state:this.intl.translate("addressForm.labels.state"),postcode:this.intl.translate("addressForm.labels.postcode")}}get[St.C9.UNITED_KINGDOM](){return{state:this.intl.translate("addressForm.labels.GB.state"),postcode:this.intl.translate("addressForm.labels.GB.postcode")}}get[St.C9.CANADA](){return{state:this.intl.translate("addressForm.labels.CA.state"),postcode:this.intl.translate("addressForm.labels.CA.postcode")}}get[St.C9.IRELAND](){return{state:this.intl.translate("addressForm.labels.IE.state"),postcode:this.intl.translate("addressForm.labels.IE.postcode")}}get[St.C9.DENMARK](){return{state:this.intl.translate("addressForm.labels.DK.state"),postcode:this.intl.translate("addressForm.labels.DK.postcode")}}}class dc{get default(){return{state:"State",postcode:"Zip code"}}get[St.C9.UNITED_KINGDOM](){return x()(x()({},this.default),{state:"County",postcode:"Postcode"})}get[St.C9.CANADA](){return x()(x()({},this.default),{state:"Province",postcode:"Postal code"})}get[St.C9.IRELAND](){return x()(x()({},this.default),{state:"Province",postcode:"Eircode"})}get[St.C9.DENMARK](){return x()(x()({},this.default),{state:"Region",postcode:"Postcode"})}}const hc=[St.C9.UNITED_KINGDOM,St.C9.CANADA,St.C9.IRELAND,St.C9.DENMARK];class mc{constructor(e){this.addressLabelsProvider=e}get default(){return this.addressLabelsProvider.default}getByCountry(e){if(t=e,S()(hc).call(hc,(e=>t===e)))switch(e){case St.C9.UNITED_KINGDOM:return this.addressLabelsProvider[St.C9.UNITED_KINGDOM];case St.C9.CANADA:return this.addressLabelsProvider[St.C9.CANADA];case St.C9.IRELAND:return this.addressLabelsProvider[St.C9.IRELAND];case St.C9.DENMARK:return this.addressLabelsProvider[St.C9.DENMARK];default:throw new Error(`Unhandled custom country case: ${e}`)}var t;return this.default}}function pc(e,t,i){switch(i){case St.EK.ONCE:return e.translate("creditCardScreen.payButtonLabel.once",{amount:t});case St.EK.DAILY:return e.translate("creditCardScreen.payButtonLabel.daily",{amount:t});case St.EK.WEEKLY:return e.translate("creditCardScreen.payButtonLabel.weekly",{amount:t});case St.EK.BIWEEKLY:return e.translate("creditCardScreen.payButtonLabel.biweekly",{amount:t});case St.EK.EVERY_4_WEEKS:return e.translate("creditCardScreen.payButtonLabel.every4weeks",{amount:t});case St.EK.MONTHLY:return e.translate("creditCardScreen.payButtonLabel.monthly",{amount:t});case St.EK.BIMONTHLY:return e.translate("creditCardScreen.payButtonLabel.bimonthly",{amount:t});case St.EK.QUARTERLY:return e.translate("creditCardScreen.payButtonLabel.quarterly",{amount:t});case St.EK.SEMIANNUAL:return e.translate("creditCardScreen.payButtonLabel.semiannual",{amount:t});case St.EK.ANNUAL:return e.translate("creditCardScreen.payButtonLabel.annual",{amount:t});default:throw new Error(`Unknown frequency "${i}"`)}}function gc(e,t){switch(t){case St.EK.ONCE:return e.translate("donateForm.giveOnce");case St.EK.DAILY:return e.translate("donateForm.daily");case St.EK.WEEKLY:return e.translate("donateForm.weekly");case St.EK.EVERY_4_WEEKS:return e.translate("donateForm.every4weeks");case St.EK.BIWEEKLY:return e.translate("donateForm.biweekly");case St.EK.MONTHLY:return e.translate("donateForm.monthly");case St.EK.BIMONTHLY:return e.translate("donateForm.bimonthly");case St.EK.QUARTERLY:return e.translate("donateForm.quarterly");case St.EK.SEMIANNUAL:return e.translate("donateForm.semiannual");case St.EK.ANNUAL:return e.translate("donateForm.annual");default:throw new X(t)}}var fc=i(55116),yc=i(98814);const vc=e=>(0,es.jsxs)("div",{className:(0,Cs.Z)({"alert-danger p-3 mb-3":e.isMobileView}),role:e.role,"data-testid":e.dataTestId,children:[e.tooltipTitle&&(0,es.jsx)("p",{className:"subtitle-5 text-red-80 text-ellipsis","data-qa":e.dataQa+"-error-title",dangerouslySetInnerHTML:{__html:e.tooltipTitle}}),e.tooltipMessage&&(0,es.jsx)("p",{className:"body-3 text-color text-ellipsis mt-1","data-qa":e.dataQa+"-error-message",dangerouslySetInnerHTML:{__html:e.tooltipMessage}})]}),Sc=(0,is.memo)(vc),Cc=e=>{var t,i;return(0,es.jsxs)("svg",{className:"d-block icon icon-spin",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,es.jsx)("path",{d:"M9 16.5C13.1421 16.5 16.5 13.1421 16.5 9C16.5 4.85786 13.1421 1.5 9 1.5C4.85786 1.5 1.5 4.85786 1.5 9C1.5 13.1421 4.85786 16.5 9 16.5Z",stroke:"#515151",strokeOpacity:"0.2",strokeWidth:null!==(t=e.iconStrokeWidth)&&void 0!==t?t:2.5,strokeLinecap:"round",strokeLinejoin:"round"}),(0,es.jsx)("path",{d:"M16.5 9C16.5 13.1421 13.1421 16.5 9 16.5",stroke:"#4C85DB",strokeWidth:null!==(i=e.iconStrokeWidth)&&void 0!==i?i:2.5,strokeLinecap:"round",strokeLinejoin:"round"})]})},bc=(0,is.memo)(Cc),Ac=e=>{var t;return(0,es.jsx)("span",{className:(0,Cs.Z)(e.className),style:e.style,children:(0,es.jsx)("span",{className:`p-abs centered font-size-${e.size}`,children:null!==(t=e.children)&&void 0!==t?t:(0,es.jsx)(bc,{iconStrokeWidth:e.iconStrokeWidth})})})},Ec=(0,is.memo)(Ac);var xc;function kc(){return kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},kc.apply(this,arguments)}var wc,Nc=function(e,t){return is.createElement("svg",kc({fill:"none",height:28,viewBox:"0 0 28 28",width:28,xmlns:"http://www.w3.org/2000/svg",ref:t},e),xc||(xc=is.createElement("g",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3},is.createElement("path",{d:"m21 7-14 14"}),is.createElement("path",{d:"m7 7 14 14"}))))},Pc=(0,is.forwardRef)(Nc),Dc=(0,is.memo)(Pc);function Tc(){return Tc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tc.apply(this,arguments)}var _c=function(e,t){return is.createElement("svg",Tc({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),wc||(wc=is.createElement("path",{d:"M23.3332 7L10.4998 19.8333L4.6665 14",stroke:"white",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"})))},Oc=(0,is.forwardRef)(_c),Ic=(0,is.memo)(Oc);const Rc=e=>{var t;const i=(0,Fs.Y)(),n=(0,As.S)(),a=(0,is.useRef)(null),r=(0,is.useRef)(null),s=(0,is.useRef)(null),o="idle"===e.processingState,c="pending"===e.processingState,l="success"===e.processingState,u="error"===e.processingState,d=!o&&!u||e.disabled,h=u&&(!!e.tooltipTitle||!!e.tooltipMessage),[m,p]=(0,is.useState)(u),[g,f]=(0,is.useState)(h);!function(e){const{animate:t,progressRef:i}=e,n=(0,Vs.S)();(0,is.useLayoutEffect)((()=>{if(!i.current)throw new Error("progressRef was not passed");const e=i.current;if(!t)return void(i.current.style.transform=n?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)");let a=500;e.style.transform=n?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)";let r=((t,i)=>{const s=performance.now(),o=t=>{const c=t-s;c>250&&(a=250+c,i=a),(t=>{e.style.transform=n?"translate3d("+Math.round(100-t/(a/100))+"%, 0, 0)":"translate3d(-"+Math.round(100-t/(a/100))+"%, 0, 0)"})(c),c<i&&(r=window.requestAnimationFrame(o))};return window.requestAnimationFrame(o)})(0,a);return()=>window.cancelAnimationFrame(r)}),[i,t,n])}({progressRef:s,animate:"pending"===e.processingState});const y=(0,yc.i)((()=>{p(!1),f(!1)})),v=()=>{m&&p(!1),g&&f(!1)};return function(e){const{document:t}=(0,as.R)();(0,is.useEffect)((()=>{const i=()=>{e()};return t.addEventListener("stripeElementEvent",i),t.addEventListener("click",i),()=>{t.removeEventListener("click",i),t.removeEventListener("stripeElementEvent",i)}}),[t,e])}(v),function(e){const{document:t}=(0,as.R)();(0,is.useEffect)((()=>{const i=t=>{"Tab"===t.key&&e()};return t.addEventListener("keydown",i),()=>{t.removeEventListener("keydown",i)}}),[t,e])}(v),(0,is.useEffect)((()=>{p(u),f(h)}),[u,h]),(0,is.useEffect)((()=>{m?y.set([],5e3):y.clear()}),[m,y]),(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("div",{className:"sr-only",role:c?"status":"none",children:c&&i.translate("payButton.processing")}),(0,es.jsx)("div",{className:"sr-only",role:l?"status":"none",children:l&&i.translate("payButton.done")}),n?(0,es.jsx)(bs.Z,{nodeRef:a,in:g,timeout:200,classNames:"fade",mountOnEnter:!0,unmountOnExit:!0,children:(0,es.jsx)(Sc,{tooltipTitle:e.tooltipTitle,tooltipMessage:e.tooltipMessage,dataQa:e.dataQa,isMobileView:n,role:g?"alert":"none",dataTestId:"tooltip-mobile-error-alert"})}):(0,es.jsx)(fc.K,{triggerRef:r,show:g,maxWidth:"var(--fixed-container-width-desktop)",role:g?"alert":"none",children:(0,es.jsx)(Sc,{tooltipTitle:e.tooltipTitle,tooltipMessage:e.tooltipMessage,dataQa:e.dataQa,isMobileView:n,dataTestId:"tooltip-desktop-error-alert"})}),(0,es.jsx)("button",{ref:r,className:(0,Cs.Z)("link"===e.buttonType?"btn-link p-rel max-w-100":"btn",{"btn-payment":"link"!==e.buttonType&&!e.testMode,"btn-testmode":"link"!==e.buttonType&&e.testMode},e.className,{"w-100":"link"===e.buttonType&&!o,processing:c,"processing done":l,"processing error":m}),type:null!==(t=e.type)&&void 0!==t?t:"button",disabled:d,"aria-disabled":d,"aria-busy":c,"data-qa":e.dataQa,"data-tracking-element-name":e.trackingElement,"data-testid":e.dataTestId,onClick:e.onClick,children:"link"===e.buttonType?(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("span",{className:(0,Cs.Z)("text-truncate",{invisible:c||l||m}),"data-testid":"link-children-container",children:e.children}),(c||l)&&(0,es.jsxs)("span",{className:"p-abs centered max-w-100 d-flex justify-content-center",children:[(0,es.jsx)(Ec,{size:18,className:"icon-slot icon-slot-18 flex-shrink-0 me-1"}),(0,es.jsx)("span",{className:"text-truncate",children:i.translate("payButton.processingShort")})]}),m&&(0,es.jsx)("span",{className:"p-abs centered text-truncate text-red-80 max-w-100",children:i.translate("payButton.error")}),(0,es.jsx)("span",{ref:s})]}):(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("span",{children:e.children}),(0,es.jsx)("span",{ref:s,className:"animated-progress"}),(0,es.jsxs)("span",{className:"done-mark",children:[m&&(0,es.jsx)(Dc,{"data-testid":"pay-button-error-icon"}),l&&(0,es.jsx)(Ic,{"data-testid":"pay-button-success-icon"})]})]})})]})},Lc=(0,is.memo)(Rc);var jc=i(629),Mc=i(9524);const Fc={background:"rgba(255, 255, 255, 0.9)"},Uc=["click"],Bc=["top-end"],Gc=(0,is.forwardRef)(((e,t)=>{const{onChange:i,onSelect:n,onBlur:a,onClear:r,onFocus:s,options:o,value:c,className:l,inputClasses:u,loading:d,placeholder:h,showArrow:m,showIcons:p,showInputPrefix:g=!0,label:f,disabled:y,qa:v,hint:S,allowClear:C,trackingElement:b,displayName:A,SelectedIconToRender:E,ListItemToRender:x,selectedOption:k,hasError:w,maxLength:N,filterRegex:P}=e,D=(0,Fs.Y)(),_=(0,Vs.S)(),O=(0,As.S)(),[I,R]=(0,is.useState)(!1),[L,j]=(0,is.useState)(!1),[M,F]=(0,is.useState)(null),U=I&&!!o.length,G=(0,is.useRef)(null),q=(0,is.useRef)(null),K=(0,is.useRef)(null),V=(0,is.useRef)(null),H=(0,is.useRef)(null),Y=e=>{const t=n(e);j(!1),t||Z()},Z=()=>{if(R(!1),!q.current)throw new Error("inputRef was not provided");q.current.blur(),a&&a()},$=Zs(),z=()=>{if(!q.current)throw new Error("inputRef was not provided");q.current.focus()};(0,is.useImperativeHandle)(t,(()=>({focus:z})));const W=void 0!==A?A:c,X=(null==c?void 0:c.length)>0;return(0,es.jsxs)("div",{ref:G,className:(0,Cs.Z)("search-select",l),children:[(0,es.jsxs)("div",{className:"p-rel",children:[(0,es.jsx)("label",{className:"sr-only",htmlFor:`search-select-${$}`,children:f}),g&&p&&E&&(0,es.jsx)(E,{option:k,value:c,options:o,disabled:y}),(0,es.jsx)("input",{id:`search-select-${$}`,type:"text",ref:q,"data-testid":"search-input",placeholder:h,className:(0,Cs.Z)("form-control search-select-input",u,{"search-select-input-active":U,"search-select-input-offset-left":p&&g,"search-select-input-offset-right":C,"search-select-input-with-arrow":m,"has-error":w}),value:W,autoComplete:"new-password","aria-live":"polite",onChange:e=>{return t=e.target.value,void(i&&i((n=t,void 0===P?n:B()(a=n.split("")).call(a,(e=>P.test(e))).join(""))));var t,n,a},onFocus:()=>{R(!0),s&&s()},onBlur:()=>!L&&Z(),onKeyDown:e=>{if(void 0!==P&&!P.test(e.key))return void e.preventDefault();if(!U)return;const{currentOptionIdx:t,needSelectOption:i,closeDropdown:n}=(0,jc.n)(e,M,o.length);n?Z():i&&null!==t?Y(o[t].id):null!==t&&F(t)},disabled:y,"data-tracking-element-name":b,"data-qa":v,maxLength:N}),(!!S||C)&&(0,es.jsxs)("div",{className:"p-abs centered-right d-flex align-items-center me-4",children:[!!S&&(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("button",{ref:V,type:"button",className:"btn-icon btn-icon-round font-size-18 text-gray-40 flex-shrink-0 ms-1-5",disabled:y,"aria-label":D.translate("common.helpAriaLabel"),children:(0,es.jsx)(Mc.Z,{className:(0,Cs.Z)("icon-stroke d-block",{"icon-flip-horizontal":_}),"aria-hidden":"true"})}),!y&&(0,es.jsx)(io.N,{triggerRef:V,trigger:Uc,placement:_?"left-start":"right-start",fallbackPlacements:Bc,maxWidth:O?"var(--fixed-container-width-desktop)":"232px",children:S})]}),(0,es.jsx)(bs.Z,{classNames:"search-select-clear-appear",nodeRef:H,in:X,timeout:100,mountOnEnter:!0,unmountOnExit:!0,children:(0,es.jsx)("button",{ref:H,type:"button",className:"btn-icon font-size-18 text-gray-60 flex-shrink-0 ms-1-5",disabled:y,"aria-label":D.translate("common.clearButtonAriaLabel"),onClick:r,children:(0,es.jsx)(Co,{className:"icon-stroke d-block","aria-hidden":"true"})})})]})]}),U&&(0,es.jsxs)("div",{className:"search-select-dropdown",ref:K,role:"menu","data-testid":"menu",children:[d&&(0,es.jsx)(Ec,{size:24,className:"p-abs top-left bottom-right z-index-2",style:Fc}),T()(o).call(o,((e,t)=>(0,es.jsx)("div",{className:(0,Cs.Z)("search-select-option",{"search-select-option-with-icon":p,"search-select-option-highlighted":t===M}),role:"menuitem","data-testid":"menuitem",onMouseDown:()=>j(!0),onClick:()=>Y(e.id),onMouseMove:()=>F(t),"data-qa":v+"-item","data-tracking-element-name":b,children:x?(0,es.jsx)(x,{option:e,showIcons:!0}):(0,es.jsx)("div",{children:e.value})},e.id)))]})]})}));Gc.displayName="RawSearchManualSelect";const qc=(0,is.memo)(Gc),Kc=(0,is.forwardRef)(((e,t)=>{const{onChange:i,onSearch:n,onSelect:a,onClear:r,value:s,options:o,className:c,inputClasses:l,loading:u,placeholder:d,label:h,disabled:m,debounce:p=500,allowClear:g,hint:f,hasError:y,qa:v,trackingElement:S,maxLength:C,selectedOption:b,showInputPrefix:A,ListItemToRender:E,SelectedIconToRender:x,showIcons:k}=e,{set:w,clear:N}=(0,yc.i)((e=>{n(e)})),P=(0,is.useCallback)((e=>{i(e),N(),w([e],p)}),[i,w,N,p]);return(0,es.jsx)(qc,{ref:t,options:o,value:s,onChange:P,onSelect:a,className:c,inputClasses:l,placeholder:d,label:h,disabled:m,loading:u,hint:f,allowClear:g,onClear:r,selectedOption:b,qa:v,hasError:y,showInputPrefix:A,trackingElement:S,ListItemToRender:E,SelectedIconToRender:x,showIcons:k,maxLength:C})}));Kc.displayName="RawAutocomplete";const Vc=(0,is.memo)(Kc);function Hc(e,t){const i=oc(),n=(0,As.S)(),a=mo();(0,is.useEffect)((()=>{if(a)return;if(!t||!i||n)return;if(!e.current)throw new Error("ref is not provided");const r=P()((()=>{var t;null===(t=e.current)||void 0===t||t.focus()}),50);return()=>window.clearTimeout(r)}),[e,t,i,n,a])}const Yc=()=>{var e;const t=(0,Fs.Y)(),{state:i,controller:n}=ms(Fa.MAILING_ADDRESS),a=Zs(),r=t.translate("addressForm.country");return(0,es.jsxs)("div",{className:"p-rel z-index-3 mt-4",children:[(0,es.jsx)("label",{className:"sr-only",htmlFor:`country-${a}`,children:r}),(0,es.jsx)("select",{id:`country-${a}`,className:(0,Cs.Z)("form-control",{"has-error":!i.validation.fields.countryCode.isValid}),value:i.countryCode,disabled:i.locked,"data-qa":"country-selector",onChange:e=>n.changeSelectedCountry(e.target.value),children:T()(e=i.countries).call(e,(e=>{let{countryCode:t,countryName:i}=e;return(0,es.jsx)("option",{value:t,children:i},t)}))}),!i.validation.fields.countryCode.isValid&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:n.getAriaErrorMessage(r)})]})},Zc=(0,is.memo)(Yc),$c=e=>{const{onChange:t,className:i,inputClassName:n,label:a,value:r,placeholder:s,autoComplete:o,qa:c,hasError:l,disabled:u,autoFocus:d,id:h,maxLength:m}=e,{controller:p}=ms(Fa.MAILING_ADDRESS),g=(0,is.useRef)(null);return Hc(g,d),(0,es.jsxs)("div",{className:(0,Cs.Z)(i,"p-rel"),children:[(0,es.jsx)("label",{className:"sr-only",htmlFor:h,children:a}),(0,es.jsx)("input",{id:h,ref:g,type:"text",className:(0,Cs.Z)("form-control",n,{"has-error":l}),placeholder:s,autoComplete:o,value:r,disabled:u,onChange:e=>t(e.target.value),"aria-live":"polite","data-qa":c,maxLength:m}),l&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:p.getAriaErrorMessage(a)})]})},zc=e=>{var t;const{label:i}=e,{state:n,controller:a}=ms(Fa.MAILING_ADDRESS),r=a.getStates(n.countryCode),s=Zs();return(0,es.jsx)("div",{className:"w-50 pe-1",children:r?(0,es.jsxs)("div",{className:"p-rel",children:[(0,es.jsx)("select",{className:(0,Cs.Z)("form-control",{"has-error":!n.validation.fields.region.isValid}),value:n.region,onChange:e=>a.changeRegion(e.target.value),id:`select-region-${s}`,disabled:n.locked,"aria-live":"polite","data-qa":"state-selector",children:R()(r)?T()(r).call(r,(e=>{let{code:t,name:i}=e;return(0,es.jsx)("option",{value:t,children:i},t)})):T()(t=ei()(r)).call(t,(e=>{let[t,i]=e;return(0,es.jsx)("optgroup",{label:t,children:T()(i).call(i,(e=>{let{code:t,name:i}=e;return(0,es.jsx)("option",{value:t,children:i},t)}))},t)}))}),(0,es.jsx)("label",{htmlFor:`select-region-${s}`,className:"p-abs top-left bottom-right z-index-2 pointer-events-none custom-select-cover-label",children:(0,es.jsxs)("span",{className:(0,Cs.Z)("p-abs centered-left w-100 text-truncate",{"text-gray-60":!n.region}),children:[n.region||i,(0,es.jsx)("span",{className:"sr-only",children:i})]})}),!n.validation.fields.region.isValid&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:a.getAriaErrorMessage(i)})]}):(0,es.jsx)($c,{id:`input-region-${s}`,value:n.region,onChange:e=>a.changeRegion(e),hasError:!n.validation.fields.region.isValid,disabled:"idle"!==n.processingState||n.locked,autoComplete:"address-level1",label:i,placeholder:i,qa:"state-field"})})},Wc=(0,is.memo)(zc);function Xc(e,t){const[i,n]=(0,is.useState)(!1);return(0,is.useEffect)((()=>{if(!t)return;n(!0);const e=P()((()=>{n(!1)}),400);return()=>clearTimeout(e)}),[e,t]),i}var Qc;function Jc(){return Jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Jc.apply(this,arguments)}var el=function(e,t){return is.createElement("svg",Jc({width:14,height:10,viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),Qc||(Qc=is.createElement("path",{d:"M12.3333 1L5 8.33333L1.66667 5",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))},tl=(0,is.forwardRef)(el),il=(0,is.memo)(tl),nl=i(74502);const al=e=>(0,es.jsxs)("div",{ref:e.innerRef,className:(0,nl.Z)("ui-checkbox",{"ui-checkbox-disabled":e.disabled,"has-error":e.error},e.className),children:[(0,es.jsxs)("label",{className:(0,nl.Z)("ui-checkbox-label",e.customLabelClasses),children:[(0,es.jsxs)("span",{className:(0,nl.Z)("ui-checkbox-control",e.customControlClasses),children:[(0,es.jsx)("input",{type:"checkbox",disabled:e.disabled,checked:e.checked,value:e.checkboxValue,"data-qa":e.qa,"data-tracking-element-name":e.trackingElement,"data-testid":e.dataTestId,onChange:()=>{e.disabled||e.onChange(!e.checked)}}),(0,es.jsx)("span",{className:"ui-checkbox-icon",children:e.checked&&(0,es.jsx)(il,{})})]}),e.children&&(0,es.jsx)("span",{className:"ui-checkbox-text",children:e.children})]}),e.hint&&(0,es.jsx)("div",{className:"ui-checkbox-hint",children:e.hint})]}),rl=["click"],sl=["top","top-end"],ol=e=>{const t=(0,Fs.Y)(),i=(0,Vs.S)(),n=(0,is.useRef)(null);return(0,es.jsxs)("div",{className:(0,Cs.Z)("d-flex",e.className),children:[(0,es.jsx)(al,{checked:e.anonymousChecked,disabled:e.locked,onChange:e.onToggle,qa:"anonymously-checkbox",trackingElement:"anonymousCheckbox",dataTestId:e.dataTestId,children:(0,es.jsx)("span",{className:"text-truncate",children:t.translate("privacyScreen.donateAnonymously.label")})}),(0,es.jsx)("div",{className:"flex-shrink-0 icon-slot icon-slot-18 ms-2",children:(0,es.jsx)("button",{type:"button",ref:n,className:"btn-icon p-abs centered text-gray-60 font-size-18",disabled:e.locked,"aria-label":t.translate("privacyScreen.donateAnonymously.helpAriaLabel"),children:(0,es.jsx)(Mc.Z,{className:(0,Cs.Z)("icon-stroke d-block",{"icon-flip-horizontal":i}),"aria-hidden":"true"})})}),!e.locked&&(0,es.jsx)(io.N,{triggerRef:n,trigger:rl,placement:i?"left-start":"right-start",fallbackPlacements:sl,children:t.translate("privacyScreen.donateAnonymously.message")})]})},cl=(0,is.memo)(ol),ll=e=>{const t=(0,Fs.Y)(),i=Zs(),n=(0,is.useRef)(null);return Hc(n,e.autoFocus),(0,es.jsxs)("div",{className:"p-rel",children:[(0,es.jsx)("label",{htmlFor:`account-${i}`,className:"sr-only",children:t.translate("privacyScreen.brokerageAccountNumber.label")}),(0,es.jsx)("input",{ref:n,type:"text",id:`account-${i}`,name:"brokerageAccountNumber",className:(0,Cs.Z)("form-control text-sans-serif",{"has-error":!e.validation.brokerageAccountNumber.isValid}),placeholder:t.translate("privacyScreen.brokerageAccountNumber.placeholder"),value:e.brokerageAccountNumber.accountNumber,disabled:e.locked,onChange:t=>e.onChange(t.target.value),"data-qa":"personal-brokerage-account-number","data-testid":e.dataTestId}),e.validation.brokerageAccountNumber.fields.accountNumber.errors.required&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:t.translate("privacyScreen.brokerageAccountNumber.errors.required")})]})},ul=(0,is.memo)(ll);var dl,hl,ml,pl,gl;(dl||(dl={})).NONE="",function(e){e.MR="Mr",e.MRS="Mrs",e.MISS="Miss",e.MS="Ms",e.MX="Mx",e.SIR="Sir",e.DR="Dr",e.REV="Rev",e.DCN="Dcn",e.FR="Fr",e.BR="Br",e.SR="Sr",e.PROF="Prof"}(hl||(hl={})),function(e){e.M="M",e.MME="Mme",e.MLLE="Mlle",e.AUTRE="Autre"}(ml||(ml={})),function(e){e.HERR="Herr",e.FRAU="Frau",e.DR="Dr",e.PROF="Prof"}(pl||(pl={})),function(e){e.HERR="Herr",e.FRAU="Frau"}(gl||(gl={}));const fl=e=>{var t;const i=(0,Fs.Y)(),n=(0,is.useRef)(null),a=Zs();return Hc(n,e.autoFocus),(0,es.jsxs)("div",{className:"group p-rel",children:[(0,es.jsx)("label",{htmlFor:`title-${a}`,className:"sr-only",children:i.translate("privacyScreen.titleInput.label")}),(0,es.jsxs)("div",{className:"p-rel",children:[(0,es.jsx)("select",{ref:n,id:`title-${a}`,value:e.customerTitle.title,className:(0,Cs.Z)("form-control",{"has-error":!e.validation.customerTitle.isValid}),disabled:e.locked,"data-testid":e.dataTestId,onChange:t=>e.onChange(t.target.value),children:T()(t=e.customerTitle.list).call(t,(e=>(0,es.jsx)("option",{value:e,children:e},e)))}),e.customerTitle.title===dl.NONE&&(0,es.jsx)("div",{className:"p-abs top-left bottom-right text-truncate pointer-events-none custom-select-placeholder z-index-4",children:i.translate("privacyScreen.titleInput.placeholder")})]}),e.validation.customerTitle.fields.title.errors.required&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:i.translate("privacyScreen.customerTitle.errors.required")})]})},yl=(0,is.memo)(fl);var vl;!function(e){e[e.NAME_MIN_LENGTH=1]="NAME_MIN_LENGTH",e[e.NAME_MAX_LENGTH=100]="NAME_MAX_LENGTH",e[e.EMAIL_MAX_LENGTH=320]="EMAIL_MAX_LENGTH",e[e.ON_BEHALF_OF_MAX_LENGTH=60]="ON_BEHALF_OF_MAX_LENGTH"}(vl||(vl={}));const Sl=["click"],Cl=["top-end"],bl={width:"40px",height:"42px"},Al=e=>{const t=(0,Fs.Y)(),i=(0,Vs.S)(),n=(0,As.S)(),a=(0,is.useRef)(null);return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)("button",{type:"button",ref:a,className:"btn-icon p-abs centered-right me-3 z-index-3",disabled:e.isDisabled,"aria-label":t.translate("privacyScreen.emailInput.helpAriaLabel"),"data-testid":"privacy-email-consent-tooltip-trigger",children:[(0,es.jsx)("span",{className:"p-abs centered border-radius-8",style:bl}),(0,es.jsx)("span",{className:"text-gray-60 font-size-18","aria-hidden":"true","data-qa":"privacy-email-consent-tooltip-trigger",children:(0,es.jsx)(Mc.Z,{className:(0,Cs.Z)("icon-stroke d-block",{"icon-flip-horizontal":i})})})]}),!e.isDisabled&&(0,es.jsx)(io.N,{triggerRef:a,trigger:Sl,placement:i?"left-start":"right-start",fallbackPlacements:Cl,maxWidth:n?"var(--fixed-container-width-desktop)":"232px",dataQa:"privacy-email-consent-tooltip",children:t.translate("privacyScreen.emailInput.tooltipLabel")})]})},El=e=>{const t=(0,Fs.Y)(),i=Zs();return(0,es.jsxs)("div",{className:"group p-rel",children:[(0,es.jsx)("label",{htmlFor:`personal-email-${i}`,className:"sr-only",children:t.translate("privacyScreen.emailInput.label")}),(0,es.jsx)("input",{type:"email",id:`personal-email-${i}`,autoComplete:"email",name:"email",inputMode:"email",className:(0,Cs.Z)("form-control",{"pe-10":e.emailConsent.isEnabled,"has-error":!e.validation.donorEmail.fields.email.isValid}),placeholder:t.translate("privacyScreen.emailInput.placeholder"),value:e.email,disabled:e.locked,"aria-live":"polite",onChange:t=>e.onChange(t.target.value),"data-qa":"personal-email","data-testid":e.dataTestId,maxLength:vl.EMAIL_MAX_LENGTH}),!e.validation.donorEmail.fields.email.isValid&&(0,es.jsxs)("div",{role:"alert",className:"sr-only",children:[e.validation.donorEmail.fields.email.errors.required&&t.translate("privacyScreen.emailInput.errors.required"),!e.validation.donorEmail.fields.email.errors.required&&e.validation.donorEmail.fields.email.errors.email&&t.translate("privacyScreen.emailInput.errors.invalid")]}),e.emailConsent.isEnabled&&(0,es.jsx)(Al,{isDisabled:e.locked})]})},xl=(0,is.memo)(El),kl=e=>{const t=(0,Fs.Y)(),i=Zs(),n=(0,is.useRef)(null);return Hc(n,e.autoFocus),(0,es.jsxs)("div",{className:"group p-rel",children:[(0,es.jsx)("label",{htmlFor:`personal-first-name-${i}`,className:"sr-only",children:t.translate("privacyScreen.firstNameInput.label")}),(0,es.jsx)("input",{ref:n,type:"text",id:`personal-first-name-${i}`,autoCorrect:"off",spellCheck:"false",autoComplete:"given-name",name:"firstName",className:(0,Cs.Z)("form-control",{"has-error":!e.validation.donorName.fields.firstName.isValid}),placeholder:t.translate("privacyScreen.firstNameInput.placeholder"),maxLength:vl.NAME_MAX_LENGTH,value:e.firstName,disabled:e.locked,"aria-live":"polite",onChange:t=>e.onChange(t.target.value),"data-qa":"personal-first-name","data-testid":e.dataTestId}),!e.validation.donorName.fields.firstName.isValid&&(0,es.jsxs)("div",{role:"alert",className:"sr-only",children:[e.validation.donorName.fields.firstName.errors.required&&t.translate("privacyScreen.firstNameInput.errors.required"),!e.validation.donorName.fields.firstName.errors.required&&e.validation.donorName.fields.firstName.errors.minLength&&t.translate("privacyScreen.firstNameInput.errors.minLength")]})]})},wl=(0,is.memo)(kl),Nl=e=>{const t=(0,Fs.Y)(),i=Zs();return(0,es.jsxs)("div",{className:"group p-rel",children:[(0,es.jsx)("label",{htmlFor:`personal-last-name-${i}`,className:"sr-only",children:t.translate("privacyScreen.lastNameInput.label")}),(0,es.jsx)("input",{type:"text",id:`personal-last-name-${i}`,autoCorrect:"off",spellCheck:"false",autoComplete:"family-name",name:"lastName",className:(0,Cs.Z)("form-control",{"has-error":!e.validation.donorName.fields.lastName.isValid}),placeholder:t.translate("privacyScreen.lastNameInput.placeholder"),maxLength:vl.NAME_MAX_LENGTH,value:e.lastName,disabled:e.locked,"aria-live":"polite",onChange:t=>e.onChange(t.target.value),"data-qa":"personal-last-name","data-testid":e.dataTestId}),!e.validation.donorName.fields.lastName.isValid&&(0,es.jsxs)("div",{role:"alert",className:"sr-only",children:[e.validation.donorName.fields.lastName.errors.required&&t.translate("privacyScreen.lastNameInput.errors.required"),!e.validation.donorName.fields.lastName.errors.required&&e.validation.donorName.fields.lastName.errors.minLength&&t.translate("privacyScreen.lastNameInput.errors.minLength")]})]})},Pl=(0,is.memo)(Nl),Dl=e=>{var t,i,n;const a=(0,Fs.Y)(),r=(0,Vs.S)(),s=(0,As.S)(),o=oc(),c=Zs(),l=(0,is.useRef)(null),[u,d]=(0,is.useState)(!1),h=(0,is.useRef)(null);return(0,is.useEffect)((()=>{if(e.onBehalfOf.isActive&&o&&u){if(!l.current)throw new Error("onBehalfOfInputRef was not passed");l.current.focus(),d(!1)}}),[e.onBehalfOf.isActive,o,u]),(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)("div",{className:"d-flex",children:[(0,es.jsx)(al,{checked:e.onBehalfOf.isActive,disabled:e.locked,qa:"behalf-company-button",trackingElement:"showBehalfOfInput",dataTestId:e.dataTestIdCheckbox,onChange:()=>{e.onToggleOnBehalfOf(),d(!0)},children:(0,es.jsx)("span",{className:"text-truncate",children:a.translate("privacyScreen.donateAsBusiness")})}),(0,es.jsx)("div",{className:"flex-shrink-0 icon-slot icon-slot-18 ms-2",children:(0,es.jsx)("button",{type:"button",ref:h,className:"btn-icon p-abs centered text-gray-60 font-size-18",disabled:e.locked,"aria-label":a.translate("privacyScreen.onBehalfOfInput.helpAriaLabel"),children:(0,es.jsx)(Mc.Z,{className:(0,Cs.Z)("icon-stroke d-block",{"icon-flip-horizontal":r}),"aria-hidden":"true"})})}),!e.locked&&(0,es.jsx)(io.N,{triggerRef:h,trigger:["click"],placement:r?"left-start":"right-start",fallbackPlacements:["top","top-end"],maxWidth:"232px",children:a.translate("privacyScreen.onBehalfOfInput.popupMessage")})]}),e.onBehalfOf.isActive&&(0,es.jsxs)("div",{className:(0,Cs.Z)("p-rel",s?"my-2":"mt-2"),children:[(0,es.jsx)("label",{htmlFor:`on-behalf-${c}`,className:"sr-only",children:a.translate("privacyScreen.onBehalfOfInput.label")}),(0,es.jsx)("input",{ref:l,type:"text",id:`on-behalf-${c}`,className:(0,Cs.Z)("form-control",{"has-error":!e.validation.onBehalfOf.isValid}),placeholder:a.translate("privacyScreen.onBehalfOfInput.placeholder"),value:null!==(t=e.onBehalfOf.companyName)&&void 0!==t?t:"",disabled:e.locked,autoComplete:"new-password","data-qa":"behalf-company-field","data-testid":e.dataTestIdInput,maxLength:vl.ON_BEHALF_OF_MAX_LENGTH,onChange:t=>e.onChangeCompanyName(t.target.value)}),e.validation.onBehalfOf.fields.onBehalfOf.errors.required&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:a.translate("privacyScreen.onBehalfOfInput.errors.required")}),!(null===(i=e.validation.onBehalfOf)||void 0===i?void 0:i.fields.onBehalfOf.errors.required)&&(null===(n=e.validation.onBehalfOf)||void 0===n?void 0:n.fields.onBehalfOf.errors.minLength)&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:a.translate("privacyScreen.onBehalfOfInput.errors.minLength")})]})]})},Tl=(0,is.memo)(Dl),_l=e=>{var t;const i=(0,Fs.Y)();gn()&&!/<\/?[a-z][\s\S]*>/i.test(i.translate(e.token))&&console.warn('Use "intl.translate" for translations without HTML');const n=null!==(t=e.as)&&void 0!==t?t:"span";return(0,es.jsx)(n,{style:e.style,className:e.className,dangerouslySetInnerHTML:{__html:i.translate(e.token,e.params)},role:e.role,"data-qa":e.qa})},Ol=(0,is.memo)(_l),Il=e=>{const t=(0,As.S)();return(0,es.jsx)(al,{className:e.className,checked:e.mailingListSubscription.checked,disabled:e.locked,onChange:e.onToggle,qa:"mailing-list-checkbox",trackingElement:"subscriptionCheckbox",dataTestId:e.dataTestId,children:(0,es.jsx)("span",{className:(0,Cs.Z)({"text-truncate":!t}),dir:"auto",children:e.mailingListSubscription.text?(0,es.jsx)("span",{dangerouslySetInnerHTML:{__html:e.mailingListSubscription.text},"data-qa":"mailing-list-text"}):(0,es.jsx)(Ol,{token:"privacyScreen.subscriptionText"})})})},Rl=(0,is.memo)(Il),Ll=e=>{var t;const i=(0,As.S)(),n=(0,Fs.Y)();return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(al,{className:e.className,checked:null!==(t=e.termsAndConditions.isAccepted)&&void 0!==t&&t,error:!e.validation.isAccepted.isValid,disabled:e.locked,onChange:e.onToggle,qa:"accept-terms-checkbox",trackingElement:"termsChecked",dataTestId:e.dataTestId,children:(0,es.jsx)("span",{className:(0,Cs.Z)({"text-line-clamp-2":!i}),dir:"auto","data-qa":"accept-terms-text",children:e.termsAndConditions.text?(0,es.jsx)("span",{dangerouslySetInnerHTML:{__html:e.termsAndConditions.text},"data-qa":"accept-terms-link"}):(0,es.jsx)(Ol,{token:"privacyScreen.termsText"})})}),e.validation.isAccepted.fields.isAccepted.errors.required&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:n.translate("privacyScreen.terms.errors.required")})]})},jl=(0,is.memo)(Ll),Ml=(0,is.lazy)((()=>Promise.all([i.e(5529),i.e(9828),i.e(2978)]).then(i.bind(i,42978))));var Fl=i(28316),Ul=i(26584);const Bl=e=>{const[t,i]=(0,is.useState)(!1),[n,a]=(0,is.useState)(!1),[r,s]=(0,is.useState)(!1),[o,c]=(0,is.useState)(!1),l=(0,is.useRef)(null),u=t||n||r||o,d=(0,is.useCallback)((()=>{if(!l.current)return;const e=l.current.clientWidth<l.current.scrollWidth,t=l.current.clientHeight<l.current.scrollHeight,n=Math.ceil(l.current.offsetWidth+l.current.scrollLeft),r=Math.ceil(l.current.offsetHeight+l.current.scrollTop),o=0===l.current.scrollTop,u=n>=l.current.scrollWidth,d=r>=l.current.scrollHeight,h=0===l.current.scrollLeft;i(t&&!o),a(e&&!u),s(t&&!d),c(e&&!h)}),[l]);return(0,is.useEffect)((()=>{if(!l.current)throw new Error("ScrollContainerRef is undefined");const e=(t=d,new ResizeObserver((e=>T()(e).call(e,t))));var t;return null==e||e.observe(l.current),()=>null==e?void 0:e.disconnect()}),[l,d]),(0,es.jsx)("div",{className:(0,Cs.Z)({"scroll-wrap":u},e.className),children:(0,es.jsxs)("div",{className:(0,Cs.Z)("scroll-container",e.scrollContainerClass),ref:l,onScroll:()=>{d()},children:[e.children,u&&(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("span",{className:(0,Cs.Z)("shadow-top",{"is-active":t})}),(0,es.jsx)("span",{className:(0,Cs.Z)("shadow-right",{"is-active":n})}),(0,es.jsx)("span",{className:(0,Cs.Z)("shadow-bottom",{"is-active":r})}),(0,es.jsx)("span",{className:(0,Cs.Z)("shadow-left",{"is-active":o})})]})]})})},Gl=(0,is.memo)(Bl),ql=e=>{const{onChange:t}=e,i=(0,Fs.Y)(),n=!!e.answer,a=(0,is.useCallback)((()=>{t(!n)}),[t,n]);return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(al,{className:(0,Cs.Z)(e.className,{"has-error":e.hasError}),onChange:a,checked:n,error:e.hasError,qa:"question-"+e.type,children:(0,es.jsx)("span",{dir:"auto",dangerouslySetInnerHTML:{__html:e.question}})}),e.hasError&&(0,es.jsx)("div",{className:"sr-only",role:"alert",children:i.translate("questionsScreen.errors.required",{question:e.questionText})})]})},Kl=(0,is.memo)(ql),Vl=e=>{var t,i;const{onChange:n}=e,a=(0,Fs.Y)(),r=Zs(),s=(0,is.useCallback)((e=>{n(e.target.value)}),[n]);return(0,es.jsxs)("div",{className:e.className,children:[(0,es.jsx)("label",{htmlFor:`dropdown-${r}`,className:"text-child-link-decor text-break-word max-w-100",dangerouslySetInnerHTML:{__html:e.question},dir:"auto"}),(0,es.jsx)("div",{className:"mt-3",children:(0,es.jsxs)("select",{id:`dropdown-${r}`,className:(0,Cs.Z)("form-control",{"has-error":e.hasError}),value:null!==(i=e.answer)&&void 0!==i?i:"",onChange:s,"data-qa":"question-"+e.type,children:[(0,es.jsx)("option",{value:""}),T()(t=e.options).call(t,((e,t)=>(0,es.jsx)("option",{value:e,children:e},`${e}-${t}`)))]})}),e.hasError&&(0,es.jsx)("div",{className:"sr-only",role:"alert",children:a.translate("questionsScreen.errors.required",{question:e.questionText})})]})},Hl=(0,is.memo)(Vl);var Yl;!function(e){e[e.ANSWER_MAX_LENGTH=500]="ANSWER_MAX_LENGTH"}(Yl||(Yl={}));const Zl=e=>{var t;const{onChange:i}=e,n=(0,Fs.Y)(),a=Zs();return(0,es.jsxs)("div",{className:e.className,children:[(0,es.jsx)("label",{htmlFor:`multiline-${a}`,className:"text-child-link-decor text-break-word max-w-100",dangerouslySetInnerHTML:{__html:e.question},dir:"auto"}),(0,es.jsx)("div",{className:"mt-3",children:(0,es.jsx)("textarea",{id:`multiline-${a}`,className:(0,Cs.Z)("form-control",{"has-error":e.hasError}),cols:30,rows:7,value:null!==(t=e.answer)&&void 0!==t?t:"",onChange:e=>{i(e.target.value)},"data-qa":"question-"+e.type,maxLength:Yl.ANSWER_MAX_LENGTH})}),e.hasError&&(0,es.jsx)("div",{className:"sr-only",role:"alert",children:n.translate("questionsScreen.errors.required",{question:e.questionText})})]})},$l=e=>{var t;const{onChange:i}=e,n=Be()(t=e.checkedValues).call(t,e.checkboxValue),a=(0,is.useCallback)((()=>{if(e.disabled)return;const t=!n,a=new(q())([...e.checkedValues]);t?a.add(e.checkboxValue):a.delete(e.checkboxValue),i([...a])}),[i,n,e.disabled,e.checkedValues,e.checkboxValue]);return(0,es.jsx)(al,{innerRef:e.innerRef,className:e.className,customLabelClasses:e.customLabelClasses,checkboxValue:e.checkboxValue,checked:n,disabled:e.disabled,error:e.error,hint:e.hint,onChange:a,qa:e.qa,children:e.children})},zl=e=>{var t;const{onChange:i}=e,n=(0,Fs.Y)(),a=(0,is.useCallback)((e=>{i(e)}),[i]);return(0,es.jsxs)("div",{className:e.className,children:[(0,es.jsx)("p",{className:"text-child-link-decor text-break-word",dangerouslySetInnerHTML:{__html:e.question},dir:"auto"}),T()(t=e.options).call(t,((t,i)=>(0,es.jsx)($l,{className:i?"mt-2":"mt-3",checkedValues:e.answer||[],checkboxValue:t,onChange:a,error:e.hasError,qa:"question-"+e.type,children:t},`${t}-${i}`))),e.hasError&&(0,es.jsx)("div",{className:"sr-only",role:"alert",children:n.translate("questionsScreen.errors.required",{question:e.questionText})})]})},Wl=e=>{var t;const{onChange:i}=e,n=(0,Fs.Y)(),a=Zs();return(0,es.jsxs)("div",{className:e.className,children:[(0,es.jsx)("label",{htmlFor:`oneline-${a}`,className:"text-child-link-decor text-break-word max-w-100",dangerouslySetInnerHTML:{__html:e.question},dir:"auto"}),(0,es.jsx)("div",{className:"mt-3",children:(0,es.jsx)("input",{type:"text",id:`oneline-${a}`,className:(0,Cs.Z)("form-control",{"has-error":e.hasError}),onChange:e=>{i(e.target.value)},value:null!==(t=e.answer)&&void 0!==t?t:"","data-qa":"question-"+e.type,maxLength:Yl.ANSWER_MAX_LENGTH})}),e.hasError&&(0,es.jsx)("div",{className:"sr-only",role:"alert",children:n.translate("questionsScreen.errors.required",{question:e.questionText})})]})},Xl=e=>{const{onChange:t}=e;return(0,es.jsxs)("div",{className:(0,nl.Z)(["ui-radio",{"ui-radio-disabled":e.disabled,"has-error":e.error},e.className]),children:[(0,es.jsxs)("label",{className:(0,nl.Z)(["ui-radio-label",e.customLabelClasses]),children:[(0,es.jsxs)("span",{className:"ui-radio-control",children:[(0,es.jsx)("input",{type:"radio",name:e.radioName,value:e.radioValue,checked:e.checked,disabled:e.disabled,onChange:()=>{e.disabled||t(e.radioValue)},"data-qa":e.qa,"data-tracking-element-name":e.trackingElement}),(0,es.jsx)("span",{className:"ui-radio-icon"})]}),e.children&&(0,es.jsx)("span",{className:"ui-radio-text",children:e.children})]}),e.hint&&(0,es.jsx)("div",{className:"ui-radio-hint",children:e.hint})]})},Ql=e=>{var t;const{onChange:i}=e,n=(0,Fs.Y)();return(0,es.jsxs)("div",{className:e.className,children:[(0,es.jsx)("p",{className:"text-child-link-decor text-break-word",dangerouslySetInnerHTML:{__html:e.question},dir:"auto"}),T()(t=e.options).call(t,((t,n)=>(0,es.jsx)(Xl,{checked:t===e.answer,radioValue:t,onChange:i,error:e.hasError,className:n?"mt-2":"mt-3",qa:"question-"+e.type,radioName:e.id,children:t},`${t}-${n}`))),e.hasError&&(0,es.jsx)("div",{className:"sr-only",role:"alert",children:n.translate("questionsScreen.errors.required",{question:e.questionText})})]})},Jl={checkbox:Kl,dropdown:Hl,multiline:(0,is.memo)(Zl),multioption:(0,is.memo)(zl),line:(0,is.memo)(Wl),radio:(0,is.memo)(Ql)},eu=e=>{const{controller:t}=ms(Fa.QUESTIONS),i=(0,rs.T)(),n=Jl[e.type],a=(0,is.useCallback)((i=>{t.answerQuestion(e.id,i)}),[t,e.id]),r=Xc(e.shakeKey,e.hasError),s=(0,is.useMemo)((()=>e.question.replace(/(<([^>]+)>)/gi,"")),[e.question]);return n?(0,es.jsxs)("div",{className:"py-5 p-rel",children:[(0,es.jsx)(n,{id:e.id,answer:e.answer,options:e.options,question:e.question,questionText:s,required:e.required,hasError:e.hasError,onChange:a,className:(0,Cs.Z)({"animation-shake":r}),type:e.type}),!e.isLastOnPage&&(0,es.jsx)("hr",{className:"p-abs bottom-left w-100 m-0"})]}):(i.captureException(new Error(`Unknown type of question: "${e.type}"`)),null)},tu=(0,is.memo)(eu),iu={borderTop:"0"},nu=e=>{const{showBadge:t}=e,{state:i,controller:n}=ms(Fa.QUESTIONS),r=(0,Fs.Y)(),s=(0,is.useRef)(null),o=(0,is.useRef)(null),[c,l]=(0,is.useState)("next"),u=(0,As.S)(),d=(0,Ns.q)(),h=(0,is.useCallback)((e=>{e.preventDefault(),(0,Fl.flushSync)((()=>{l("next")})),n.leave()}),[n]),m=(0,is.useCallback)((()=>{(0,Fl.flushSync)((()=>{l("previous")})),n.back()}),[n]),p=(0,is.useMemo)((()=>{var e;return i.isMeasuring?i.questions:B()(e=i.questions).call(e,(e=>{let{page:t}=e;return t===i.page}))}),[i.isMeasuring,i.page,i.questions]);(0,is.useEffect)((()=>{if(!i.isMeasuring)return;if(!s.current)throw new Error("bodyRef was not provided");if(!o.current)throw new Error("questionsContainerRef was not provided");const e=a()([]).call(o.current.children),t=s.current.getBoundingClientRect(),r=u?463:t.height-12;P()((()=>n.completeMeasurement(function(e){const{height:t,children:i}=e,n=new(wi());let a=1,r=0;const s=T()(i).call(i,(e=>e.offsetHeight));return g()(s).call(s,((e,i)=>{r+e>t&&i>0&&(a+=1,r=0),r+=e,n.set(i,a)})),n}({height:r,children:e}))))}),[i.isMeasuring,u,n,o]);const f=(0,is.useCallback)((e=>is.cloneElement(e,{classNames:c})),[c]),y={minHeight:u?"200px":void 0};return(0,es.jsxs)("form",{onSubmit:h,className:d("flow-screen"),children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:r.translate("common.screenEntered",{screenTitle:`${r.translate("questionsScreen.title")}`})}),(0,es.jsx)(sc,{backButtonClickHandler:m,forceShowBackButton:n.showBackButton.header,title:r.translate("questionsScreen.title"),showBadge:t}),(0,es.jsx)(jo,{ref:s,children:(0,es.jsx)(Ul.Z,{childFactory:f,children:(()=>{const e=(0,is.createRef)();return(0,es.jsx)(bs.Z,{classNames:c,nodeRef:e,addEndListener:t=>{(0,Ts.q)(e,t)},mountOnEnter:!0,unmountOnExit:!0,children:(0,es.jsx)("div",{ref:e,className:d("flow-slide"),style:iu,children:(0,es.jsx)(Gl,{className:(0,Cs.Z)(u?"flex-grow-1":"h-100"),scrollContainerClass:"px-body "+(u?"my-minus-4":"h-100 pt-8"),children:(0,es.jsx)("div",{ref:o,className:(0,Cs.Z)("fixed-container",{"opacity-0":i.isMeasuring,"my-minus-5":!u}),style:y,children:T()(p).call(p,((e,t)=>(0,es.jsx)(tu,{id:e.key,type:e.type,answer:e.answer,options:e.options,question:e.question,required:e.required,hasError:!!i.questionErrors[e.key],shakeKey:i.shakeKey,isLastOnPage:!i.isMeasuring&&t===p.length-1},e.key)))})})})},u||i.isShowcase?null:i.page)})()})}),(0,es.jsx)(zo,{className:(0,Cs.Z)({"pt-7":!u}),backButtonClickHandler:m,forceShowBackButton:n.showBackButton.footer,children:(0,es.jsx)(Lc,{type:"submit",className:"btn-primary",processingState:"idle",dataQa:"questions-button",trackingElement:"nextButton",children:r.translate("questionsScreen.nextButtonLabel")})})]})},au=(0,is.memo)(nu),ru=()=>{const{state:e,controller:t}=ms(Fa.REMIND_ME),i=(0,Fs.Y)(),n=ys();return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("button",{type:"button",className:"btn btn-primary",disabled:e.locked,onClick:()=>(0,u.mG)(void 0,void 0,void 0,(function*(){(yield t.save())&&n.emit("should-hide",{})})),"data-tracking-element-name":"remindMeLaterEmail",children:i.translate("remindMeScreen.button.confirm")}),(0,es.jsx)("button",{type:"button",className:"btn btn-default mt-2",disabled:e.locked,onClick:()=>{t.saveOnClose(),n.emit("should-hide",{})},"data-tracking-element-name":"closeButton",children:i.translate("remindMeScreen.button.close")})]})},su=(0,is.memo)(ru),ou=e=>{let{onTermsAcceptionChange:t,checked:i,isValid:n,className:a,locked:r,text:s}=e;const o=(0,Fs.Y)(),c=(0,As.S)();return(0,es.jsx)(al,{className:a,checked:i,error:!n,disabled:r,onChange:t,children:(0,es.jsx)("span",{className:(0,Cs.Z)({"text-line-clamp-2":!c}),dir:"auto",children:void 0===s||""===s?o.translate("remindMeScreen.termsText"):(0,es.jsx)("span",{dangerouslySetInnerHTML:{__html:s}})})})},cu=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:e.className,"aria-hidden":!!e.ariaHidden||void 0,height:e.height||24,width:e.width||22,fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsxs)("radialGradient",{id:`a-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(2.74225404 11.29096326 -11.5614986 2.80795938 12 10.9506)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#4cadf4"}),(0,es.jsx)("stop",{offset:".816847",stopColor:"#44b8f0"}),(0,es.jsx)("stop",{offset:".861287",stopColor:"#409ff2"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#1f6fef"})]}),(0,es.jsxs)("radialGradient",{id:`b-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-2.81274751 -9.14752313 9.64618176 -2.96607873 12 11.4004)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:".561045",stopColor:"#4dd0f0",stopOpacity:"0"}),(0,es.jsx)("stop",{offset:".868337",stopColor:"#4dd0f0",stopOpacity:".754177"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#4dd0f0",stopOpacity:"0"})]}),(0,es.jsxs)("radialGradient",{id:`c-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-4.76432055 -9.71917643 20.58418864 -10.09032748 13.0442 14.6319)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:".0102742",stopColor:"#4c9ef6"}),(0,es.jsx)("stop",{offset:".885024",stopColor:"#4b9ef6",stopOpacity:"0"})]}),(0,es.jsxs)("radialGradient",{id:`d-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(3.31321384 4.86948528 -10.57415853 7.19469231 8.68678 7.00844)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:".173971",stopColor:"#4bcdf0"}),(0,es.jsx)("stop",{offset:".885024",stopColor:"#4ccef1",stopOpacity:"0"})]}),(0,es.jsxs)("linearGradient",{id:`e-${t}`,gradientUnits:"userSpaceOnUse",x1:"11.9996",x2:"13.77",y1:"6.09863",y2:"23.2126",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#fff"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),(0,es.jsxs)("radialGradient",{id:`f-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(0 6.71448 -11.4928 0 11.9996 11.1869)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#fff",stopOpacity:"0"}),(0,es.jsx)("stop",{offset:".91",stopColor:"#fff"})]}),(0,es.jsx)("circle",{cx:"12",cy:"11.8779",fill:`url(#a-${t})`,r:"11"}),(0,es.jsx)("circle",{cx:"12",cy:"11.8779",fill:`url(#b-${t})`,fillOpacity:".3",r:"11"}),(0,es.jsx)("circle",{cx:"12",cy:"11.8779",fill:`url(#c-${t})`,r:"11"}),(0,es.jsx)("circle",{cx:"12",cy:"11.8779",fill:`url(#d-${t})`,fillOpacity:".8",r:"11"}),(0,es.jsx)("path",{d:"m11.2885 8.33683.7111.71934.7112-.71934c2.0415-2.06503 4.4425-1.26364 5.1381.30145.3554.79955.3807 1.98542-.4866 3.44802-.8318 1.4027-2.4787 3.034-5.3627 4.6715-2.88397-1.6375-4.53087-3.2689-5.36268-4.6716-.8673-1.4626-.84197-2.64841-.48661-3.44797.69559-1.56507 3.09662-2.36647 5.13819-.3014z",stroke:"#fff",strokeWidth:"2"}),(0,es.jsx)("path",{d:"m11.9996 17.9014c13.1081-7.111 4.9269-15.25119 0-10.26762-4.92684-4.98363-13.10811 3.15662 0 10.26762z",fill:"#6bb1d4",fillOpacity:".6"}),(0,es.jsx)("path",{d:"m11.9996 17.9014c13.1081-7.111 4.9269-15.25119 0-10.26762-4.92684-4.98363-13.10811 3.15662 0 10.26762z",fill:`url(#e-${t})`,fillOpacity:".8"}),(0,es.jsx)("path",{d:"m11.9996 17.9014c13.1081-7.111 4.9269-15.25119 0-10.26762-4.92684-4.98363-13.10811 3.15662 0 10.26762z",fill:`url(#f-${t})`}),(0,es.jsx)("path",{d:"m11.644 7.98531.3556.35967.3556-.35967c2.2525-2.27841 5.0915-1.48313 5.9506.4499.4334.97502.4199 2.33219-.5134 3.90609-.9147 1.5424-2.71 3.2801-5.7928 4.9898-3.08277-1.7097-4.8781-3.4474-5.79275-4.9898-.93333-1.574-.94679-2.93111-.51345-3.90614.85913-1.93302 3.69816-2.72829 5.9506-.44985z",stroke:"#3398f1"})]})},lu=(0,is.memo)(cu),uu=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:e.className,"aria-hidden":!!e.ariaHidden||void 0,height:e.height||62,width:e.width||50,viewBox:"0 0 50 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"62",width:"49.3477",x:"0",y:"0",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"7"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:"2.5"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,es.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_35224_19297"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_35224_19297",mode:"normal",result:"shape"})]}),(0,es.jsxs)("filter",{id:`b-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"15",width:"15",x:"16.6719",y:"35",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dx:"-1",dy:"-1"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.722448 0 0 0 0 0.424883 0 0 0 0 0.0858854 0 0 0 0.7 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_35224_19297"})]}),(0,es.jsxs)("filter",{id:`c-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"38",width:"40.3477",x:"4",y:"6",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dx:"-1",dy:"-1"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.722448 0 0 0 0 0.424883 0 0 0 0 0.0858854 0 0 0 0.59 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_35224_19297"})]}),(0,es.jsxs)("filter",{id:`d-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"28.6851",width:"15.7109",x:"9.49219",y:"7.5",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_35224_19297",stdDeviation:"1"})]}),(0,es.jsxs)("filter",{id:`e-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"8",width:"34.5312",x:"6.90625",y:"34",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_35224_19297",stdDeviation:".5"})]}),(0,es.jsxs)("radialGradient",{id:`f-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(4.80000386 4.99999715 -4.99583475 4.79600795 22.6719 2.5)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:".394249",stopColor:"#f3c352"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#d97922"})]}),(0,es.jsxs)("linearGradient",{id:`g-${t}`,children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#fff"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),(0,es.jsx)("linearGradient",{id:`h-${t}`,gradientUnits:"userSpaceOnUse",x1:"21.6719",x2:"23.9748",xlinkHref:`#g-${t}`,y1:"1.66667",y2:"4.77561"}),(0,es.jsxs)("radialGradient",{id:`i-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-2.50005399 6.4999748 -9.01804898 -3.46856872 24.6719 43)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#f3c352"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#e38937"})]}),(0,es.jsxs)("radialGradient",{id:`j-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-1.99995166 7.00001393 -7.00001393 -1.99995166 23.1719 50)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:".0899711",stopColor:"#f3c352",stopOpacity:"0"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#b25b0a"})]}),(0,es.jsxs)("linearGradient",{id:`k-${t}`,gradientUnits:"userSpaceOnUse",x1:"22.1719",x2:"27.1719",y1:"55.5",y2:"44",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ffeab4"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#eaaf6a",stopOpacity:"0"})]}),(0,es.jsxs)("linearGradient",{id:`l-${t}`,gradientUnits:"userSpaceOnUse",x1:"5.17334",x2:"45.6738",y1:"33",y2:"33",children:[(0,es.jsx)("stop",{offset:".135247",stopColor:"#f3c352"}),(0,es.jsx)("stop",{offset:".249813",stopColor:"#ffd87c"}),(0,es.jsx)("stop",{offset:".409209",stopColor:"#f3c352"}),(0,es.jsx)("stop",{offset:".752403",stopColor:"#c57429"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#bf7c19"})]}),(0,es.jsxs)("linearGradient",{id:`m-${t}`,gradientUnits:"userSpaceOnUse",x1:"44.6738",x2:"36.1738",y1:"27.5",y2:"30.5",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#f3c352"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#f3c352",stopOpacity:"0"})]}),(0,es.jsx)("linearGradient",{id:`n-${t}`,gradientUnits:"userSpaceOnUse",x1:"8.67334",x2:"32.1733",xlinkHref:`#g-${t}`,y1:"19.5",y2:"39.5"}),(0,es.jsxs)("linearGradient",{id:`o-${t}`,gradientUnits:"userSpaceOnUse",x1:"17.6733",x2:"22.1733",y1:"9.45",y2:"32",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ffecc0"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#ffda82",stopOpacity:"0"})]}),(0,es.jsxs)("linearGradient",{id:`p-${t}`,gradientUnits:"userSpaceOnUse",x1:"11.6719",x2:"13.1719",y1:"34.5",y2:"42.5",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ffe8b0"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#ffce56",stopOpacity:"0"})]}),(0,es.jsxs)("g",{filter:`url(#a-${t})`,children:[(0,es.jsx)("path",{d:"m21.1719 4c0-1.933 1.567-3.5 3.5-3.5s3.5 1.567 3.5 3.5v5.5h-7z",fill:`url(#f-${t})`,stroke:`url(#h-${t})`}),(0,es.jsxs)("g",{filter:`url(#b-${t})`,children:[(0,es.jsx)("circle",{cx:"24.6719",cy:"43",fill:`url(#i-${t})`,r:"7"}),(0,es.jsx)("circle",{cx:"24.6719",cy:"43",fill:`url(#j-${t})`,fillOpacity:".7",r:"7"})]}),(0,es.jsx)("circle",{cx:"24.6719",cy:"43",r:"6.75",stroke:`url(#k-${t})`,strokeOpacity:".6",strokeWidth:".5"}),(0,es.jsxs)("g",{filter:`url(#c-${t})`,children:[(0,es.jsx)("path",{d:"m24.6737 7c-8.8365 0-14.99999 7.1634-14.99999 16l-1 9.4441c0 1.9793-2.03499 3.6492-2.72998 5.5025l-.75 2c-.73547 1.9613.71437 4.0534 2.80899 4.0534h33.34198c2.0946 0 3.5445-2.0921 2.809-4.0534l-.75-2c-.695-1.8533-2.73-3.5232-2.73-5.5025l-1-9.4441c0-8.8366-6.1634-16-15-16z",fill:`url(#l-${t})`}),(0,es.jsx)("path",{d:"m24.6737 7c-8.8365 0-14.99999 7.1634-14.99999 16l-1 9.4441c0 1.9793-2.03499 3.6492-2.72998 5.5025l-.75 2c-.73547 1.9613.71437 4.0534 2.80899 4.0534h33.34198c2.0946 0 3.5445-2.0921 2.809-4.0534l-.75-2c-.695-1.8533-2.73-3.5232-2.73-5.5025l-1-9.4441c0-8.8366-6.1634-16-15-16z",fill:`url(#m-${t})`,fillOpacity:".8"})]}),(0,es.jsx)("path",{d:"m9.92232 23.0263.00139-.0131v-.0132c0-8.7202 6.07229-15.75 14.74999-15.75s14.75 7.0298 14.75 15.75v.0132l.0014.0131.9986 9.4313c.0046 1.0662.5526 2.0299 1.1461 2.9233.1312.1975.2644.3913.3959.5828.4816.7012.9414 1.3706 1.2039 2.0707l.75 2c.6742 1.7978-.6548 3.7156-2.5749 3.7156h-33.34198c-1.92007 0-3.24909-1.9178-2.57491-3.7156l.75-2c.26254-.7001.72236-1.3696 1.20396-2.0707.1315-.1915.26463-.3853.39581-.5828.59354-.8934 1.14152-1.8571 1.1461-2.9234z",stroke:`url(#n-${t})`,strokeOpacity:".6",strokeWidth:".5"}),(0,es.jsx)("g",{filter:`url(#d-${t})`,children:(0,es.jsx)("path",{d:"m20.5064 9.59066c.1119-.05978.2336-.09066.3604-.09066.6665 0 1.1964.9581.9792 1.5881-.9774 2.8344-1.7581 9.3467 1.3226 20.9119.7455 2.7988-11.2562 2.9893-11.4954.1033-1.4653-17.6803 6.3746-21.199 8.8332-22.51264z",fill:`url(#o-${t})`})}),(0,es.jsx)("g",{filter:`url(#e-${t})`,children:(0,es.jsx)("path",{d:"m8.8427 36.6584c.50817-1.0164 1.547-1.6584 2.6833-1.6584h25.2918c1.1363 0 2.1751.642 2.6833 1.6584l.7236 1.4472c.6649 1.3298-.3021 2.8944-1.7889 2.8944h-28.52786c-1.48676 0-2.45375-1.5646-1.78885-2.8944z",fill:`url(#p-${t})`})})]})]})},du=(0,is.memo)(uu),hu=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:e.className,"aria-hidden":!!e.ariaHidden||void 0,height:e.height||80,width:e.width||80,fill:"none",viewBox:"0 0 80 80",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"67",width:"81",x:"-.972656",y:"30",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feMorphology",{in:"SourceAlpha",operator:"dilate",radius:"3",result:"effect1_dropShadow_35224_19304"}),(0,es.jsx)("feOffset",{dy:"4"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,es.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_35224_19304"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_35224_19304",mode:"normal",result:"shape"})]}),(0,es.jsxs)("filter",{id:`b-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"52.8696",width:"72.2329",x:"8.26211",y:"35.5863",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dx:"-.695652",dy:"-.695652"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:".57971"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,es.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_35224_19304"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_35224_19304",mode:"normal",result:"shape"})]}),(0,es.jsxs)("filter",{id:`c-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"52.8696",width:"72.2329",x:"-.432518",y:"35.5863",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dx:".695652",dy:"-.695652"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:".57971"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,es.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_35224_19304"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_35224_19304",mode:"normal",result:"shape"})]}),(0,es.jsxs)("filter",{id:`d-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"29.7837",width:"82.3188",x:"-1.13208",y:"58.664",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-.695652"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:".57971"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,es.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_35224_19304"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_35224_19304",mode:"normal",result:"shape"})]}),(0,es.jsxs)("linearGradient",{id:`e-${t}`,gradientUnits:"userSpaceOnUse",x1:"40.0273",x2:"40.0273",y1:"44.5256",y2:"88.0038",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#2c3440"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#2c2d31"})]}),(0,es.jsxs)("radialGradient",{id:`f-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(0 -24 33.5 0 39.5273 57)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#eba837"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#915b00",stopOpacity:"0"})]}),(0,es.jsxs)("linearGradient",{id:`g-${t}`,children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#151518"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#313b48"})]}),(0,es.jsx)("linearGradient",{id:`h-${t}`,gradientUnits:"userSpaceOnUse",x1:"62",x2:"62",xlinkHref:`#g-${t}`,y1:"88",y2:"51"}),(0,es.jsxs)("linearGradient",{id:`i-${t}`,children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#cf8413"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#2d3541",stopOpacity:"0"})]}),(0,es.jsx)("radialGradient",{id:`j-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(27.50001912 27.50001912 -27.50001912 27.50001912 49.5352 60)",gradientUnits:"userSpaceOnUse",r:"1",xlinkHref:`#i-${t}`}),(0,es.jsxs)("radialGradient",{id:`k-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(20.50001554 20.50001554 -20.50001554 20.50001554 52.5273 57)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#f1bf51"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#cd8131",stopOpacity:"0"})]}),(0,es.jsx)("linearGradient",{id:`l-${t}`,gradientUnits:"userSpaceOnUse",x1:"18.0625",x2:"18.0625",xlinkHref:`#g-${t}`,y1:"88",y2:"51"}),(0,es.jsx)("radialGradient",{id:`m-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-27.50001912 27.50001912 -27.50001912 -27.50001912 30.5273 60)",gradientUnits:"userSpaceOnUse",r:"1",xlinkHref:`#i-${t}`}),(0,es.jsxs)("radialGradient",{id:`n-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(-17.4999736 17.4999736 -17.4999736 -17.4999736 23.5273 55)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#fff"}),(0,es.jsx)("stop",{offset:".0001",stopColor:"#ffe24b"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),(0,es.jsxs)("radialGradient",{id:`o-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(0 24.5 -24.5 0 40.0273 61.5)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#e4a946"}),(0,es.jsx)("stop",{offset:".542849",stopColor:"#b37c20",stopOpacity:".7"}),(0,es.jsx)("stop",{offset:"1",stopOpacity:"0"})]}),(0,es.jsxs)("linearGradient",{id:`p-${t}`,gradientUnits:"userSpaceOnUse",x1:"40.0273",x2:"40.0273",y1:"60.5",y2:"86.5",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ffd267"}),(0,es.jsx)("stop",{offset:"1",stopOpacity:"0"})]}),(0,es.jsxs)("linearGradient",{id:`q-${t}`,gradientUnits:"userSpaceOnUse",x1:"65.0273",x2:"65.0273",y1:"80",y2:"51",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#222832"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#31373f",stopOpacity:"0"})]}),(0,es.jsx)("clipPath",{id:`r-${t}`,children:(0,es.jsx)("rect",{height:"80",rx:"2",width:"80"})}),(0,es.jsx)("clipPath",{id:`s-${t}`,children:(0,es.jsx)("rect",{height:"80",rx:"1.3913",width:"80",x:".027344"})}),(0,es.jsx)("g",{clipPath:`url(#r-${t})`,children:(0,es.jsxs)("g",{clipPath:`url(#s-${t})`,children:[(0,es.jsx)("path",{d:"m.027344 37.4531h80v50.5507h-80z",fill:`url(#e-${t})`}),(0,es.jsx)("path",{d:"m.0273438 37.4531h79.9999562l-36.7516-26.4186c-1.9409-1.39512-4.5558-1.39513-6.4967 0z",fill:"#2c3440"}),(0,es.jsx)("path",{d:"m6.48047 37.4591h67.09683l-30.3001-21.7809c-1.9409-1.3952-4.5558-1.3952-6.4967 0z",fill:"#222832"}),(0,es.jsxs)("g",{filter:`url(#a-${t})`,children:[(0,es.jsx)("rect",{fill:"#4a4a4d",height:"53",rx:"1.15942",width:"67",x:"6.02734",y:"33"}),(0,es.jsx)("rect",{fill:`url(#f-${t})`,fillOpacity:".3",height:"53",rx:"1.15942",width:"67",x:"6.02734",y:"33"})]}),(0,es.jsxs)("g",{filter:`url(#b-${t})`,children:[(0,es.jsx)("path",{d:"m80.0312 37.4414-69.913 50.5507h69.913z",fill:`url(#h-${t})`}),(0,es.jsx)("path",{d:"m80.0312 37.4414-69.913 50.5507h69.913z",fill:`url(#j-${t})`,fillOpacity:".3"}),(0,es.jsx)("path",{d:"m79.7812 87.7421v-49.8114l-68.8906 49.8114z",stroke:`url(#k-${t})`,strokeOpacity:".5",strokeWidth:".5"})]}),(0,es.jsxs)("g",{filter:`url(#c-${t})`,children:[(0,es.jsx)("path",{d:"m.03125 37.4414 69.91305 50.5507h-69.91305z",fill:`url(#l-${t})`}),(0,es.jsx)("path",{d:"m.03125 37.4414 69.91305 50.5507h-69.91305z",fill:`url(#m-${t})`,fillOpacity:".3"}),(0,es.jsx)("path",{d:"m.28125 87.7421v-49.8114l68.89065 49.8114z",stroke:`url(#n-${t})`,strokeOpacity:".5",strokeWidth:".5"})]}),(0,es.jsxs)("g",{filter:`url(#d-${t})`,children:[(0,es.jsx)("path",{d:"m.0273438 87.9839h79.9999562l-36.7516-26.4186c-1.9409-1.3952-4.5558-1.3952-6.4967 0z",fill:"#1e2736"}),(0,es.jsx)("path",{d:"m.0273438 87.9839h79.9999562l-36.7516-26.4186c-1.9409-1.3952-4.5558-1.3952-6.4967 0z",fill:`url(#o-${t})`,fillOpacity:".3"}),(0,es.jsx)("path",{d:"m36.9249 61.7683-36.121461 25.9656h78.447861l-36.1215-25.9656c-1.8537-1.3325-4.3512-1.3325-6.2049 0z",stroke:`url(#p-${t})`,strokeWidth:".5"})]}),(0,es.jsx)("path",{d:"m.027344 51h80v29h-80z",fill:`url(#q-${t})`})]})})]})},mu=(0,is.memo)(hu);var pu;function gu(){return gu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gu.apply(this,arguments)}var fu=function(e,t){return is.createElement("svg",gu({fill:"none",height:28,viewBox:"0 0 28 28",width:28,xmlns:"http://www.w3.org/2000/svg",ref:t},e),pu||(pu=is.createElement("path",{clipRule:"evenodd",d:"m22.9091 11.7715v.7929c-.0127.0534-.0267.1081-.0356.1629-.1121.8684-.3954 1.7059-.8337 2.464-.3691.6032-.7942 1.1709-1.2689 1.6978-.6084.6947-1.2633 1.3474-1.96 1.9536-.6402.5537-1.2905 1.0971-1.96 1.5973-.8909.6669-1.8174 1.2931-2.7262 1.9409-.03.026-.0684.0403-.1082.0403-.0397 0-.0781-.0143-.1081-.0403-.8019-.56-1.6228-1.0971-2.4017-1.6876-.8152-.6289-1.61352-1.2795-2.39397-1.9511-.99494-.8429-1.89153-1.7954-2.67273-2.8395-.59269-.788-1.00423-1.6972-1.20527-2.6625-.05696-.2147-.10494-.4317-.14382-.6504v-.8183l.03055-.1362c.07763-.3564.12727-.7102.24054-1.0653.37689-1.17548 1.18867-2.16254 2.26928-2.75927 1.00805-.58643 2.19268-.79275 3.33962-.58164 1.1175.18379 2.1372.74804 2.8866 1.59727.0366.04972.0682.10302.0941.15909.1948-.19345.3386-.34236.49-.48236.927-.86272 2.1452-1.34423 3.4116-1.34848 1.2663-.00424 2.4877.46909 3.4204 1.32557.7236.65421 1.2355 1.50951 1.47 2.45632.0777.2711.1146.5511.1655.8337z",fill:"#ff3636",fillRule:"evenodd"})))},yu=(0,is.forwardRef)(fu),vu=(0,is.memo)(yu);const Su=()=>{const e={minHeight:(0,As.S)()?"120px":"64px"};return(0,es.jsx)("div",{className:"p-rel flex-grow-1 mb-minus-3 pointer-events-none",style:e,"aria-hidden":"true",children:(0,es.jsxs)("div",{className:"animation-share p-abs centered",children:[(0,es.jsx)("div",{className:"animation-share-dot-1"}),(0,es.jsx)("div",{className:"animation-share-dot-2"}),(0,es.jsx)("div",{className:"animation-share-circle-1"}),(0,es.jsx)("div",{className:"animation-share-circle-grad-2"}),(0,es.jsx)("div",{className:"animation-share-circle-3"}),(0,es.jsx)("div",{className:"animation-share-circle-4"}),(0,es.jsx)("div",{className:"animation-share-heart animation-share-heart-1",children:(0,es.jsx)(vu,{className:"d-block"})}),(0,es.jsx)("div",{className:"animation-share-heart animation-share-heart-2",children:(0,es.jsx)(vu,{className:"d-block"})}),(0,es.jsx)("div",{className:"animation-share-heart animation-share-heart-3",children:(0,es.jsx)(vu,{className:"d-block"})}),(0,es.jsx)("div",{className:"animation-share-heart animation-share-heart-4",children:(0,es.jsx)(vu,{className:"d-block"})}),(0,es.jsx)("div",{className:"animation-share-heart animation-share-heart-5",children:(0,es.jsx)(vu,{className:"d-block"})}),(0,es.jsx)("div",{className:"animation-share-heart animation-share-heart-6",children:(0,es.jsx)(vu,{className:"d-block"})})]})})},Cu=(0,is.memo)(Su);var bu,Au;!function(e){e.FACEBOOK="Facebook",e.TWITTER="Twitter",e.LINKEDIN="Linkedin",e.EMAIL="Email",e.LINK="Link"}(bu||(bu={})),function(e){e.PAGE="page_thankyou",e.MODAL="modal_thankyou",e.HEADER="top_sharing_button"}(Au||(Au={}));const Eu=e=>{const{as:t,className:i,label:n,onClick:a,Logo:r,trackingElement:s}=e,o=t;return(0,es.jsxs)(o,{href:"a"===e.as?e.href:void 0,type:"button"===e.as?e.type:void 0,target:"a"===e.as?e.target:void 0,className:(0,Cs.Z)("btn btn-default btn-share d-flex align-items-center mt-2",i),"aria-label":n,onClick:()=>null==a?void 0:a(),"data-tracking-element-name":s,children:[(0,es.jsx)("span",{className:"btn-share-icon flex-shrink-0","aria-hidden":"true",children:(0,es.jsx)(r,{})}),(0,es.jsx)("span",{className:"text-truncate px-3",children:n})]})};var xu;function ku(){return ku=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ku.apply(this,arguments)}var wu,Nu=function(e,t){return is.createElement("svg",ku({fill:"none",height:36,viewBox:"0 0 36 36",width:36,xmlns:"http://www.w3.org/2000/svg",ref:t},e),xu||(xu=is.createElement("path",{clipRule:"evenodd",d:"m24.6773 12.6006c.2997 0 .5693.1112.7699.2927l-7.4474 6.1874-7.4451-6.1853c.2005-.1825.4702-.2948.7677-.2948zm-8.6051 5.9219 1.9299 1.6373 1.9298-1.6373 5.5142 4.5846c-.1995.1804-.4691.2927-.7666.2927h-13.3549c-.2986 0-.5694-.1123-.7699-.2927zm-5.873-4.9727v8.9727l5.385-4.4356zm15.5998 8.9721-5.3849-4.4356 5.3849-4.5404z",fill:"currentColor",fillRule:"evenodd"})))},Pu=(0,is.forwardRef)(Nu),Du=(0,is.memo)(Pu);function Tu(){return Tu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tu.apply(this,arguments)}var _u,Ou=function(e,t){return is.createElement("svg",Tu({fill:"none",height:36,viewBox:"0 0 36 36",width:36,xmlns:"http://www.w3.org/2000/svg",ref:t},e),wu||(wu=is.createElement("path",{d:"m26 18c0-4.4192-3.5808-8-8-8s-8 3.5808-8 8c0 3.7504 2.5824 6.8992 6.0672 7.7632v-5.3184h-1.6512v-2.4448h1.6512v-1.0528c0-2.7232 1.232-3.984 3.904-3.984.5056 0 1.3824.0992 1.7376.1984v2.2144c-.1888-.0192-.5152-.0288-.9248-.0288-1.312 0-1.8176.496-1.8176 1.7888v.864h2.6144l-.448 2.4448h-2.1632v5.4976c3.9616-.48 7.0304-3.8528 7.0304-7.9424z",fill:"currentColor"})))},Iu=(0,is.forwardRef)(Ou),Ru=(0,is.memo)(Iu);function Lu(){return Lu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Lu.apply(this,arguments)}var ju,Mu=function(e,t){return is.createElement("svg",Lu({fill:"none",height:36,viewBox:"0 0 36 36",width:36,xmlns:"http://www.w3.org/2000/svg",ref:t},e),_u||(_u=is.createElement("path",{d:"m25.7992 19.6277v5.5721h-3.3443v-5.1986c0-1.3054-.4829-2.1968-1.6937-2.1968-.9241 0-1.473.6002-1.7155 1.1813-.088.2076-.1107.496-.1107.7873v5.4266h-3.3446s.0449-8.8048 0-9.7162h3.3448v1.3768c-.0067.0109-.0162.0215-.0221.0318h.0221v-.0318c.4445-.6606 1.2371-1.605 3.0141-1.605 2.2003 0 3.8499 1.3887 3.8499 4.3725zm-13.7075-8.8279c-1.144 0-1.8925.7254-1.8925 1.6785 0 .9329.7268 1.6793 1.8486 1.6793h.0217c1.1665 0 1.8918-.7464 1.8918-1.6793-.0222-.9531-.7253-1.6785-1.8696-1.6785zm-1.6937 14.4h3.3433v-9.7164h-3.3433z",fill:"currentColor"})))},Fu=(0,is.forwardRef)(Mu),Uu=(0,is.memo)(Fu);function Bu(){return Bu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bu.apply(this,arguments)}var Gu=function(e,t){return is.createElement("svg",Bu({fill:"none",height:36,viewBox:"0 0 36 36",width:36,xmlns:"http://www.w3.org/2000/svg",ref:t},e),ju||(ju=is.createElement("path",{d:"m19.3358 16.9013 5.2069-6.0527h-1.2339l-4.5211 5.2554-3.6111-5.2554h-4.1649l5.4606 7.9471-5.4606 6.3471h1.234l4.7744-5.5498 3.8136 5.5498h4.1649l-5.6631-8.2415zm-1.6901 1.9645-.5532-.7914-4.4022-6.2969h1.8952l3.5527 5.0818.5532.7914 4.618 6.6055h-1.8952l-3.7685-5.3901z",fill:"currentColor"})))},qu=(0,is.forwardRef)(Gu),Ku=(0,is.memo)(qu);function Vu(e){switch(e){case bu.FACEBOOK:return"btn-share-facebook";case bu.TWITTER:return"btn-share-twitter";case bu.LINKEDIN:return"btn-share-linkedin";case bu.EMAIL:return"btn-share-email";case bu.LINK:return"";default:throw new Error(`Unknown sharing type ${e}`)}}const Hu=e=>{const t=(0,Fs.Y)(),i=mo(),{state:n,controller:a}=ms(Fa.THANK_YOU);return(0,es.jsx)("div",{className:(0,Cs.Z)("text-center",e.className),role:"group","aria-label":t.translate("thankYouScreen.share.buttonGroupAriaLabel"),children:(0,es.jsxs)("div",{className:"d-inline-block max-w-100",children:[n.sharing.showFacebook&&(0,es.jsx)(Eu,{as:"button",label:t.translate("thankYouScreen.share.facebook"),Logo:Ru,className:Vu(bu.FACEBOOK),onClick:()=>a.share(bu.FACEBOOK,Au.MODAL),trackingElement:"shareOnFacebook"}),n.sharing.showLinkedin&&(0,es.jsx)(Eu,{as:"button",label:t.translate("thankYouScreen.share.linkedin"),Logo:Uu,className:Vu(bu.LINKEDIN),onClick:()=>a.share(bu.LINKEDIN,Au.MODAL),trackingElement:"shareOnLinkedin"}),n.sharing.showTwitter&&(0,es.jsx)(Eu,{as:"button",label:t.translate("thankYouScreen.share.twitter"),Logo:Ku,className:Vu(bu.TWITTER),onClick:()=>a.share(bu.TWITTER,Au.MODAL),trackingElement:"shareOnTwitter"}),n.sharing.showEmail&&(0,es.jsx)(Eu,{as:"a",target:"_blank",label:t.translate("thankYouScreen.share.email"),Logo:Du,className:Vu(bu.EMAIL),href:i?void 0:a.getSharingLink(bu.EMAIL),trackingElement:"shareOnEmail"})]})})},Yu=(0,is.memo)(Hu),Zu=()=>{const e=(0,Fs.Y)(),t=(0,As.S)();return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("h2",{className:(0,Cs.Z)("title-1 text-center",t?"text-ellipsis":"text-line-clamp-2"),title:e.translate("thankYouScreen.callToAction.parts.title"),children:e.translate("thankYouScreen.callToAction.parts.title")}),(0,es.jsx)("p",{className:(0,Cs.Z)("text-center mt-4",t?"text-ellipsis":"text-line-clamp-2"),children:(0,es.jsx)(Ol,{token:"thankYouScreen.callToAction.parts.message"})})]})},$u=(0,is.memo)(Zu),zu={marginTop:"-1px"},Wu=e=>{const t=(0,As.S)(),i=(0,Ns.q)();return(0,es.jsx)("div",{className:(0,Cs.Z)("p-rel flex-shrink-0 text-white text-center bg-primary py-3 z-index-2",t?"px-5":"px-4"),style:t?zu:void 0,children:(0,es.jsx)("p",{className:(0,Cs.Z)(i("thanks-amount"),t?"text-ellipsis":"text-line-clamp-3"),role:"status","data-qa":"thank-you-header-label",children:e.children})})},Xu=(0,is.memo)(Wu),Qu=()=>{const e=(0,Fs.Y)(),t=(0,As.S)(),{controller:i}=ms(Fa.THANK_YOU),n=ys();return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(Xu,{children:(0,es.jsx)("span",{dangerouslySetInnerHTML:{__html:i.descriptionSharing}})}),(0,es.jsx)(Cu,{}),(0,es.jsx)("div",{className:"p-rel flex-shrink-0 z-index-2 px-body",children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsx)($u,{}),(0,es.jsx)(Yu,{className:"mt-4"})]})}),(0,es.jsx)(zo,{className:(0,Cs.Z)(t?"py-8":"pt-6"),children:(0,es.jsx)("div",{className:"d-flex justify-content-center",children:(0,es.jsx)("button",{type:"button",className:"btn-link text-truncate",onClick:()=>{n.emit("should-hide",{})},"data-qa":"close","data-tracking-element-name":"closeButton",children:e.translate("thankYouScreen.closeButtonLabel")})})})]})},Ju=(0,is.memo)(Qu),ed=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:(0,Cs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:e.height||28,viewBox:"0 0 28 22",width:e.width||22,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsx)("path",{d:"M14 22C38.9885 8.7454 23.3922 -6.42777 14 2.86148C4.60776 -6.42788 -10.9885 8.7453 14 22Z",fill:`url(#a-${t})`}),(0,es.jsx)("path",{d:"M14 22C38.9885 8.7454 23.3922 -6.42777 14 2.86148C4.60776 -6.42788 -10.9885 8.7453 14 22Z",fill:`url(#b-${t})`,fillOpacity:"0.4"}),(0,es.jsxs)("defs",{children:[(0,es.jsxs)("linearGradient",{id:`a-${t}`,x1:"7.7",y1:"2.31579",x2:"14.7509",y2:"20.4379",gradientUnits:"userSpaceOnUse",children:[(0,es.jsx)("stop",{stopColor:"#EF5350"}),(0,es.jsx)("stop",{offset:"0.766418",stopColor:"#F00703"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#D90400"})]}),(0,es.jsxs)("radialGradient",{id:`b-${t}`,cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(14 3) rotate(90) scale(14.5 14.3538)",children:[(0,es.jsx)("stop",{stopColor:"#FFDADA",stopOpacity:"0.7"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#FFDEDE",stopOpacity:"0"})]})]})]})},td=(0,is.memo)(ed),id=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:(0,Cs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:e.height||45,viewBox:"0 0 58 45",width:e.width||58,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsxs)("linearGradient",{id:`a-${t}`,children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#fff"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),(0,es.jsx)("linearGradient",{id:`b-${t}`,gradientUnits:"userSpaceOnUse",x1:"57.6758",x2:"51.7538",xlinkHref:`#a-${t}`,y1:"43.5479",y2:"30.2748"}),(0,es.jsxs)("linearGradient",{id:`c-${t}`,gradientUnits:"userSpaceOnUse",x1:"24.5",x2:"43.9732",y1:"19.9998",y2:"43.9866",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#afd9ff"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#afd9ff",stopOpacity:"0"})]}),(0,es.jsxs)("linearGradient",{id:`d-${t}`,children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#fff",stopOpacity:"0"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#fff"})]}),(0,es.jsx)("linearGradient",{id:`e-${t}`,gradientUnits:"userSpaceOnUse",x1:"44",x2:"45.3989",xlinkHref:`#d-${t}`,y1:"43.9305",y2:"40.4746"}),(0,es.jsx)("linearGradient",{id:`f-${t}`,gradientUnits:"userSpaceOnUse",x1:"13.9881",x2:"-1.5",xlinkHref:`#d-${t}`,y1:"23.5191",y2:"23.0002"}),(0,es.jsxs)("linearGradient",{id:`g-${t}`,children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ccc"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),(0,es.jsx)("linearGradient",{id:`h-${t}`,gradientUnits:"userSpaceOnUse",x1:"1.59986",x2:"10.1475",xlinkHref:`#g-${t}`,y1:"40.5911",y2:"20.8861"}),(0,es.jsx)("linearGradient",{id:`i-${t}`,gradientUnits:"userSpaceOnUse",x1:"14.9126",x2:"4.53288",xlinkHref:`#d-${t}`,y1:"21.0849",y2:"22.133"}),(0,es.jsx)("linearGradient",{id:`j-${t}`,gradientUnits:"userSpaceOnUse",x1:"7.98212",x2:"9.84299",xlinkHref:`#g-${t}`,y1:"1.36069",y2:"22.759"}),(0,es.jsx)("linearGradient",{id:`k-${t}`,gradientUnits:"userSpaceOnUse",x1:"18",x2:"12.5",xlinkHref:`#d-${t}`,y1:"22.5",y2:"21.5"}),(0,es.jsx)("linearGradient",{id:`l-${t}`,gradientUnits:"userSpaceOnUse",x1:"13.8666",x2:"34.7994",xlinkHref:`#a-${t}`,y1:"1.71699",y2:"18.0443"}),(0,es.jsx)("linearGradient",{id:`m-${t}`,gradientUnits:"userSpaceOnUse",x1:"22.3995",x2:"20.0713",xlinkHref:`#d-${t}`,y1:"9.18342",y2:"23.4953"}),(0,es.jsx)("path",{d:"m23.25 17.2498h34.5v26.5h-34.5z",fill:"#6ca7ff"}),(0,es.jsx)("path",{d:"m23.25 17.2498h34.5v26.5h-34.5z",fill:`url(#b-${t})`,fillOpacity:".25"}),(0,es.jsx)("path",{d:"m23.25 17.2498h34.5v26.5h-34.5z",stroke:`url(#c-${t})`,strokeWidth:".5"}),(0,es.jsx)("path",{d:"m23.0002 41.9998h35v2h-35.0002s.0002-.1436.0002-2z",fill:"#63a1fe"}),(0,es.jsx)("path",{d:"m36 16.9998h8v27h-8z",fill:"#f4f4f4"}),(0,es.jsx)("path",{d:"m36 16.9998h8v27h-8z",fill:`url(#e-${t})`,fillOpacity:".75"}),(0,es.jsx)("path",{d:"m44 16.9998h1v27h-1z",fill:"#4285eb",fillOpacity:".5"}),(0,es.jsx)("path",{d:"m36 41.9998h8v2h-8z",fill:"#dcdcdc"}),(0,es.jsx)("path",{d:"m23.0003 16.9998h2.9997l-3 17z",fill:"#4285eb",fillOpacity:".5"}),(0,es.jsx)("path",{d:"m13.6412 25.0853c.0115-.075-.0118-.1512-.0632-.2071-.0514-.0558-.1253-.0853-.2011-.0801-.8872.0611-1.9872.5129-3.0656 1.1638-1.08471.6547-2.17536 1.5275-3.04665 2.4627-.86634.9299-1.53871 1.9461-1.74829 2.8899-.10581.4766-.09598.9459.07883 1.3758.17555.4316.50767.7992 1.00315 1.087.59302.3444 1.29162.3355 1.98368.0916.69083-.2435 1.39592-.7266 2.03868-1.3699 1.2593-1.2602 2.43-3.5461 3.0205-7.4137zm-10.69753 6.2534c-.32535-1.9328.49946-4.0927 3.03672-5.617 3.46639-2.0825 7.07791-2.4294 8.51781-2.3329.3803.0255.6704.3507.6525.7314l-.0186.3955c-.0009.0188-.0026.0377-.005.0564-.5728 4.4547-1.8812 7.2807-3.516 8.9166-1.65634 1.6577-3.5963 2.0384-5.23461 1.6856-1.73168-.373-3.11991-1.9767-3.43282-3.8356z",fill:"#d1d1d1"}),(0,es.jsx)("path",{d:"m13.6412 25.0853c.0115-.075-.0118-.1512-.0632-.2071-.0514-.0558-.1253-.0853-.2011-.0801-.8872.0611-1.9872.5129-3.0656 1.1638-1.08471.6547-2.17536 1.5275-3.04665 2.4627-.86634.9299-1.53871 1.9461-1.74829 2.8899-.10581.4766-.09598.9459.07883 1.3758.17555.4316.50767.7992 1.00315 1.087.59302.3444 1.29162.3355 1.98368.0916.69083-.2435 1.39592-.7266 2.03868-1.3699 1.2593-1.2602 2.43-3.5461 3.0205-7.4137zm-10.69753 6.2534c-.32535-1.9328.49946-4.0927 3.03672-5.617 3.46639-2.0825 7.07791-2.4294 8.51781-2.3329.3803.0255.6704.3507.6525.7314l-.0186.3955c-.0009.0188-.0026.0377-.005.0564-.5728 4.4547-1.8812 7.2807-3.516 8.9166-1.65634 1.6577-3.5963 2.0384-5.23461 1.6856-1.73168-.373-3.11991-1.9767-3.43282-3.8356z",fill:`url(#f-${t})`,fillOpacity:".75"}),(0,es.jsx)("path",{d:"m13.6412 25.0853c.0115-.075-.0118-.1512-.0632-.2071-.0514-.0558-.1253-.0853-.2011-.0801-.8872.0611-1.9872.5129-3.0656 1.1638-1.08471.6547-2.17536 1.5275-3.04665 2.4627-.86634.9299-1.53871 1.9461-1.74829 2.8899-.10581.4766-.09598.9459.07883 1.3758.17555.4316.50767.7992 1.00315 1.087.59302.3444 1.29162.3355 1.98368.0916.69083-.2435 1.39592-.7266 2.03868-1.3699 1.2593-1.2602 2.43-3.5461 3.0205-7.4137zm-10.69753 6.2534c-.32535-1.9328.49946-4.0927 3.03672-5.617 3.46639-2.0825 7.07791-2.4294 8.51781-2.3329.3803.0255.6704.3507.6525.7314l-.0186.3955c-.0009.0188-.0026.0377-.005.0564-.5728 4.4547-1.8812 7.2807-3.516 8.9166-1.65634 1.6577-3.5963 2.0384-5.23461 1.6856-1.73168-.373-3.11991-1.9767-3.43282-3.8356z",stroke:`url(#h-${t})`,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:".5"}),(0,es.jsx)("path",{d:"m14.4876 19.8838c-.0129.0748-.0591.1396-.1255.1763-.0665.0367-.146.0412-.2162.0122-.8221-.3391-1.7221-1.1163-2.5387-2.0755-.8212-.9647-1.5789-2.1382-2.10886-3.3014-.5269-1.1566-.84251-2.3334-.74211-3.2951.05069-.4855.20879-.9275.51083-1.2797.30332-.3538.73484-.59715 1.29594-.71302.6716-.13868 1.3314.09119 1.9105.54186.578.44986 1.0936 1.13166 1.4993 1.94546.7949 1.5944 1.1807 4.1335.5148 7.9889zm-8.16375-9.3218c-.92121 1.73-.82358 4.04 1.0997 6.2899 2.62755 3.0738 5.94285 4.5476 7.33915 4.9125.3688.0963.7469-.1201.8506-.4869l.1077-.3809c.0052-.0182.0096-.0366.0132-.0551.8687-4.4066.5236-7.5016-.5083-9.5714-1.0456-2.09712-2.7648-3.07313-4.4305-3.25781-1.76055-.19521-3.58554.88583-4.47155 2.54971z",fill:"#d1d1d1"}),(0,es.jsx)("path",{d:"m14.4876 19.8838c-.0129.0748-.0591.1396-.1255.1763-.0665.0367-.146.0412-.2162.0122-.8221-.3391-1.7221-1.1163-2.5387-2.0755-.8212-.9647-1.5789-2.1382-2.10886-3.3014-.5269-1.1566-.84251-2.3334-.74211-3.2951.05069-.4855.20879-.9275.51083-1.2797.30332-.3538.73484-.59715 1.29594-.71302.6716-.13868 1.3314.09119 1.9105.54186.578.44986 1.0936 1.13166 1.4993 1.94546.7949 1.5944 1.1807 4.1335.5148 7.9889zm-8.16375-9.3218c-.92121 1.73-.82358 4.04 1.0997 6.2899 2.62755 3.0738 5.94285 4.5476 7.33915 4.9125.3688.0963.7469-.1201.8506-.4869l.1077-.3809c.0052-.0182.0096-.0366.0132-.0551.8687-4.4066.5236-7.5016-.5083-9.5714-1.0456-2.09712-2.7648-3.07313-4.4305-3.25781-1.76055-.19521-3.58554.88583-4.47155 2.54971z",fill:`url(#i-${t})`,fillOpacity:".75"}),(0,es.jsx)("path",{d:"m14.4876 19.8838c-.0129.0748-.0591.1396-.1255.1763-.0665.0367-.146.0412-.2162.0122-.8221-.3391-1.7221-1.1163-2.5387-2.0755-.8212-.9647-1.5789-2.1382-2.10886-3.3014-.5269-1.1566-.84251-2.3334-.74211-3.2951.05069-.4855.20879-.9275.51083-1.2797.30332-.3538.73484-.59715 1.29594-.71302.6716-.13868 1.3314.09119 1.9105.54186.578.44986 1.0936 1.13166 1.4993 1.94546.7949 1.5944 1.1807 4.1335.5148 7.9889zm-8.16375-9.3218c-.92121 1.73-.82358 4.04 1.0997 6.2899 2.62755 3.0738 5.94285 4.5476 7.33915 4.9125.3688.0963.7469-.1201.8506-.4869l.1077-.3809c.0052-.0182.0096-.0366.0132-.0551.8687-4.4066.5236-7.5016-.5083-9.5714-1.0456-2.09712-2.7648-3.07313-4.4305-3.25781-1.76055-.19521-3.58554.88583-4.47155 2.54971z",stroke:`url(#j-${t})`,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:".5"}),(0,es.jsx)("path",{d:"m12.1748 22.2109c-.2704 1.6621.425 3.6152 2.3991 3.9363l1.124-6.9091c-1.9741-.3212-3.2527 1.3108-3.5231 2.9728z",fill:"#d1d1d1"}),(0,es.jsx)("path",{d:"m12.1748 22.2109c-.2704 1.6621.425 3.6152 2.3991 3.9363l1.124-6.9091c-1.9741-.3212-3.2527 1.3108-3.5231 2.9728z",fill:`url(#k-${t})`,fillOpacity:".75"}),(0,es.jsx)("path",{d:"m11.8503 42.9275c2.184-13.491 4.3837-26.9795 6.5831-40.46805 1.8009.29298 5.1024.83055 6.9033 1.12354-2.1944 13.48921-4.3889 26.97831-6.5833 40.46751z",fill:"#67a5ff"}),(0,es.jsx)("path",{d:"m11.8503 42.9275c2.184-13.491 4.3837-26.9795 6.5831-40.46805 1.8009.29298 5.1024.83055 6.9033 1.12354-2.1944 13.48921-4.3889 26.97831-6.5833 40.46751z",fill:`url(#l-${t})`,fillOpacity:".25"}),(0,es.jsx)("path",{d:"m14.4136 27.134 1.4451-8.8832 6.9092 1.124-1.4452 8.8832z",fill:"#d1d1d1"}),(0,es.jsx)("path",{d:"m14.4136 27.134 1.4451-8.8832 6.9092 1.124-1.4452 8.8832z",fill:`url(#m-${t})`,fillOpacity:".75"}),(0,es.jsx)("path",{d:"m16.7793 43.7292 6.5834-40.46795 1.974.32114-6.5834 40.46801z",fill:"#63a1fe"}),(0,es.jsx)("path",{d:"m19.3486 27.937 1.4452-8.8832 1.974.3211-1.4451 8.8833z",fill:"#dcdcdc"}),(0,es.jsx)("path",{d:"m16.019 17.2639-.1605.987 6.9091 1.124.1606-.987z",fill:"#4285eb",fillOpacity:".5"})]})},nd=(0,is.memo)(id),ad=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:(0,Cs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:e.height||13,viewBox:"0 0 41 13",width:e.width||41,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsx)("clipPath",{id:`a-${t}`,children:(0,es.jsx)("path",{d:"m0 0h40.7608v12.7305h-40.7608z"})}),(0,es.jsxs)("g",{clipPath:`url(#a-${t})`,fill:"#82b4ff",children:[(0,es.jsx)("path",{d:"m19.6164 3.86748c0 .41709.341.75529.7618.75529.4206 0 .7617-.338.7617-.75519v-3.112284c0-.417095-.341-.755296-.7617-.755296s-.7618.338102-.7618.755296z"}),(0,es.jsx)("path",{d:"m11.0327 6.16466c-.2539 0-.5019-.12573-.6467-.35477l-1.67691-2.65768c-.22319-.35358-.1149-.8197.24171-1.041.3567-.2213.82681-.11392 1.0499.23966l1.6769 2.65767c.2232.35359.1149.81971-.2417 1.041-.1255.07781-.2652.11512-.4032.11512z"}),(0,es.jsx)("path",{d:"m3.04508 12.7044c-.09764-.0262-.19174-.0722-.276-.1386l-2.479626-1.9549c-.3299609-.2601-.3861529-.73565-.125516-1.06217.260585-.32634.739619-.38013 1.069452-.11998l2.47973 1.95495c.32996.2601.38615.7356.12551 1.0621-.19417.2429-.50913.3348-.79355.2586z"}),(0,es.jsx)("path",{d:"m36.9221 12.445c.1941.2431.509.3349.7934.2587.0977-.0262.1917-.0723.2761-.1387l2.4797-1.955c.3301-.2602.3863-.73572.1255-1.06212-.2608-.32638-.7395-.38006-1.0694-.11998l-2.4797 1.9549c-.3301.2602-.3863.7358-.1256 1.0622z"}),(0,es.jsx)("path",{d:"m29.7262 6.1647c-.1379 0-.2777-.03711-.4033-.11511-.3566-.2213-.4649-.68722-.2417-1.041l1.6769-2.65768c.2232-.35358.6932-.46105 1.0499-.23966.3566.2213.4649.68722.2417 1.041l-1.6769 2.65768c-.1445.22894-.3927.35477-.6466.35477z"})]})]})},rd=(0,is.memo)(ad),sd=()=>{const{controller:e}=ms(Fa.THANK_YOU);return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)("div",{className:"thanks-gift","aria-hidden":"true",children:[(0,es.jsx)("div",{className:"thanks-rays",children:(0,es.jsx)(rd,{className:"d-block mx-auto",width:102,height:32})}),(0,es.jsx)("div",{className:"thanks-heart","data-qa":"thanks-heart",children:(0,es.jsx)(td,{className:"d-block mx-auto",width:78,height:65})}),(0,es.jsx)("div",{className:"thanks-box",children:(0,es.jsx)(nd,{className:"d-block",width:145,height:109})})]}),(0,es.jsx)("p",{className:"mt-6 text-center text-ellipsis",role:"status","data-qa":"sharing-disable-thank-you-text",dangerouslySetInnerHTML:{__html:e.descriptionSharing}})]})},od=(0,is.memo)(sd),cd=()=>{const e=(0,Fs.Y)(),t=(0,As.S)(),i=ys();return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("div",{className:(0,Cs.Z)("px-body flex-grow-1 d-flex justify-content-center align-items-center",{"border-top-1-gray-20":!t}),children:(0,es.jsx)("div",{className:"fixed-container",children:(0,es.jsx)(od,{})})}),(0,es.jsx)(zo,{className:(0,Cs.Z)({"pt-8":t}),children:(0,es.jsx)("div",{className:"d-flex justify-content-center",children:(0,es.jsx)("button",{type:"button",className:"btn-link text-truncate",onClick:()=>{i.emit("should-hide",{})},"data-qa":"close","data-tracking-element-name":"closeButton",children:e.translate("thankYouScreen.closeButtonLabel")})})})]})},ld=(0,is.memo)(cd),ud=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:(0,Cs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:"48",viewBox:"0 0 48 48",width:"48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"52.4762",width:"45",x:"1.5",y:"-9.47619",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feMorphology",{in:"SourceAlpha",operator:"erode",radius:"14.4762",result:"effect1_innerShadow_8986_17764"}),(0,es.jsx)("feOffset",{dy:"-14.4762"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:"12.0635"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 0.439937 0 0 0 0 0.429167 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_8986_17764"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-9.65079"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:"4.8254"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.941667 0 0 0 0 0.0293161 0 0 0 0 0.0117708 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"effect1_innerShadow_8986_17764",mode:"normal",result:"effect2_innerShadow_8986_17764"})]}),(0,es.jsxs)("filter",{id:`b-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"14",width:"14",x:"29.5",y:"26",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dx:"-1",dy:"-1"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:"1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.843137 0 0 0 0 0 0 0 0 0 0.14902 0 0 0 0.75 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_8986_17764"})]}),(0,es.jsxs)("linearGradient",{id:`c-${t}`,children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ef5350"}),(0,es.jsx)("stop",{offset:".766418",stopColor:"#f00703"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#d90400"})]}),(0,es.jsx)("linearGradient",{id:`d-${t}`,gradientUnits:"userSpaceOnUse",x1:"13.5",x2:"26",xlinkHref:`#c-${t}`,y1:"9",y2:"40"}),(0,es.jsxs)("radialGradient",{id:`e-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(8.99996281 14.49996639 -14.49996639 8.99996281 32.5 30)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#fff"}),(0,es.jsx)("stop",{offset:".674662",stopColor:"#e7e7e7"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#c4c4c4"})]}),(0,es.jsx)("linearGradient",{id:`f-${t}`,gradientUnits:"userSpaceOnUse",x1:"33.9667",x2:"38.7609",xlinkHref:`#c-${t}`,y1:"28.3684",y2:"38.4087"}),(0,es.jsx)("g",{filter:`url(#a-${t})`,children:(0,es.jsx)("path",{d:"m24 43c41.6475-22.8943 15.6537-49.10252 0-33.05744-15.65373-16.04526-41.6475 10.16294 0 33.05744z",fill:`url(#d-${t})`})}),(0,es.jsx)("circle",{cx:"37",cy:"33.5",fill:`url(#e-${t})`,r:"9.5"}),(0,es.jsx)("g",{filter:`url(#b-${t})`,children:(0,es.jsx)("path",{d:"m38.5 28.5c0-.8284-.6716-1.5-1.5-1.5s-1.5.6716-1.5 1.5v3.5h-3.5c-.8284 0-1.5.6716-1.5 1.5s.6716 1.5 1.5 1.5h3.5v3.5c0 .8284.6716 1.5 1.5 1.5s1.5-.6716 1.5-1.5v-3.5h3.5c.8284 0 1.5-.6716 1.5-1.5s-.6716-1.5-1.5-1.5h-3.5z",fill:`url(#f-${t})`})})]})},dd=(0,is.memo)(ud),hd=()=>{const e=(0,Fs.Y)(),t=(0,As.S)(),i=ys();return(0,es.jsx)("div",{className:(0,Cs.Z)("px-body border-top-1-gray-20",t?"pt-6 pb-8":"flex-grow-1 d-flex align-items-center py-2"),children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsx)(dd,{className:"d-block mx-auto",ariaHidden:!0}),(0,es.jsx)("p",{className:(0,Cs.Z)("text-center mt-3",t?"text-ellipsis":"text-line-clamp-3"),title:e.translate("thankYouScreen.makeAnotherTribute.title"),children:e.translate("thankYouScreen.makeAnotherTribute.title")}),(0,es.jsx)("button",{type:"button",className:"btn btn-default mt-4",onClick:()=>{i.emit("should-hide",{shouldReopen:!0})},"data-qa":"tribute-make-another","data-tracking-element-name":"makeAnotherTribute",children:e.translate("thankYouScreen.makeAnotherTribute.button")})]})})},md=(0,is.memo)(hd),pd=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:(0,Cs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:"48",viewBox:"0 0 48 48",width:"48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsxs)("linearGradient",{id:`a-${t}`,children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#afd9ff"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#afd9ff",stopOpacity:"0"})]}),(0,es.jsx)("linearGradient",{id:`b-${t}`,gradientUnits:"userSpaceOnUse",x1:"50.5",x2:"31.9257",xlinkHref:`#a-${t}`,y1:"32",y2:"6.87716"}),(0,es.jsxs)("linearGradient",{id:`c-${t}`,gradientUnits:"userSpaceOnUse",x1:"16",x2:"20",y1:"39.5",y2:"40.5",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#8fbcff"}),(0,es.jsx)("stop",{offset:".208333",stopColor:"#8fbcff",stopOpacity:".813559"}),(0,es.jsx)("stop",{offset:".234375",stopColor:"#8fbcff",stopOpacity:"0"})]}),(0,es.jsxs)("linearGradient",{id:`d-${t}`,gradientUnits:"userSpaceOnUse",x1:"67.2852",x2:"2.79451",y1:"17.1454",y2:"39.9202",children:[(0,es.jsx)("stop",{offset:".442708",stopColor:"#fff",stopOpacity:"0"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#fff"})]}),(0,es.jsx)("linearGradient",{id:`e-${t}`,gradientUnits:"userSpaceOnUse",x1:"25.5",x2:"40",xlinkHref:`#a-${t}`,y1:"20.5",y2:"27"}),(0,es.jsx)("path",{d:"m4.88359 25.1745h.00002l.05609-.0474h.00001l.03057-.0259c3.24586-2.7466 4.28803-3.6284 39.39632-18.14832l-33.4844 25.29342c-4.27204 1.4893-7.23131 1.0342-8.7118-.4983-.40047-.6047-.53429-1.5383-.16141-2.6895.37824-1.1677 1.27292-2.5289 2.8746-3.884z",fill:"#8fbcff",stroke:`url(#b-${t})`}),(0,es.jsx)("path",{d:"m47.7789 5.00045-36.6327 27.66835 3.9702 10.7136 2.3144-11.4342z",fill:"#5a9bfc"}),(0,es.jsx)("path",{d:"m24.7306 34.3642-8.8354 7.6768 1.9178-9.4742z",fill:"#2169d6",stroke:`url(#c-${t})`}),(0,es.jsx)("path",{d:"m17.9212 32.183 29.061-25.80479c-.2055.91261-.5316 2.26188-1.0254 4.07169-1.0305 3.7768-2.791 9.5588-5.7082 17.5634-2.6186 7.1853-6.5442 10.3049-10.3618 11.2275-3.8293.9254-7.6707-.3285-10.191-2.1484-.9843-1.0568-1.4305-2.3209-1.6277-3.3432-.0993-.5145-.134-.9608-.144-1.2765-.0036-.1154-.0039-.213-.0029-.2897z",fill:"#6ca7ff"}),(0,es.jsx)("path",{d:"m17.9212 32.183 29.061-25.80479c-.2055.91261-.5316 2.26188-1.0254 4.07169-1.0305 3.7768-2.791 9.5588-5.7082 17.5634-2.6186 7.1853-6.5442 10.3049-10.3618 11.2275-3.8293.9254-7.6707-.3285-10.191-2.1484-.9843-1.0568-1.4305-2.3209-1.6277-3.3432-.0993-.5145-.134-.9608-.144-1.2765-.0036-.1154-.0039-.213-.0029-.2897z",fill:`url(#d-${t})`,fillOpacity:".4"}),(0,es.jsx)("path",{d:"m17.9212 32.183 29.061-25.80479c-.2055.91261-.5316 2.26188-1.0254 4.07169-1.0305 3.7768-2.791 9.5588-5.7082 17.5634-2.6186 7.1853-6.5442 10.3049-10.3618 11.2275-3.8293.9254-7.6707-.3285-10.191-2.1484-.9843-1.0568-1.4305-2.3209-1.6277-3.3432-.0993-.5145-.134-.9608-.144-1.2765-.0036-.1154-.0039-.213-.0029-.2897z",stroke:`url(#e-${t})`})]})},gd=(0,is.memo)(pd),fd=()=>{const{state:e}=ms(Fa.THANK_YOU),t=(0,Fs.Y)(),i=(0,As.S)();return(0,es.jsx)("div",{className:(0,Cs.Z)("px-body",i?"pt-6 pb-8":"flex-grow-1 d-flex align-items-center py-2"),children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsx)(gd,{className:"d-block mx-auto",ariaHidden:!0}),(0,es.jsx)("p",{className:(0,Cs.Z)("text-center mt-3",i?"text-ellipsis":"text-line-clamp-3"),title:t.translate("thankYouScreen.sendCard.title"),children:t.translate("thankYouScreen.sendCard.title")}),(0,es.jsx)("a",{href:e.tributeDonorPortalLink,className:"btn btn-default mt-4",target:"_blank",rel:"noreferrer","data-qa":"tribute-send-card","data-tracking-element-name":"completeDedication",children:t.translate("thankYouScreen.sendCard.button")})]})})},yd=(0,is.memo)(fd),vd=()=>{const{controller:e}=ms(Fa.THANK_YOU);return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(Xu,{children:(0,es.jsx)("span",{dangerouslySetInnerHTML:{__html:e.descriptionTribute}})}),(0,es.jsx)(yd,{}),(0,es.jsx)(md,{})]})},Sd={Sharing:Ju,Tribute:(0,is.memo)(vd),Default:ld},Cd=e=>{const{transitionEntered:t}=e,i=(0,Fs.Y)(),n=(0,Ns.q)(),{state:a,controller:r}=ms(Fa.THANK_YOU),s=(0,As.S)(),o=Sd[a.variant],c=(0,ns.C)().getAskPageConfig().show;return(0,is.useEffect)((()=>{t&&r.shown()}),[t,r]),(0,es.jsxs)("div",{className:n("flow-screen"),"data-qa":"active-screen-thank-you",children:[s?(0,es.jsx)(es.Fragment,{children:!c&&(0,es.jsx)(sc,{})}):(0,es.jsx)(sc,{className:"border-bottom-0",title:i.translate("thankYouScreen.thankYou")}),(0,es.jsx)(jo,{children:(0,es.jsx)(o,{})})]})},bd=(0,is.memo)(Cd),Ad=e=>{const t=Zs();return(0,es.jsxs)("div",{className:(0,Cs.Z)("check-image",e.className),"aria-hidden":"true",children:[(0,es.jsxs)("svg",{className:"d-block w-100",width:266,height:104,viewBox:"0 0 266 104",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,es.jsx)("rect",{width:"266",height:"104",rx:"4",fill:"#F5FAFF"}),(0,es.jsx)("rect",{width:"266",height:"104",rx:"4",fill:`url(#${t}-paint0_linear_12221_26907)`}),(0,es.jsx)("rect",{x:"4.5",y:"4.5",width:"257",height:"95",rx:"0.5",stroke:`url(#${t}-paint1_linear_12221_26907)`}),(0,es.jsx)("path",{d:"M213.213 36.3C213.513 40.8 213.813 45.2 214.113 49.7C214.313 51.9 214.513 54.1 214.513 56.2C214.513 56.6 214.513 57.5 214.213 57.2C212.813 55.8 212.013 53 211.313 51.2C210.413 49.1 209.913 47 210.013 44.6C210.113 41 212.713 37.4 216.513 36.4C218.513 35.9 220.013 37 220.113 39C220.313 41.2 218.713 43.5 217.313 45.1C217.013 45.5 210.613 51.6 213.013 52.3C214.613 52.7 217.113 51.6 218.313 50.7C219.113 50.1 218.613 50.4 218.513 51.2C218.313 52.4 218.913 57.7 221.013 56.7C222.613 55.9 225.513 51.3 223.413 49.7C222.713 49.2 222.013 49.5 221.413 49.9C220.213 50.7 220.313 51.6 221.213 52.6C222.413 53.8 224.313 55.1 226.013 54C228.413 52.5 229.813 49.8 230.413 47.2C231.013 44.9 229.213 48 229.013 48.7C228.813 49.3 228.613 50.2 228.913 50.8C229.713 52.3 232.213 48.8 232.513 48.4C233.013 47.7 233.513 46.8 233.913 46.1C234.113 45.7 234.813 44.8 234.413 44.9C233.313 45.4 232.813 47.4 232.713 48.4C232.613 49.2 232.213 50.8 233.013 51.5C234.813 52.9 237.313 47.7 237.813 46.7C238.013 46.4 238.313 45.7 238.413 45.3C238.513 45 238.313 44.8 238.113 45.1C237.513 46 236.213 49.7 238.213 50C239.113 50.1 239.613 49.3 240.013 48.7C241.813 46.3 243.013 43.5 244.413 41C246.013 38.2 247.513 35.2 249.913 33",stroke:"#A6C2DD",strokeLinecap:"round",strokeLinejoin:"round"}),(0,es.jsx)("path",{d:"M20 14.5H48C50.2 14.5 52 16.3 52 18.5C52 20.7 50.2 22.5 48 22.5H20C17.8 22.5 16 20.7 16 18.5C16 16.3 17.8 14.5 20 14.5Z",fill:"#A4CDF3",fillOpacity:"0.5"}),(0,es.jsx)("path",{d:"M59 14.5H68C70.2 14.5 72 16.3 72 18.5C72 20.7 70.2 22.5 68 22.5H59C56.8 22.5 55 20.7 55 18.5C55 16.3 56.8 14.5 59 14.5Z",fill:"#A4CDF3",fillOpacity:"0.5"}),(0,es.jsx)("path",{d:"M19 32.5H118C119.7 32.5 121 33.8 121 35.5C121 37.2 119.7 38.5 118 38.5H19C17.3 38.5 16 37.2 16 35.5C16 33.8 17.3 32.5 19 32.5Z",fill:"#A4CDF3",fillOpacity:"0.5"}),(0,es.jsx)("path",{d:"M227 16.5H247C248.7 16.5 250 17.8 250 19.5C250 21.2 248.7 22.5 247 22.5H227C225.3 22.5 224 21.2 224 19.5C224 17.8 225.3 16.5 227 16.5Z",fill:"#A4CDF3",fillOpacity:"0.5"}),(0,es.jsx)("path",{d:"M19 42.5H100C101.7 42.5 103 43.8 103 45.5C103 47.2 101.7 48.5 100 48.5H19C17.3 48.5 16 47.2 16 45.5C16 43.8 17.3 42.5 19 42.5Z",fill:"#A4CDF3",fillOpacity:"0.5"}),(0,es.jsxs)("defs",{children:[(0,es.jsxs)("linearGradient",{id:`${t}-paint0_linear_12221_26907`,x1:"38.3423",y1:"21.9516",x2:"46.3388",y2:"103.855",gradientUnits:"userSpaceOnUse",children:[(0,es.jsx)("stop",{stopColor:"#F2F9FF",stopOpacity:"0.5"}),(0,es.jsx)("stop",{offset:"0.629481",stopColor:"#D1E1F0",stopOpacity:"0.5"})]}),(0,es.jsxs)("linearGradient",{id:`${t}-paint1_linear_12221_26907`,x1:"43.314",y1:"64.3826",x2:"226.883",y2:"215.125",gradientUnits:"userSpaceOnUse",children:[(0,es.jsx)("stop",{stopColor:"#CDE3FA"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#9CBBDA"})]})]})]}),(0,es.jsx)("div",{className:"check-image-numbers",dir:"ltr",children:e.children})]})},Ed={boxShadow:"0 0 0 4px rgba(51, 113, 230, 0.5)"};var xd,kd;function wd(){return wd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},wd.apply(this,arguments)}var Nd,Pd=function(e,t){return is.createElement("svg",wd({fill:"none",height:20,viewBox:"0 0 20 20",width:20,xmlns:"http://www.w3.org/2000/svg",ref:t},e),xd||(xd=is.createElement("path",{d:"m19.9993 19.9993h-9.9395-10.0598v-10.09897-9.90033h9.92582 10.07348v9.99837z",fill:"#fff"})),kd||(kd=is.createElement("path",{d:"m19.9997 19.9993v-3.1691h-2.413l-1.2425-1.3738-1.2483 1.3738h-7.95463v-6.4018h-2.56724l3.18486-7.20759h3.07111l1.0967 2.4692v-2.4692h3.8019l.6601 1.86072.6647-1.86072h2.9469v-3.22081h-19.99932344v19.9993zm-2.0058-3.9704h2.0064l-2.6541-2.8143 2.6541-2.7823h-1.9744l-1.6392 1.7908-1.6235-1.7908h-2.0071l2.6385 2.7986-2.6385 2.7986h1.9509l1.647-1.8071zm.4692-2.8123 1.5372 1.6352v-3.2568zm-8.94479 1.5169v-.8712h3.15809v-1.2634h-3.15809v-.8712h3.23779v-1.2954h-4.76519v5.5972h4.76519v-1.2953h-3.23779zm8.97029-5.11355h1.5111v-5.59721h-2.3509l-1.2555 3.48616-1.2471-3.48616h-2.3907v5.59721h1.511v-3.91752l1.4392 3.91752h1.3431l1.4392-3.92602v3.92602zm-7.452 0h1.7189l-2.4705-5.59721h-1.9673l-2.47051 5.59721h1.67903l.46404-1.11957h2.57444zm-.9994-2.37509h-1.51951l.76011-1.83066z",fill:"#0072bb"})))},Dd=(0,is.forwardRef)(Pd),Td=(0,is.memo)(Dd);function _d(){return _d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_d.apply(this,arguments)}var Od=function(e,t){return is.createElement("svg",_d({fill:"none",height:48,viewBox:"0 0 49 48",width:48,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Nd||(Nd=is.createElement("g",{stroke:"#619fff",strokeWidth:2},is.createElement("path",{d:"m8 8h5.2274c.4551 0 .8528.30725.9676.74758l5.0249 19.26212c.4595 1.7613 2.0502 2.9903 3.8705 2.9903h19.9096"}),is.createElement("path",{d:"m3 18h8"}),is.createElement("path",{d:"m6 28h7"}),is.createElement("path",{d:"m0 23.0002h12"}),is.createElement("path",{d:"m19 25.9998h23.3132c.4138 0 .7848-.2548.9333-.641l4.2308-11c.2519-.655-.2316-1.359-.9333-1.359h-25.544"}),is.createElement("circle",{cx:25.5,cy:37.5,r:2.5}),is.createElement("circle",{cx:37.5,cy:37.5,r:2.5}))))},Id=(0,is.forwardRef)(Od),Rd=(0,is.memo)(Id);const Ld=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:(0,Cs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,style:e.style,fill:"none",height:"20",viewBox:"0 0 32 20",width:"32",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsxs)("linearGradient",{id:`a-${t}`,gradientUnits:"userSpaceOnUse",x1:"17.8499",x2:"16.1859",y1:"10.3256",y2:"7.72024",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#f89f20"}),(0,es.jsx)("stop",{offset:".2502",stopColor:"#f79a20"}),(0,es.jsx)("stop",{offset:".5331",stopColor:"#f68d20"}),(0,es.jsx)("stop",{offset:".6196",stopColor:"#f58720"}),(0,es.jsx)("stop",{offset:".7232",stopColor:"#f48120"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#f37521"})]}),(0,es.jsxs)("linearGradient",{id:`b-${t}`,gradientUnits:"userSpaceOnUse",x1:"17.5872",x2:"15.1552",y1:"10.2905",y2:"5.53707",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#f58720"}),(0,es.jsx)("stop",{offset:".3587",stopColor:"#e16f27"}),(0,es.jsx)("stop",{offset:".703",stopColor:"#d4602c"}),(0,es.jsx)("stop",{offset:".9816",stopColor:"#d05b2e"})]}),(0,es.jsx)("clipPath",{id:`c-${t}`,children:(0,es.jsx)("path",{d:"m0 0h32v20h-32z"})}),(0,es.jsxs)("g",{clipPath:`url(#c-${t})`,children:[(0,es.jsx)("path",{d:"m0 0h32v20h-31.99118735z",fill:"#fff"}),(0,es.jsx)("path",{d:"m32 12s-8.4766 5.523-24 8h24z",fill:"#f48120"}),(0,es.jsxs)("g",{fill:"#231f20",children:[(0,es.jsx)("path",{d:"m2.98959 6.12354h-1.28964v4.51886h1.28964c.6817 0 1.175-.164 1.61036-.5176.51768-.42748.82134-1.06834.82134-1.73358-.00792-1.33903-1.00183-2.26768-2.4317-2.26768zm1.03536 3.40121c-.27927.24635-.63232.36159-1.20793.36159h-.2378v-2.99024h.23841c.56708 0 .9122.09878 1.20793.36158.30427.27134.48476.69025.48476 1.12561-.00061.43537-.18171.87073-.48537 1.14146z"}),(0,es.jsx)("path",{d:"m6.70373 6.12354h-.87927v4.51886h.87927z"}),(0,es.jsx)("path",{d:"m8.85551 7.85664c-.52561-.19695-.68171-.32866-.68171-.56707 0-.28781.27927-.50122.65732-.50122.26281 0 .48476.10671.70671.36951l.46036-.6c-.37804-.32866-.82987-.50122-1.33109-.50122-.79695 0-1.41281.55854-1.41281 1.29817 0 .62439.28781.94451 1.10915 1.24085.34512.12318.51768.20549.60793.25488.17256.11525.2628.27927.2628.4683 0 .36951-.2878.64085-.68171.64085-.4189 0-.75609-.21342-.96097-.6l-.56708.55061c.40244.6.89574.8628 1.56098.8628.91219 0 1.56101-.6079 1.56101-1.48719.0158-.7311-.28845-1.05976-1.29089-1.42927z"}),(0,es.jsx)("path",{d:"m10.4329 8.391c0 1.3311 1.0433 2.3579 2.3823 2.3579.378 0 .7067-.0738 1.1006-.2628v-1.03534c-.3531.35304-.6653.49268-1.0598.49268-.8872 0-1.5201-.64086-1.5201-1.56098 0-.87073.6488-1.55305 1.4787-1.55305.4189 0 .7396.14818 1.1006.50915v-1.03537c-.386-.19695-.7067-.27926-1.0848-.27926-1.3213.00061-2.3975 1.05244-2.3975 2.36707z"}),(0,es.jsx)("path",{d:"m20.9165 9.16317-1.208-3.03963h-.9609l1.914 4.63356h.4768l1.947-4.63356h-.9531z"}),(0,es.jsx)("path",{d:"m23.4878 10.6424h2.4976v-.76399h-1.6183v-1.21585h1.5609v-.76463h-1.5609v-1.00183h1.6183v-.77256h-2.4976z"}),(0,es.jsx)("path",{d:"m29.4768 7.46245c0-.84635-.5836-1.3311-1.6019-1.3311h-1.3061v4.51885h.8793v-1.8158h.1153l1.2158 1.8158h1.0848l-1.4214-1.90605c.6647-.13963 1.0342-.59146 1.0342-1.2817zm-1.7744.74756h-.2549v-1.37196h.2713c.5507 0 .8464.22988.8464.67379 0 .45182-.2957.69817-.8628.69817z"})]}),(0,es.jsx)("path",{d:"m16.6195 10.8063c1.3295 0 2.4073-1.07776 2.4073-2.40728 0-1.32953-1.0778-2.40732-2.4073-2.40732s-2.4073 1.07779-2.4073 2.40732c0 1.32952 1.0778 2.40728 2.4073 2.40728z",fill:`url(#a-${t})`}),(0,es.jsx)("path",{d:"m16.6195 10.8063c1.3295 0 2.4073-1.07776 2.4073-2.40728 0-1.32953-1.0778-2.40732-2.4073-2.40732s-2.4073 1.07779-2.4073 2.40732c0 1.32952 1.0778 2.40728 2.4073 2.40728z",fill:`url(#b-${t})`,opacity:".65"}),(0,es.jsx)("path",{d:"m30.036 6.29553c0-.08231-.0573-.12317-.1482-.12317h-.1317v.39452h.0988v-.1561l.1152.1561h.1153l-.1317-.16403c.0494-.00854.0823-.05.0823-.10732zm-.1647.05732h-.0164v-.10671h.0164c.0494 0 .0738.01647.0738.04939 0 .04086-.0244.05732-.0738.05732z",fill:"#231f20"}),(0,es.jsx)("path",{d:"m29.9042 6.02441c-.189 0-.3451.1561-.3451.34513 0 .18902.1561.34512.3451.34512s.3451-.1561.3451-.34512c0-.18903-.1561-.34513-.3451-.34513zm0 .63293c-.1482 0-.2793-.12317-.2793-.2878 0-.1561.1232-.28781.2793-.28781.1482 0 .2713.13171.2713.28781 0 .15609-.1231.2878-.2713.2878z",fill:"#231f20"})]})]})},jd=(0,is.memo)(Ld);var Md;function Fd(){return Fd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fd.apply(this,arguments)}var Ud,Bd,Gd,qd=function(e,t){return is.createElement("svg",Fd({fill:"none",height:30,viewBox:"0 0 30 30",width:30,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Md||(Md=is.createElement("path",{clipRule:"evenodd",d:"m29.7537 14.4247-7.1878-8.01292c-.1516-.23755-.4257-.3962-.7385-.3962-.477 0-.8638.36888-.8638.8241 0 .23985.1075.45578.279.60642l6.5116 7.5311-6.4393 7.3881h-.7021-2.0796l6.0854-6.7553c.0039-.0042.0075-.0084.0112-.0125l.0013.0004c.1695-.1777.245-.3854.241-.5902.004-.2046-.0715-.4123-.241-.59l-.0013.0003c-.0037-.0042-.0073-.0083-.0112-.0124l-7.2667-7.98077c-.0016-.00186-.0033-.00373-.005-.00559-.1504-.24171-.4269-.40366-.7428-.40366h-5.1036c-.477 0-.8638.36888-.8638.8241 0 .13814.0198.28176.0989.38281l6.7634 7.81591-5.7643 6.5977c-.0343.0327-.531.708-1.4044.708h-6.88429c-.93625 0-1.71265-.697-1.71265-1.623v-11.43698c0-.806.7764-1.63383 1.73381-1.63383h4.28291c.50488 0 .86381-.32894.86381-.81061s-.35893-.83968-.86381-.83968l-4.32488.01635c-2.04882 0-3.4252 1.6121-3.4252 3.25098v11.45377c0 1.7647 1.63066 3.2677 3.4252 3.2677h6.8824c.3471 0 .6646-.0485.9505-.1262.0408-.0111.0811-.0228.1205-.035.9489-.2934 1.5216-.8962 1.6325-1.0239l6.4872-7.2129c.3069-.3321.3477-.8138.0051-1.1731l-.0013.0003c-.0038-.0042-.0073-.0083-.0111-.0124l-6.1364-6.75531h2.1306.7021l6.4127 7.35751-6.7481 7.7659c-.0022.0023.0019.009.0115.0194-.0631.1144-.099.2446-.099.3828 0 .4551.3868.8241.8637.8241h5.1036c.3161 0 .5923-.1622.743-.4038.0016-.0018.0032-.0037.0048-.0055l7.2668-7.9807c.0038-.0042.0074-.0084.0112-.0125l.0012.0004c.3425-.3594.3018-.8411-.005-1.1732z",fill:"currentColor",fillRule:"evenodd"})))},Kd=(0,is.forwardRef)(qd),Vd=(0,is.memo)(Kd);function Hd(){return Hd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Hd.apply(this,arguments)}var Yd,Zd,$d,zd,Wd,Xd=function(e,t){return is.createElement("svg",Hd({fill:"none",height:18,viewBox:"0 0 29 18",width:29,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Ud||(Ud=is.createElement("path",{d:"m18.4206 1.92188h-7.8415v14.14942h7.8415z",fill:"#ff5f00"})),Bd||(Bd=is.createElement("path",{d:"m11.0763 9.00073c-.0011-1.36247.3066-2.70733.8996-3.93281s1.4558-2.29946 2.5233-3.14067c-1.3221-1.043223-2.9098-1.691941-4.58169-1.8720122-1.6719-.1800708-3.36052.1157692-4.87287.8537092-1.51236.737943-2.78744 1.888213-3.67951 3.319343-.892063 1.43113-1.36513 3.08538-1.36513 4.77369 0 1.68832.473067 3.34252 1.36513 4.77372.89207 1.4311 2.16715 2.5814 3.67951 3.3193 1.51235.738 3.20097 1.0338 4.87287.8537 1.67189-.18 3.25959-.8288 4.58169-1.872-1.0678-.8415-1.9309-1.9158-2.5239-3.1418-.593-1.2259-.9004-2.5713-.899-3.93417z",fill:"#eb001b"})),Gd||(Gd=is.createElement("path",{d:"m29.0005 9.00037c-.0001 1.68843-.4732 3.34283-1.3655 4.77393-.8922 1.4312-2.1675 2.5815-3.68 3.3193s-3.2013 1.0335-4.8733.8532c-1.672-.1804-3.2597-.8294-4.5817-1.873 1.067-.8419 1.9296-1.9162 2.5228-3.1417.5932-1.2256.9014-2.5704.9014-3.93298 0-1.3626-.3082-2.7074-.9014-3.93295s-1.4558-2.29983-2.5228-3.14179c1.3221-1.043676 2.9101-1.692739 4.5823-1.8729748 1.6722-.1802362 3.3612.1156298 4.8738.8537688 1.5127.738136 2.7879 1.888756 3.6799 3.320306.8921 1.43154 1.3649 3.08624 1.3645 4.77489z",fill:"#f79e1b"})))},Qd=(0,is.forwardRef)(Xd),Jd=(0,is.memo)(Qd);function eh(){return eh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},eh.apply(this,arguments)}var th,ih=function(e,t){return is.createElement("svg",eh({fill:"none",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Yd||(Yd=is.createElement("path",{d:"m20 34h-12c-1.10457 0-2-.8954-2-2v-20c0-1.1046.89543-2 2-2h32c1.1046 0 2 .8954 2 2v20c0 1.1046-.8954 2-2 2",stroke:"#619fff",strokeWidth:2})),Zd||(Zd=is.createElement("path",{d:"m6 16h36",stroke:"#619fff",strokeWidth:2})),$d||($d=is.createElement("path",{d:"m23 36.9999v-8.9999c0-.5523.4477-1 1-1h12c.5523 0 1 .4477 1 1v8.9999c0 .5523-.4477 1-1 1h-12c-.5523 0-1-.4477-1-1z",stroke:"#619fff",strokeWidth:2})),zd||(zd=is.createElement("path",{d:"m25 27v-4c0-1.1046.8954-2 2-2h6c1.1046 0 2 .8954 2 2v4",stroke:"#619fff",strokeWidth:2})),Wd||(Wd=is.createElement("g",{fill:"#619fff"},is.createElement("path",{d:"m29 34.5c0 .5523.4477 1 1 1s1-.4477 1-1zm2 0v-3.3774h-2v3.3774z"}),is.createElement("circle",{cx:30,cy:32,r:2}),is.createElement("circle",{cx:10,cy:13,r:1}),is.createElement("circle",{cx:13,cy:13,r:1}),is.createElement("circle",{cx:16,cy:13,r:1}))))},nh=(0,is.forwardRef)(ih),ah=(0,is.memo)(nh);function rh(){return rh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},rh.apply(this,arguments)}var sh,oh=function(e,t){return is.createElement("svg",rh({fill:"none",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg",ref:t},e),th||(th=is.createElement("g",{stroke:"#619fff",strokeLinejoin:"round",strokeWidth:2},is.createElement("path",{d:"m24 44s16-8 16-20v-14l-16-6-16 6v14c0 12 16 20 16 20z"}),is.createElement("path",{d:"m32.9981 24.0005c0 7.2-9.0001 12-9.0001 12s-9-4.8-9-12v-8.4l9-3.6 7.0773 2.7689"}),is.createElement("path",{d:"m35 15.9995-11 11.0005-5-5.0005"}))))},ch=(0,is.forwardRef)(oh),lh=(0,is.memo)(ch);function uh(){return uh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},uh.apply(this,arguments)}var dh=function(e,t){return is.createElement("svg",uh({fill:"none",height:14,viewBox:"0 0 40 14",width:40,xmlns:"http://www.w3.org/2000/svg",ref:t},e),sh||(sh=is.createElement("g",{clipRule:"evenodd",fill:"currentColor",fillRule:"evenodd"},is.createElement("path",{d:"m16.2606.904853-1.9849 12.198647h3.1757l1.9851-12.198647zm-4.6569 0-3.02786 8.390147-.35816-1.8067.00026.00059-.07893-.40493c-.36644-.78974-1.21514-2.29072-2.81772-3.57168-.47379-.37863-.95139-.70176-1.41309-.97778l2.75183 10.569h3.30885l5.05282-12.198647zm12.3943 3.386597c0-1.37917 3.0929-1.20196 4.4519-.45307l.4532-2.61995s-1.3986-.531907-2.8565-.531907c-1.5761 0-5.3186.689247-5.3186 4.038287 0 3.15185 4.3926 3.19102 4.3926 4.84578 0 1.65481-3.9397 1.35901-5.2399.31519l-.4725 2.73842s1.418.6893 3.5851.6893c2.1669 0 5.4369-1.1226 5.4369-4.17627 0-3.17156-4.4322-3.46695-4.4322-4.84578zm12.9593-3.386597h-2.5533c-1.1791 0-1.4662.909097-1.4662.909097l-4.736 11.28955h3.3101l.6622-1.8118h4.0373l.3725 1.8118h2.916zm-3.8681 7.883527 1.6689-4.56503.9387 4.56503z"}),is.createElement("path",{d:"m7.19308 2.05346s-.13145-1.100945-1.53482-1.100945h-5.098539l-.059721.206905s2.45077.4996 4.80197 2.37134c2.2469 1.78893 2.97988 4.01891 2.97988 4.01891z"}))))},hh=(0,is.forwardRef)(dh),mh=(0,is.memo)(hh);var ph;function gh(){return gh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gh.apply(this,arguments)}var fh=function(e,t){return is.createElement("svg",gh({fill:"none",height:18,viewBox:"0 0 18 18",width:18,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t},e),ph||(ph=is.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},is.createElement("path",{d:"m15 6.75h-6.75c-.82843 0-1.5.67157-1.5 1.5v6.75c0 .8284.67157 1.5 1.5 1.5h6.75c.8284 0 1.5-.6716 1.5-1.5v-6.75c0-.82843-.6716-1.5-1.5-1.5z"}),is.createElement("path",{d:"m3.75 11.25h-.75c-.39782 0-.77936-.158-1.06066-.4393s-.43934-.6629-.43934-1.0607v-6.75c0-.39782.15804-.77936.43934-1.06066s.66284-.43934 1.06066-.43934h6.75c.3978 0 .7794.15804 1.0607.43934s.4393.66284.4393 1.06066v.75"}))))},yh=(0,is.forwardRef)(fh),vh=(0,is.memo)(yh);const Sh=e=>{const t=(0,Fs.Y)(),i=(0,As.S)(),n=(0,is.useRef)(null),r=(0,as.R)();return(0,es.jsxs)(es.Fragment,{children:[e.isBottomPlacement?(0,es.jsx)("div",{className:"ui-tooltip-stripes ui-tooltip-stripes-left"}):(0,es.jsx)("div",{className:"ui-tooltip-stripes ui-tooltip-stripes-top"}),(0,es.jsx)("p",{className:"text-gray-80 mt-1",children:t.translate("creditCardScreen.cardForm.testModeTooltip.instructions")}),(0,es.jsxs)("div",{className:"d-flex align-items-center mt-1",children:[(0,es.jsxs)("p",{ref:n,className:"label-4 text-sans-serif text-select-all","data-qa":"testmode-tooltip-card-number",children:["4242",(0,es.jsx)("span",{className:"text-transparent",children:"."}),"4242",(0,es.jsx)("span",{className:"text-transparent",children:"."}),"4242",(0,es.jsx)("span",{className:"text-transparent",children:"."}),"4242"]}),!i&&(0,es.jsx)("button",{type:"button",className:"btn-icon text-gray-40 ms-1-5",disabled:e.locked,"aria-label":t.translate("creditCardScreen.cardForm.testModeTooltip.copyAriaLabel"),onClick:()=>{var e;if(!n.current)throw new Error("Number ref is not defined");null===(e=r.getSelection())||void 0===e||e.selectAllChildren(n.current);try{r.document.execCommand("copy"),P()((()=>{var e;null===(e=r.getSelection())||void 0===e||e.removeAllRanges()}),2e3)}catch(e){}},children:(0,es.jsx)(vh,{className:"icon-stroke d-block","aria-hidden":"true"})})]}),(0,es.jsxs)("div",{className:"d-flex flex-wrap align-items-center mt-0-5 mx-minus-2",children:[(0,es.jsxs)("p",{className:"my-0-5 mx-2",children:[(0,es.jsx)("span",{className:"text-gray-80 me-1",children:t.translate("creditCardScreen.cardForm.testModeTooltip.expireDate")}),(0,es.jsxs)("b",{className:"label-4 text-sans-serif text-select-all","data-qa":"testmode-tooltip-expire",children:["04/",(()=>{var e;const t=(new Date).getFullYear()+2;return a()(e=t.toString()).call(e,-2)})()]})]}),(0,es.jsxs)("p",{className:"my-0-5 mx-2",children:[(0,es.jsx)("span",{className:"text-gray-80 me-1",children:t.translate("creditCardScreen.cardForm.testModeTooltip.cvc")}),(0,es.jsx)("b",{className:"label-4 text-sans-serif text-select-all","data-qa":"testmode-tooltip-cvc",children:"000"})]})]})]})},Ch=(0,is.memo)(Sh),bh=["click"],Ah=["top-end"],Eh={width:"40px",height:"42px"},xh={minHeight:"86px"},kh=e=>{const{transitionEntered:t,showBadge:i}=e,{state:n,controller:a}=ms(fn.CREDIT_CARD),r=(0,Fs.Y)(),s=(0,Vs.S)(),o=Ms("lg"),c=(0,As.S)(),l=(0,Ns.q)(),d=mo(),[h,m]=(0,is.useState)(),p=Xc(n.shakeKey,0!==n.shakeKey),g=(0,is.useRef)(null),f=(0,is.useRef)(null),y=(0,is.useRef)(null),v=(0,is.useRef)(null),S=(0,is.useRef)(null),[C,b]=(0,is.useState)(!1),A=(0,is.useRef)(!1),E=(0,as.R)(),[k,w]=(0,is.useState)({cardNumber:null,cardExpiry:null,cardCvc:null});return(0,is.useEffect)((()=>{(0,u.mG)(void 0,void 0,void 0,(function*(){if(!f.current||!y.current||!v.current)throw new Error("Card containers are not provided");const{stripeElements:e}=yield a.initiateCreditCard({cardCvcContainer:v.current,cardExpiryContainer:y.current,cardNumberContainer:f.current});m(e)}))}),[a]),(0,is.useEffect)((()=>{if(A.current=!1,!h||!t)return;const e=h.getElement("cardNumber"),i=h.getElement("cardExpiry"),n=h.getElement("cardCvc");if(!e||!i||!n){if(d)return;throw new Error("Card elements are not initialized")}const r={cardNumber:!1,cardExpiry:!1,cardCvc:!1},s={cardNumber:e,cardExpiry:i,cardCvc:n};function o(e){var t;if(a.changeFieldFilled(e.elementType,e.complete),w((t=>{var i;return x()(x()({},t),{[e.elementType]:(null===(i=e.error)||void 0===i?void 0:i.message)||null})})),!e.complete)return void(r[e.elementType]=!1);r[e.elementType]=!0;const[i]=vt()(t=ei()(r)).call(t,(e=>{let[,t]=e;return!t}))||[];i&&s[i].focus()}const c=()=>{b(!0),A.current?E.document.dispatchEvent(new Event("stripeElementEvent")):A.current=!0};return e.on("focus",c),i.on("focus",c),n.on("focus",c),e.focus(),e.on("change",o),i.on("change",o),n.on("change",o),()=>{e.off("change",o),i.off("change",o),n.off("change",o),e.off("focus",c),i.off("focus",c),n.off("focus",c)}}),[a,t,h,d,E]),(0,es.jsxs)("form",{onSubmit:e=>(0,u.mG)(void 0,void 0,void 0,(function*(){e.preventDefault(),yield a.leave()})),className:l("flow-screen"),"data-qa":"active-screen-credit-card",children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:r.translate("common.screenEntered",{screenTitle:`${r.translate("creditCardScreen.title")}`})}),(0,es.jsx)(sc,{title:r.translate("creditCardScreen.title"),showBadge:i}),(0,es.jsx)(jo,{className:(0,Cs.Z)(c?"justify-content-center":"py-8"),children:(0,es.jsx)("div",{className:"px-body",children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsx)(Ol,{as:"p",className:(0,Cs.Z)("text-center",c?"text-ellipsis":"text-line-clamp-5"),role:"status",token:"creditCardScreen.description"}),(0,es.jsxs)("div",{ref:g,className:(0,Cs.Z)("group-shadow group-stacked-vertical",c?"mt-5":"mt-8",{"animation-shake":p}),style:xh,role:"group","aria-label":r.translate("creditCardScreen.cardForm.ariaLabel"),children:[(0,es.jsxs)("div",{className:(0,Cs.Z)("group p-rel",{"pointer-events-none":n.locked}),children:[(0,es.jsx)("div",{ref:f}),k.cardNumber&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:k.cardNumber})]}),(0,es.jsxs)("div",{className:"group group-stacked-horizontal",children:[(0,es.jsxs)("div",{className:(0,Cs.Z)("group p-rel",{"pointer-events-none":n.locked}),children:[(0,es.jsx)("div",{ref:y}),k.cardExpiry&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:k.cardExpiry})]}),(0,es.jsxs)("div",{className:(0,Cs.Z)("group p-rel",{"pointer-events-none":n.locked}),children:[(0,es.jsx)("div",{ref:v}),(0,es.jsxs)("button",{type:"button",className:"btn-icon p-abs centered-right me-3 z-index-4",ref:S,disabled:n.locked,"aria-label":r.translate("creditCardScreen.cvcHelpAriaLabel"),onClick:()=>b(!1),children:[(0,es.jsx)("span",{className:"p-abs centered border-radius-8",style:Eh}),(0,es.jsx)("span",{className:"text-gray-60 font-size-18","aria-hidden":"true",children:(0,es.jsx)(Mc.Z,{className:(0,Cs.Z)("icon-stroke d-block",{"icon-flip-horizontal":s})})})]}),!n.locked&&t&&!C&&(0,es.jsx)(io.N,{triggerRef:S,trigger:bh,placement:s?"left-start":"right-start",fallbackPlacements:Ah,maxWidth:c?"var(--fixed-container-width-desktop)":void 0,children:r.translate("creditCardScreen.cvcInstructions")}),k.cardCvc&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:k.cardCvc})]})]})]}),t&&(0,es.jsx)(fc.K,{triggerRef:g,placement:o?s?"left":"right":c?"top-start":"bottom-start",show:n.showTestModeTooltipInfo,children:(0,es.jsx)(Ch,{isBottomPlacement:!o,locked:n.locked})})]})})}),(0,es.jsx)(zo,{children:(0,es.jsx)(Lc,{type:"submit",className:"btn-primary",processingState:n.processingState,tooltipMessage:a.errorMessage,tooltipTitle:n.payErrorTitle||r.translate("creditCardScreen.cardError.title"),dataQa:"card-continue",trackingElement:"payButton",children:n.isPaymentScreen?pc(r,n.formattedAmount,n.frequency):r.translate("creditCardScreen.payButtonLabel.continue")})})]})},wh=(0,is.memo)(kh);var Nh=i(3358);const Ph=e=>{const{className:t,prevContent:i,content:n,disabled:a,onAddComment:r,onHighlight:s}=e,o=(0,Fs.Y)(),[c,l]=(0,is.useState)(!1);return(0,is.useEffect)((()=>{if(i===n||!n)return void l(!1);s(),l(!0);const e=P()((()=>{l(!1)}),400);return()=>{window.clearTimeout(e)}}),[n,i,s]),(0,es.jsx)("div",{className:t,children:(0,es.jsxs)("button",{type:"button",className:(0,Cs.Z)("comment-btn body-3",{"is-highlighted":c}),dir:"auto",disabled:a,onClick:()=>r(),"data-qa":"comment-link","data-tracking-element-name":"navigateToComment",children:[(0,es.jsx)("span",{className:"comment-highlight"}),n?(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("span",{className:"comment-btn-title",children:o.translate("donateForm.comment")}),(0,es.jsx)("span",{className:"comment-btn-link",title:n,dir:"auto",children:n})]}):(0,es.jsx)(es.Fragment,{children:(0,es.jsx)("span",{className:"comment-btn-link",children:o.translate("donateForm.addComment")})})]})})},Dh=(0,is.memo)(Ph);var Th=i(55761);const _h={verticalAlign:"-0.25em",marginLeft:"2px"},Oh=e=>{let{goal:t,className:i,isRtl:n,disabled:a}=e;var r;const s=null!==(r=null==t?void 0:t.name)&&void 0!==r?r:"",o=gi()(s).call(s).split(" "),c=F()(o).call(o,0,o.length-1).join(" "),l=o[o.length-1];return(0,es.jsxs)("span",{className:(0,Cs.Z)("goal-label text-decor text-break-word",i,{"pointer-events-none":a}),"aria-hidden":"true",dir:n?"rtl":"ltr","data-qa":"selected-goal",children:[c,c&&" ",(0,es.jsxs)("span",{className:"text-nowrap",children:[l,(0,es.jsx)(Th.Z,{className:"d-inline icon-stroke",style:_h})]})]})},Ih=(0,is.memo)(Oh),Rh={opacity:1e-4},Lh=e=>{var t;const{goal:i,goals:n,goalKey:a,isEditable:r,disabled:s,changeGoal:o,hasError:c,isDesignationNew:l}=e,u=(0,Fs.Y)(),d=gs(),h=(0,As.S)(),m=Zs(),p=(0,Vs.S)(),g=e=>{o(e.target.value),d.trackClick("goalSelector",e.target)};return(0,es.jsx)(es.Fragment,{children:l?(0,es.jsxs)("div",{className:(0,Cs.Z)("p-rel",e.className,{"animation-shake":e.shake}),"data-qa":"goal-component",children:[(0,es.jsx)("label",{htmlFor:`designation-${m}`,className:"sr-only",children:u.translate("donateForm.goalField.label")}),(0,es.jsxs)("select",{id:`designation-${m}`,className:(0,Cs.Z)("form-control font-size-14 line-height-20",{"has-error":c}),value:null!=a?a:"",disabled:s,onChange:g,"data-qa":"goal-selector","data-tracking-element-name":"goalSelect",children:[!i&&(0,es.jsx)("option",{value:"",selected:!0,disabled:!0,children:u.translate("donateForm.goalField.selectPlaceholder")},""),T()(n).call(n,(e=>(0,es.jsx)("option",{value:e.key,children:e.name},e.key)))]}),!i&&(0,es.jsx)("span",{className:"p-abs top-left bottom-right z-index-2 pointer-events-none text-gray-60 text-truncate custom-select-cover-label",children:u.translate("donateForm.goalField.selectPlaceholder")}),c&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:u.translate("donateForm.goalField.selectError")})]}):(0,es.jsx)("div",{className:(0,Cs.Z)("d-flex",e.className),children:(0,es.jsx)("div",{className:"p-rel body-3","data-qa":"goal-component",children:(0,es.jsxs)("div",{className:(0,Cs.Z)(h?"text-ellipsis":"text-line-clamp-2"),children:[(0,es.jsx)("label",{htmlFor:`designation-${m}`,className:(0,Cs.Z)("d-inline me-1 text-nowrap body-3"),children:u.translate("donateForm.goalField.label")}),r?(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("select",{id:`designation-${m}`,className:"form-control form-control-goal cursor-pointer p-abs top-left bottom-right z-index-2",style:Rh,value:null!=a?a:"",disabled:s,onChange:g,"data-qa":"goal-selector","data-tracking-element-name":"goalSelect",children:T()(n).call(n,(e=>(0,es.jsx)("option",{value:e.key,children:e.name},e.key)))}),(0,es.jsx)(Ih,{goal:i,className:"body-3",isRtl:p,disabled:s}),(0,es.jsx)("div",{className:"p-abs top-left bottom-right border-radius-2 focus-next"})]}):(0,es.jsx)("span",{className:"body-3","data-qa":"selected-goal",children:null!==(t=null==i?void 0:i.name)&&void 0!==t?t:""})]})})})})},jh=(0,is.memo)(Lh),Mh=e=>{const{inHonorOfMaxLength:t,className:i,isActive:n,sharingEnabled:a,labelType:r,name:s,disabled:o,onToggleTribute:c,onChangeTributeName:l}=e,u=(0,Fs.Y)(),d=mo(),h=(0,Vs.S)(),m=(0,As.S)(),p=Zs(),g=(0,is.useRef)(null),[f,y]=(0,is.useState)(!1),v=n&&!d&&f,[S,C]=(0,is.useState)(!1),b=oc(),A=[h?"right":"left","top"],E=(0,ns.C)();(0,is.useEffect)((()=>{if(n&&b&&S){if(!g.current)throw new Error("tributeInputRef was not passed");g.current.focus(),C(!1)}}),[n,b,S]);const x=t=>{y(t),e.onInputFocusChange&&e.onInputFocusChange(t)};return(0,es.jsxs)("div",{className:i,children:[(0,es.jsx)(al,{className:"body-3",customLabelClasses:"line-height-20",checked:null!=n&&n,onChange:()=>{c(),C(!0)},qa:"tribute-give-checkbox",trackingElement:"tributeCheckbox",disabled:o,children:(0,es.jsx)("span",{className:"text-truncate body-3","data-qa":"tribute-label",children:{[St.h2.IN_HONOR_MEMORY]:E.allowLegacyTributeLabel?u.translate("donateForm.tribute.labelType.inHonorMemory"):u.translate("donateForm.tribute.labelType.dedication"),[St.h2.DEDICATION]:u.translate("donateForm.tribute.labelType.dedication")}[r]})}),n&&(0,es.jsxs)("div",{className:m?"mt-3":"mt-2",children:[(0,es.jsx)("label",{htmlFor:`tribute-${p}`,className:"sr-only",children:u.translate("donateForm.tribute.inHonorOf.placeholder")}),(0,es.jsx)("input",{type:"text",ref:g,id:`tribute-${p}`,className:(0,Cs.Z)("form-control line-height-20",m?"font-size-16":"font-size-14"),placeholder:u.translate("donateForm.tribute.inHonorOf.placeholder"),value:null!=s?s:"",maxLength:t,disabled:o,onFocus:()=>x(!0),onBlur:()=>x(!1),onChange:e=>l(e.target.value),"data-qa":"tribute-name"}),a&&(0,es.jsx)(es.Fragment,{children:m?(0,es.jsx)("p",{className:"body-3 text-ellipsis mt-1-5","data-qa":"tribute-hint",children:u.translate("donateForm.tribute.sharingInformation")}):(0,es.jsx)(fc.K,{triggerRef:g,show:v,placement:h?"left":"right",fallbackPlacements:A,dataQa:"tribute-hint",maxWidth:"232px",children:u.translate("donateForm.tribute.sharingInformation")})})]})]})},Fh=(0,is.memo)(Mh);class Uh{constructor(e){let{digits:t,withoutFraction:i,getCurrencyFormat:n,locale:a,donationType:r,setZeroOnBlur:s}=e;this.digits=t,this.withoutFraction=i,this.locale=a,this.donationType=r,this.getCurrencyFormat=n,this.setZeroOnBlur=s,this.groupSeparator=this.getCurrencyFormat().groupSeparator,this.decimalSeparator=this.getCurrencyFormat().decimalSeparator}get alternativeDecimalSeparator(){return"."===this.decimalSeparator?",":"."}parseAmountOrNull(e){return Si()(e)?null:e}formatValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=null===e?"":Xa(e/Math.pow(10,this.digits),t,this.digits,this.locale);return this.removeFractionZeroes(i,t)}convertStringToNumber(e){const t=this.toJsFloatFormat(e),i=this.parsePrice(t);return Math.round(yi()(i)*Math.pow(10,this.digits))}handleKeyDown(e,t,i){if(!(this.withoutFraction?Uh.DIGITS_REG_EXP:Uh.DIGITS_WITH_DOT_COMMA_REG_EXP).test(e.key)&&e.key&&1===e.key.length&&!e.ctrlKey&&!e.metaKey)return e.preventDefault();const n=t.value;if(Be()(n).call(n,this.decimalSeparator)&&(","===e.key||"."===e.key))return e.preventDefault();const a=n.split(this.decimalSeparator),r=a[0],s=r?r.length:0,o=a[1];if((o?o.length:0)>=this.digits&&e.key&&1===e.key.length&&t.selectionStart&&t.selectionStart===t.selectionEnd&&t.selectionStart>s&&!e.ctrlKey&&!e.metaKey)return e.preventDefault();i()}handlePaste(e,t){e.preventDefault(),t((e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||window.clipboardData).getData("text"))}handleChange(e,t,i,n,a){let r=e.target.value;if(t){const e=this.getCommaPosition(i,r);-1!==e&&(r=r.substring(0,e)+this.decimalSeparator+r.substring(e+1))}const s=new RegExp(`\\${this.decimalSeparator}$`);(r.match(s)||i.match(s)&&!Be()(r).call(r,this.decimalSeparator))&&n(r);const o=new RegExp(`[${this.decimalSeparator}][0-9]{0,${this.digits}}$`),c="0"===r[r.length-1]&&e.target.selectionStart===r.length,l="0"===i[i.length-1]&&i.length>r.length&&i.length===Number(e.target.selectionStart)+1;r.match(o)&&(c||l)&&n(r),a(r)}handleBlur(e,t){this.setZeroOnBlur&&""===e.target.value&&(e.target.value="0"),t(e)}getInputMode(){return this.withoutFraction?"numeric":"decimal"}calculateInitialCursorPosition(e,t){var i;const n=a()(e).call(e,0,t),r=B()(i=[...n]).call(i,(e=>e===this.groupSeparator)).length;return n.length-r}calculateFormattedCursorPosition(e,t){let i=0,n=0;for(;n<t&&i<e.length;)e[i]!==this.groupSeparator&&n++,i++;return i}limitCryptoAmount(e){const t=e.split("."),i=t[0];if(i.length>Uh.CRYPTO_MAXIMUM_INTEGER_LENGTH&&(e=e.replace(/^([0-9]*)/,a()(i).call(i,0,Uh.CRYPTO_MAXIMUM_INTEGER_LENGTH))),Be()(e).call(e,".")){const i=t[1];i.length>Uh.CRYPTO_MAXIMUM_FRACTION_LENGTH&&(e=e.replace(/[.]([0-9]*)/,a()(i).call(i,0,Uh.CRYPTO_MAXIMUM_FRACTION_LENGTH)))}return e}parsePrice(e){let t=e||"";return t=t.replace(/[^\d.]/g,""),this.donationType===Dt.MONEY&&(t=a()(t).call(t,0,Uh.STRIPE_MAXIMUM_AMOUNT_LENGTH+1)),this.donationType===Dt.CRYPTO&&(t=this.limitCryptoAmount(t)),yi()(t).toFixed(this.withoutFraction?0:this.digits)}getCommaPosition(e,t){const i=e.length>=t.length?e:t,n=e.length>=t.length?t:e,a=i.split("");for(const e in a)if(a[e]===this.alternativeDecimalSeparator&&a[e]!==n.charAt(Number(e)))return Number(e);return-1}toJsFloatFormat(e){return e.replace(new RegExp(`\\${this.groupSeparator}`,"g"),"").replace(new RegExp(`\\${this.decimalSeparator}`,"g"),".")}removeFractionZeroes(e,t){return 0!==t?e.replace(/\.0+$/,""):e}}Uh.DIGITS_WITH_DOT_COMMA_REG_EXP=/[0-9.,]/,Uh.DIGITS_REG_EXP=/[0-9]/,Uh.CRYPTO_MAXIMUM_FRACTION_LENGTH=8,Uh.CRYPTO_MAXIMUM_INTEGER_LENGTH=9,Uh.STRIPE_MAXIMUM_AMOUNT_LENGTH=9;const Bh=(0,is.forwardRef)((function(e,t){const{className:i,placeholder:n,disabled:a,onChange:r,onFocus:s,onBlur:o,onClick:c,trackingElement:l,qa:u}=e,[d,h]=(0,is.useState)(!1),[m,p]=(0,is.useState)(null),g=(0,Fs.Y)(),f=function(e){let{withoutFraction:t,digits:i,donationType:n,intl:a}=e;return(0,is.useMemo)((()=>new Uh({withoutFraction:t,getCurrencyFormat:()=>a.getCurrencyFormat(),locale:a.locale,digits:i,donationType:n})),[i,n,a,t])}({withoutFraction:e.withoutFraction,digits:e.digits,intl:g,donationType:e.donationType}),y=(0,is.useMemo)((()=>f.alternativeDecimalSeparator),[f]),v=(0,is.useMemo)((()=>f.getInputMode()),[f]),S=(0,is.useRef)(null),C=(0,is.useCallback)((t=>f.formatValue(t,d?0:e.digits)),[f,d,e.digits]),[b,A]=(0,is.useState)(C(e.value)),E=(0,is.useRef)(!1),x=(0,is.useCallback)((e=>f.convertStringToNumber(e)),[f]);(0,is.useEffect)((()=>{x(b)!==e.value&&A(C(e.value))}),[e.value,C,x,b]),(0,is.useEffect)((()=>{if(null===S.current||null===m)return;const e=f.calculateFormattedCursorPosition(b,m);S.current.selectionStart=e,S.current.selectionEnd=e}),[m,b,f]);const k=(0,is.useCallback)((e=>{const t=x(e);r(f.parseAmountOrNull(t))}),[x,r,f]),w=()=>{S.current.focus()};return(0,is.useImperativeHandle)(t,(()=>({focus:w}))),(0,es.jsx)("input",{ref:S,className:i,autoComplete:"off",value:b,onChange:e=>{d||h(!0),f.handleChange(e,E.current,b,A,(t=>{var i;const n=f.calculateInitialCursorPosition(t,null!==(i=e.target.selectionStart)&&void 0!==i?i:0);p(n),k(t)}))},onPaste:e=>{f.handlePaste(e,(e=>{k(e)}))},onKeyDown:e=>{f.handleKeyDown(e,S.current,(()=>{E.current=e.key===y}))},onFocus:()=>{s&&s()},onBlur:e=>{o&&f.handleBlur(e,(()=>{o()}))},onClick:()=>{c&&c()},disabled:a,inputMode:v,placeholder:n,"data-qa":null!=u?u:"amount","data-tracking-element-name":l,"data-testid":"price-input"})})),Gh=(0,is.memo)(Bh),qh=(0,is.forwardRef)(((e,t)=>{const[i,n]=(0,is.useState)(!1),{onAmountChange:a,onAmountInputBlur:r,onAmountInputFocus:s,onAmountAnimationEnd:o,currencyService:c,priceIn:l,withoutFraction:u=!0,qaActiveAttribute:d,qaDisabledAttribute:h,trackingElement:m,placeholder:p,donationType:g,isCustomAmount:f,resizable:y,className:v,canModifyAmount:S,showCurrencySymbol:C,useSpaceAfterCurrencySymbol:b,showDisabledInput:A,disabled:E,currency:x,currencyCodeNode:k,canSelectCurrency:w,amount:N,customCurrencySection:P}=e,D=(0,Fs.Y)(),T=(0,Ns.q)(),_=(0,is.useCallback)((e=>{a(e)}),[a]),O=(0,is.useCallback)((()=>{r&&r(),n(!1)}),[r]),I=(0,is.useCallback)((()=>{s&&s(),n(!0)}),[s]),R=/\s/.test(D.formatCurrency(null!=N?N:0,{currency:x,display:"short"})),L=b&&R,j=c.getDigits(x),M=Xa((N||0)/Math.pow(10,j),0,2),F=i?D.translate("donateForm.donationAmountField.placeholder.empty"):D.translate("donateForm.donationAmountField.placeholder.default");return(0,es.jsxs)("div",{className:(0,Cs.Z)(v,{"text-color":g===Dt.CRYPTO,"text-white":A,focus:i,disabled:!S}),"aria-label":D.translate("donateForm.donationAmountControlAriaLabel"),children:[C&&c.getSymbol(x)&&(0,es.jsxs)("div",{className:(0,Cs.Z)("flex-shrink-0 align-self-center text-sans-serif",{"label-3 text-gray-80 me-1":!y&&!f}),"aria-hidden":"true","data-qa":"currency-symbol",children:[c.getSymbol(x),L&&(0,es.jsx)(es.Fragment,{children:""})]}),(0,es.jsxs)("label",{className:(0,Cs.Z)("flex-grow-1",{"price-control-fade-out-in":l&&!f,"p-rel":y}),onAnimationEnd:o,children:[(0,es.jsxs)("span",{className:"sr-only",children:[D.translate("donateForm.donationAmountField.label")," ",x]}),y&&(0,es.jsx)("span",{className:"price-control invisible","aria-hidden":"true","data-qa":d+"-value",children:M}),S?(0,es.jsx)(Gh,{ref:t,className:(0,Cs.Z)(T("price-control"),{"p-abs top-left bottom-right":y,"font-size-16":!i&&null===N,disabled:E}),digits:c.getDigits(x),value:N,onChange:_,onBlur:O,onFocus:I,withoutFraction:u,pattern:"[\\d,.]*",placeholder:"string"==typeof p?p:F,disabled:A||E,qa:d,trackingElement:m,donationType:g}):(0,es.jsx)("span",{className:T("price-control"),"data-qa":h,children:D.formatCurrency(N||0,{currency:x,display:"floatcents",withoutPrefix:!0})})]}),P?k:(0,es.jsxs)("div",{className:(0,Cs.Z)("flex-shrink-0 d-flex align-items-center p-rel align-self-center",{"currency-select":w,"ps-2 pe-1-5 py-2":w&&!f,"px-2-5 py-2":!w&&!f,"ps-2 pe-1-5 py-1":w&&f,"px-2 py-1":!w&&f}),children:[(0,es.jsxs)("div",{className:"currency-select-label p-rel d-flex align-items-center z-index-2","aria-hidden":"true",children:[(0,es.jsx)("span",{"data-qa":"selected-currency",children:x}),w&&(0,es.jsx)("span",{className:"currency-select-arrow icon-slot icon-slot-16","aria-hidden":"true",children:(0,es.jsx)("span",{className:"p-abs centered font-size-16",children:(0,es.jsx)(Th.Z,{className:"d-block icon-stroke"})})})]}),k,(0,es.jsx)("div",{className:"p-abs top-left bottom-right focus-next"})]})]})}));qh.displayName="RawCurrencyInputSection";const Kh=(0,is.memo)(qh),Vh=e=>{const{currency:t,disabled:i,onChange:n,list:a}=e,r=(0,Fs.Y)(),s=cs(),o=Zs();return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)("label",{className:"sr-only",htmlFor:`currency-${o}`,children:[r.translate("donateForm.donationCurrency")," ",t]}),(0,es.jsx)("select",{className:"currency-select-control text-noselect",value:t,onChange:e=>{n(e.target.value)},"data-qa":"currency-selector","data-tracking-element-name":"changeCurrency",id:`currency-${o}`,disabled:i,children:T()(a).call(a,((e,t)=>(0,es.jsx)("optgroup",{children:T()(e).call(e,((e,t)=>(0,es.jsxs)("option",{value:e,children:[e,"  ",s.getName(e)]},t)))},t)))})]})},Hh=(0,is.memo)(Vh),Yh=e=>{const{controller:t}=ms(fn.DONATE),i=mo(),n=(0,Vs.S)(),a=(0,As.S)(),r=(0,Fs.Y)(),s=cs(),o=(0,is.useRef)(null),c=(0,is.useRef)(null);Hc(c,e.donation.canModifyAmount);const l=(e=>{const t=(0,ns.C)();return(0,is.useMemo)((()=>t.company.allowCentsForCharges?e>0:null!==t.queryParams.amount&&!ci()(t.queryParams.amount)),[t,e])})(s.getDigits(e.donation.currency)),[u,d]=(0,is.useState)(!1),[h,m]=(0,is.useState)(!1),[p,g]=(0,is.useState)(!1);(0,is.useEffect)((()=>m(e.priceIn)),[e.priceIn]);const f=(0,is.useCallback)((e=>{t.changeAmount(e)}),[t]),y=(0,is.useCallback)((()=>m(!1)),[]),v=(0,is.useCallback)((e=>{t.changeCurrency(e),t.validateAmount()}),[t]),S=(0,is.useMemo)((()=>[e.guessedCurrenciesList,e.allCurrenciesList]),[e.allCurrenciesList,e.guessedCurrenciesList]),C=(0,is.useMemo)((()=>(0,es.jsx)(Hh,{currency:e.donation.currency,disabled:e.disabled,onChange:v,list:S})),[S,v,e.donation.currency,e.disabled]),b=(0,is.useCallback)((()=>{t.validateAmount(),g(!i&&e.errors.amount.min)}),[t,i,e.errors.amount.min,g]);return(0,is.useEffect)((()=>{o.current&&(g(!i&&e.errors.amount.min),d(!a&&t.shouldShowAverageDonationHintTooltip))}),[e.errors.amount.min,i,o,t.shouldShowAverageDonationHintTooltip,a,g]),(0,es.jsxs)("div",{className:e.className,style:e.style,ref:o,children:[(0,es.jsx)(Kh,{ref:c,className:(0,Cs.Z)("group-price-control",{"group-price-control-custom-amount":e.isCustomAmount,"has-error":e.showError}),showCurrencySymbol:!0,useSpaceAfterCurrencySymbol:e.useSpaceAfterCurrencySymbol,currency:e.donation.currency,amount:e.donation.amount,canModifyAmount:e.donation.canModifyAmount,withoutFraction:!l,priceIn:h,canSelectCurrency:e.donation.canSelectCurrency,currencyCodeNode:e.donation.canSelectCurrency&&C,currencyService:s,qaActiveAttribute:"amount",qaDisabledAttribute:"disabled-amount",trackingElement:"amountInput",onAmountChange:f,onAmountAnimationEnd:y,onAmountInputBlur:b,donationType:e.flowType,isCustomAmount:e.isCustomAmount,placeholder:e.placeholder,disabled:e.disabled}),e.showError&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:r.translate("donateForm.donationAmountField.error.required")}),!e.disabled&&(0,es.jsx)(fc.K,{triggerRef:o,show:p&&!!e.animationEnded,customClass:"w-auto",maxWidth:"var(--fixed-container-width-desktop)",placement:a?"top":n?"left":"right",fallbackPlacements:a?[]:["top"],role:p?"alert":"none",dataQa:"min-amount-popover",children:(0,es.jsx)(Ol,{as:"span",token:"donateForm.donationAmountField.error.min",params:{amount:r.formatCurrency(e.donation.minAmount,{currency:e.donation.currency,display:"round"})}})}),!e.disabled&&(0,es.jsx)(fc.K,{triggerRef:o,show:!!c.current&&u,maxWidth:"229px",placement:n?"left":"right",fallbackPlacements:a?[]:["left"],role:u?"alert":"none",children:(0,es.jsx)(Ol,{as:"span",token:"donateForm.donationAmountField.hint.average",params:{amount:r.formatCurrency(t.amountAverageDonationHint,{currency:e.donation.currency,display:"round"})}})})]})},Zh=(0,is.memo)(Yh);var $h;function zh(){return zh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zh.apply(this,arguments)}var Wh=function(e,t){return is.createElement("svg",zh({fill:"none",height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",ref:t},e),$h||($h=is.createElement("path",{d:"m13 4.5625-6.875 6.875-3.125-3.125",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})))},Xh=(0,is.forwardRef)(Wh),Qh=(0,is.memo)(Xh);const Jh=e=>{const{hint:t,currency:i,disabled:n,onSelect:a}=e,r=(0,Fs.Y)(),s=(0,Ns.q)(),o=(0,is.useMemo)((()=>t.default),[t.default]);return(0,es.jsxs)("div",{className:(0,Cs.Z)("amount-hint",{"amount-hint-checked":o}),children:[(0,es.jsx)("input",{type:"radio",id:`${t.id}-hint`,className:"amount-hint-radio",value:t.id,title:r.formatCurrency(t.amount,{currency:i,display:"short"})+", "+t.description,name:"hintOptions",checked:o,disabled:n,"data-qa":"suggested-amount-hint-button",onChange:()=>a(t)}),(0,es.jsxs)("label",{htmlFor:`${t.id}-hint`,className:s("amount-hint-label"),"data-qa":"suggested-amount-hint-label",children:[(0,es.jsxs)("span",{className:"label-2 d-flex p-rel z-index-2",children:[(0,es.jsx)("span",{className:"text-truncate me-2",children:r.formatCurrency(t.amount,{currency:i,display:"short"})}),(0,es.jsx)("span",{className:"icon-slot icon-slot-16 flex-shrink-0 ms-auto","aria-hidden":"true",children:o&&(0,es.jsx)("span",{className:"p-abs centered font-size-16 text-primary",children:(0,es.jsx)(Qh,{className:"icon-stroke d-block"})})})]}),(0,es.jsx)("span",{className:"p-rel text-truncate z-index-2",children:t.description})]})]})},em=(0,is.memo)(Jh),tm=e=>{const{disabled:t,onShowCustomAmount:i}=e,n=(0,Fs.Y)(),a=(0,Ns.q)();return(0,es.jsx)("button",{type:"button",className:a("custom-amount-btn"),disabled:t,onClick:()=>i(),"data-qa":"suggested-amount-custom-button",children:n.translate("donateForm.amountHint.customAmount")})},im=(0,is.memo)(tm),nm={marginLeft:"-1px",marginRight:"-1px",marginBottom:"-1px"},am=e=>{const{controller:t}=ms(fn.DONATE),[i,n]=(0,is.useState)(!1),a=(0,is.useCallback)((e=>{n(!0),P()((()=>{t.changeCurrentHint(e)}),100)}),[t]),r=(0,is.useMemo)((()=>e.donation.hintOptions),[e.donation.hintOptions]),s=(0,is.useCallback)((()=>{const e=null==r?void 0:vt()(r).call(r,(e=>e.default));e&&(t.changeAmount(e.amount),t.validateAmount())}),[t,r]);return(0,es.jsxs)("div",{className:(0,Cs.Z)("border-1-gray-20 border-radius-base",e.className,{"animation-shake":e.shake}),children:[r&&T()(r).call(r,((t,i)=>(0,es.jsx)(em,{hint:t,currency:e.donation.currency,disabled:e.disabled,onSelect:a},i))),e.showFrequencyCustomAmountInput?(0,es.jsx)(Zh,{donation:e.donation,errors:e.errors,tribute:e.tribute,guessedCurrenciesList:e.guessedCurrenciesList,allCurrenciesList:e.allCurrenciesList,showError:e.showError,flowType:e.flowType,priceIn:i,useSpaceAfterCurrencySymbol:!0,isCustomAmount:!0,placeholder:"",style:nm,disabled:e.disabled,animationEnded:e.animationEnded}):(0,es.jsx)(im,{disabled:e.disabled,onShowCustomAmount:s})]})},rm=(0,is.memo)(am);var sm=i(54383),om=i.n(sm);const cm={background:"#FFFAE8",border:"1px solid #E2D29A"},lm=e=>{var t;const{controller:i}=ms(fn.DONATE),n=(0,Fs.Y)(),a=(0,As.S)(),r=(0,Ns.q)(),[s,o]=(0,is.useState)(!1);return(0,es.jsxs)("div",{className:(0,Cs.Z)(e.className,{"animation-shake":e.shake}),children:[a&&i.shouldShowAverageDonationHint&&(0,es.jsx)("div",{className:"mb-3 body-3 py-2 px-4 border-radius-8 text-ellipsis",style:cm,children:(0,es.jsx)(Ol,{as:"span",token:"donateForm.donationAmountField.hint.average",params:{amount:n.formatCurrency(i.amountAverageDonationHint,{currency:e.donation.currency,display:"round"})}})}),e.donation.canModifyAmount&&(0,es.jsx)("div",{className:"amount-options","aria-label":n.translate("donateForm.suggestedAmountsAriaLabel"),children:T()(t=e.donation.amountOptions).call(t,((t,a)=>(0,es.jsxs)("div",{className:"amount-option","data-qa":"suggested-amount-button",children:[(0,es.jsx)("input",{type:"radio",id:`${t}-option`,className:"amount-option-radio",title:n.formatCurrency(t,{currency:e.donation.currency,display:"shortlabel"}),name:"amountOptions",value:t,checked:t===e.donation.amount,disabled:e.disabled,"aria-label":n.translate("donateForm.suggestedAmountAriaLabel",{amount:n.formatCurrency(t,{currency:e.donation.currency,display:"shortlabel"})}),onChange:e=>(e=>{o(!0),P()((()=>{i.changeAmount(e),i.validateAmount()}),100)})(om()(e.target.value)),"data-tracking-element-name":"suggestionButton"}),(0,es.jsx)("label",{htmlFor:`${t}-option`,className:r("amount-option-label"),"aria-hidden":"true",children:(0,es.jsx)("span",{className:"text-truncate",children:n.formatCurrency(t,{currency:e.donation.currency,display:"shortlabel"})})})]},a)))}),(0,es.jsx)(Zh,{donation:e.donation,errors:e.errors,tribute:e.tribute,guessedCurrenciesList:e.guessedCurrenciesList,allCurrenciesList:e.allCurrenciesList,showError:e.showError,flowType:e.flowType,priceIn:s,disabled:e.disabled,className:(0,Cs.Z)({"mt-2-5":e.donation.canModifyAmount}),animationEnded:e.animationEnded})]})},um=(0,is.memo)(lm),dm=e=>(0,es.jsx)(es.Fragment,{children:(0,es.jsx)(ec,{className:"d-block text-fuchsia-80",width:16,height:16})}),hm=(0,is.memo)(dm),mm=e=>{const{index:t,onAnimationEnd:i}=e,n=(0,is.useRef)(null),[a,r]=(0,is.useState)(!1);(0,is.useEffect)((()=>{r(!0)}),[]);const s=(0,is.useCallback)((()=>{i(t)}),[t,i]);return(0,es.jsx)("span",{className:"heart p-abs",children:(0,es.jsx)(bs.Z,{classNames:"heart-y-move",in:a,timeout:2500,nodeRef:n,onEntered:s,children:(0,es.jsx)("span",{ref:n,className:"heart-holder",children:(0,es.jsx)("span",{className:"heart-x-move",children:(0,es.jsx)(hm,{})})})})})},pm=(0,is.memo)(mm),gm=e=>{const{heartTrigger:t}=e,[i,n]=(0,is.useState)([]);(0,is.useEffect)((()=>{null!==t&&n((e=>{const t=(e[e.length-1]||0)+1,i=[...e,t];return i.length===e.length?e:i}))}),[t]);const a=(0,is.useCallback)((e=>{n((t=>B()(t).call(t,(t=>t!==e))))}),[]);return(0,es.jsx)("span",{className:"heart-list",children:T()(i).call(i,(e=>(0,es.jsx)(pm,{index:e,onAnimationEnd:a},e)))})},fm=(0,is.memo)(gm),ym=e=>{const{state:t,controller:i}=ms(fn.DONATE),n=(0,Fs.Y)(),a=(0,Ns.q)(),[r,s]=(0,is.useState)(null),o=e=>{i.validateAmount(),i.changeFrequency(e),e===t.rightButtonFrequency&&s((r||0)+1)},c=(0,is.useMemo)((()=>t.donation.frequency===t.rightButtonFrequency),[t.donation.frequency,t.rightButtonFrequency]);return(0,es.jsxs)("div",{className:(0,Cs.Z)("btn-tabs d-flex align-items-center",e.className),"aria-label":n.translate("donateForm.frequencyAriaLabel"),children:[(0,es.jsx)("button",{type:"button",className:(0,Cs.Z)(a("btn-tab"),{active:t.donation.frequency===t.leftButtonFrequency}),"aria-current":t.donation.frequency===t.leftButtonFrequency,disabled:e.disabled,onClick:()=>o(t.leftButtonFrequency),"data-qa":"less-frequent-button","data-tracking-element-name":"onceRepeat",children:(0,es.jsx)("span",{className:"text-truncate","data-testid":"left-button-label",children:t.leftButtonLabel})}),(0,es.jsx)("button",{type:"button",className:(0,Cs.Z)(a("btn-tab"),{active:c}),"aria-current":t.donation.frequency===t.rightButtonFrequency,disabled:e.disabled,onClick:()=>o(t.rightButtonFrequency),"data-qa":"more-frequent-button","data-tracking-element-name":"monthlyPlan",children:(0,es.jsxs)("span",{className:"d-flex align-items-center justify-content-center",children:[(0,es.jsx)("span",{className:"flex-shrink-0 me-1",children:(0,es.jsxs)("span",{className:"d-block p-rel",children:[(0,es.jsx)("span",{className:"d-block p-rel z-index-1",children:(0,es.jsx)(hm,{})}),(0,es.jsx)("span",{className:"p-abs top-left z-index-2",children:(0,es.jsx)(fm,{heartTrigger:r})})]})}),(0,es.jsx)("span",{className:"text-truncate","data-testid":"right-button-label",children:t.rightButtonLabel})]})}),(0,es.jsx)("div",{className:"btn-tabs-frame p-abs top-left bottom-right"})]})},vm=(0,is.memo)(ym);var Sm=i(28249);const Cm=e=>{const{amount:t,currency:i,trackingElement:n,className:a,onClick:r}=e,s=(0,Fs.Y)();return(0,es.jsx)("button",{type:"button",className:(0,Cs.Z)("btn btn-default",a),"data-tracking-element-name":n,"data-qa":"keep-one-time-button","data-testid":"keep-one-time-button",onClick:r,children:s.translate("upsellScreen.keepOneTimeButton",{amount:s.formatCurrency(t,{currency:i,display:"floatcents"})})})},bm=(0,is.memo)(Cm),Am=e=>{const{questionText:t,descriptionText:i}=e,n=(0,As.S)();return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("p",{className:(0,Cs.Z)("text-center",n?"text-ellipsis":"text-line-clamp-6"),role:"status",dangerouslySetInnerHTML:{__html:t},"data-testid":"upsell-question"}),i&&(0,es.jsx)("p",{className:(0,Cs.Z)("text-center mt-3",n?"text-ellipsis":"text-line-clamp-4"),role:"status",dangerouslySetInnerHTML:{__html:i},"data-testid":"upsell-description"})]})},Em=(0,is.memo)(Am),xm=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:(0,Cs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:"73",viewBox:"0 0 72 73",width:"72",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","data-qa":"gift-box-icon",children:[(0,es.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"72.3115",width:"71.1349",x:"0",y:"0",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dx:"6",dy:"2"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.591667 0 0 0 0 0.175035 0 0 0 0 0.199399 0 0 0 0.25 0"}),(0,es.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_8986_17614"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_8986_17614",mode:"normal",result:"shape"})]}),(0,es.jsxs)("filter",{id:`b-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"61.6255",width:"61.1349",x:"2",y:"6.54346",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dx:"3",dy:"3"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:"1.5"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,es.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_8986_17614"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_8986_17614",mode:"normal",result:"shape"})]}),(0,es.jsxs)("linearGradient",{id:`c-${t}`,gradientUnits:"userSpaceOnUse",x1:"33.358",x2:"55.1048",y1:"36.8415",y2:"38.8628",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ff6375"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#f2394e"})]}),(0,es.jsxs)("linearGradient",{id:`d-${t}`,gradientUnits:"userSpaceOnUse",x1:"57.652",x2:"32.9253",y1:"47.3215",y2:"61.3441",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#db3448"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#f2394e"})]}),(0,es.jsxs)("linearGradient",{id:`e-${t}`,children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ccc"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),(0,es.jsx)("linearGradient",{id:`f-${t}`,gradientUnits:"userSpaceOnUse",x1:"2.7417",x2:"29.5784",xlinkHref:`#e-${t}`,y1:"5.62305",y2:"16.674"}),(0,es.jsx)("linearGradient",{id:`g-${t}`,gradientUnits:"userSpaceOnUse",x1:"57.6504",x2:"30.8137",xlinkHref:`#e-${t}`,y1:"5.31152",y2:"16.3625"}),(0,es.jsxs)("g",{filter:`url(#a-${t})`,children:[(0,es.jsx)("g",{filter:`url(#b-${t})`,children:(0,es.jsx)("path",{d:"m2 20.4733 27.5499-13.92.0169-.00984 27.5667 13.92894.0014.0009v6.8919l-2.4122 1.2362v20.6755l-25.1553 12.8922-25.15525-12.8922v-20.6755l-2.41215-1.2362z",fill:`url(#c-${t})`})}),(0,es.jsx)("path",{d:"m4.41235 49.2779 25.15525 12.8921v-27.5674l-25.15525-12.8922z",fill:"#ff6375"}),(0,es.jsx)("path",{d:"m54.723 49.2779-25.1553 12.8921v-27.5674l25.1553-12.8922z",fill:"#fb4d62"}),(0,es.jsx)("path",{d:"m4.41235 30.3253 25.15525 12.8921v-8.6148l-25.15525-12.8922z",fill:"#db3448",fillOpacity:".75"}),(0,es.jsx)("path",{d:"m54.723 30.3253-25.1553 12.8921v-8.6148l25.1553-12.8922z",fill:"#db3448",fillOpacity:".5"}),(0,es.jsx)("path",{d:"m29.5499 6.5533-27.5499 13.92 27.5668 14.1274 27.5667-14.1283-27.5667-13.92894z",fill:"#ff7787"}),(0,es.jsx)("path",{d:"m2 20.4731 27.5674 14.1284v6.8918l-27.5674-14.1283z",fill:"#fb4d62"}),(0,es.jsx)("path",{d:"m57.1345 20.4731-27.5674 14.1284v6.8918l27.5674-14.1283z",fill:"#ff6375"}),(0,es.jsx)("path",{d:"m12.3378 53.3394v-27.5674l7.2364 3.7086v27.5675z",fill:"#dcdcdc"}),(0,es.jsx)("path",{d:"m47.1403 25.5949-7.2149 3.6978-10.1245-5.0269-10.2267 5.2146-7.223-3.7014 17.3508-8.8229z",fill:"#f4f4f4"}),(0,es.jsx)("path",{d:"m47.142 25.5952-7.2365 3.7087v27.5674l7.2365-3.7087z",fill:"#dcdcdc"}),(0,es.jsx)("path",{d:"m29.5676 62.3113-25.15525-12.8921v-.6892l25.15525 12.8921 25.1553-12.8921v.6892z",fill:`url(#d-${t})`,fillOpacity:".2"}),(0,es.jsx)("path",{d:"m45.8044 17.4261c-3.6871-.6226-7.6011 1.431-10.2537 2.8227-.9582.5027-1.7518.9191-2.3105 1.0917-.3618-.1451-.8792-.236-1.4538-.236h-3.9611c-.5567 0-1.0598.0853-1.4196.2226-.5213-.2107-1.1855-.5592-1.9564-.9637-2.6526-1.3917-6.5666-3.4453-10.2537-2.8227-3.9608.6687-4.65037 4.4568-3.9609 4.9658.4446.4109 4.6365.4646 15.7653-.1146.3474.2122.5804.9196 2 .9196h3.7864c.8521 0 1.9341-.7195 2.2136-1 11.2947.5993 15.3177.4941 15.7653.0804.6894-.509-.0001-4.2971-3.9609-4.9658z",fill:"#db3448",fillOpacity:".5"}),(0,es.jsx)("path",{d:"m10.469 20.0297-.004-.0098-.0047-.0094c-.0642-.1276-.1269-.3985-.1665-.8141-.0386-.4048-.0529-.9172-.0381-1.5046.0295-1.1746.1748-2.6343.4655-4.1076.291-1.4746.7256-2.9523 1.3292-4.16833.6061-1.22108 1.3661-2.14551 2.2897-2.56537 1.2648-.5749 2.5766-.25259 3.9015.62535 1.3277.87973 2.6251 2.29152 3.8183 3.80205.8432 1.0675 1.6238 2.1702 2.3226 3.1573.2902.4098.5662.7997.8267 1.1588.4409.6078.84 1.1311 1.1842 1.5038.1718.1861.3371.3425.4931.454.0795.0568.1653.1084.2555.1443v3.2766c-5.8992.8884-9.9813.9034-12.6427.5588-1.3471-.1744-2.3223-.4399-2.9824-.7258-.33-.1429-.5757-.2885-.7487-.426-.1748-.1391-.2631-.2601-.2992-.35z",fill:"#f4f4f4",stroke:`url(#f-${t})`,strokeWidth:".5"}),(0,es.jsx)("path",{d:"m49.9231 19.7182.004-.0098.0047-.0094c.0642-.1276.1269-.3985.1665-.8141.0386-.4048.0528-.9172.0381-1.5046-.0295-1.1746-.1748-2.6343-.4655-4.1076-.291-1.4746-.7257-2.9523-1.3292-4.16835-.6061-1.22108-1.3661-2.14551-2.2897-2.56537-1.2648-.5749-2.5766-.25259-3.9015.62535-1.3277.87973-2.6251 2.29151-3.8183 3.80207-.8432 1.0674-1.6238 2.1702-2.3226 3.1573-.2902.4098-.5662.7996-.8267 1.1588-.4409.6078-.84 1.1311-1.1842 1.5038-.1719.1861-.3371.3424-.4931.454-.0795.0568-.1654.1083-.2555.1443v3.2766c5.8992.8884 9.9813.9033 12.6427.5588 1.3471-.1744 2.3223-.44 2.9824-.7258.33-.1429.5757-.2885.7486-.426.1749-.1391.2632-.2601.2993-.35z",fill:"#f4f4f4",stroke:`url(#g-${t})`,strokeWidth:".5"}),(0,es.jsx)("path",{d:"m27.3922 17.498c-1.6553.0001-7.6553-13.37515-13.1553-10.87509-3.5 2.00014 9.4703 11.74249 13.1553 10.87509z",fill:"#dcdcdc"}),(0,es.jsx)("path",{d:"m32.9999 17.1864c1.6553.0002 7.6553-13.37507 13.1553-10.87501 3.5 2.00013-9.4703 11.74251-13.1553 10.87501z",fill:"#dcdcdc"}),(0,es.jsx)("path",{d:"m26.5256 18.0437c.2721-.9838 1.2851-1.3759 2.3057-1.3805.3098-.0014.6782-.0249 1.1217-.0812.5022-.0638.9385-.1108 1.309-.1455.9169-.0858 1.7218.5308 1.8747 1.4389.2481 1.4727.4432 3.5148-.3104 3.8119-1.1972.4719-3.5916-.2431-5.7466 0-1.3613.1535-1.0028-2.0209-.5541-3.6436z",fill:"#f4f4f4"})]})]})},km=(0,is.memo)(xm),wm=e=>{const{text:t,trackingElement:i,withGiftBoxIcon:n,withHeartIcon:a,autoFocus:r,onClick:s}=e,o=(0,Vs.S)(),c=(0,is.useRef)(null);return Hc(c,r),(0,es.jsxs)("div",{className:"p-rel",children:[(0,es.jsxs)("button",{ref:c,type:"button",className:(0,Cs.Z)("btn btn-danger",{"px-10":n,"d-flex align-items-center justify-content-center":a}),"data-tracking-element-name":i,"data-qa":"upsell-high","data-testid":"upsell-high",onClick:s,children:[a&&(0,es.jsx)(ec,{className:"icon-fill flex-shrink-0 font-size-20 text-white me-2","aria-hidden":"true"}),(0,es.jsx)("span",{className:"text-truncate",children:t})]}),n&&(0,es.jsx)(km,{className:(0,Cs.Z)("p-abs centered-left z-index-2 ms-minus-5 mt-0-5",{"icon-flip-horizontal":o}),ariaHidden:!0})]})},Nm=(0,is.memo)(wm),Pm=e=>{const{text:t,trackingElement:i,autoFocus:n,className:a,onClick:r}=e,s=(0,is.useRef)(null);return Hc(s,n),(0,es.jsx)("button",{type:"button",ref:s,className:(0,Cs.Z)("btn btn-primary",a),"data-tracking-element-name":i,"data-qa":"upsell-low","data-testid":"upsell-low",onClick:r,children:t})},Dm=(0,is.memo)(Pm),Tm=e=>{const t=(0,Fs.Y)();return(0,es.jsx)("div",{className:"px-body py-7",children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsx)(Em,{questionText:e.questionText,descriptionText:e.descriptionText}),(0,es.jsxs)("div",{role:"group",className:"mt-7","aria-label":t.translate("upsellScreen.buttonGroupAriaLabel"),children:[e.amountUpsellHigh&&(0,es.jsx)(Nm,{text:e.upsellHighText,trackingElement:"oldUpsellHighMonthlyUpsellCurtainExperiment",withGiftBoxIcon:!0,autoFocus:e.transitionEntered,onClick:e.onUpsellHighClick}),e.amountUpsellLow&&(0,es.jsx)(Dm,{className:"mt-3",text:e.upsellLowText,autoFocus:e.transitionEntered&&!e.amountUpsellHigh,trackingElement:"oldUpsellLowMonthlyUpsellCurtainExperiment",onClick:e.onUpsellLowClick}),(0,es.jsx)(bm,{className:"mt-3",amount:e.currentAmount,currency:e.currentCurrency,trackingElement:"oldUpsellKeepUpsellCurtainExperiment",onClick:e.onKeepOneTimeClick})]})]})})},_m=(0,is.memo)(Tm),Om=e=>{const{amount:t,currency:i,trackingElement:n,onClick:a}=e,r=(0,Fs.Y)();return(0,es.jsx)("button",{type:"button",className:"btn-link text-truncate","data-tracking-element-name":n,"data-qa":"keep-one-time-link","data-testid":"keep-one-time-link",onClick:a,children:r.translate("upsellScreen.keepOneTimeLink",{amount:r.formatCurrency(t,{currency:i,display:"floatcents"})})})},Im=(0,is.memo)(Om),Rm=e=>{const t=(0,Fs.Y)();return(0,es.jsx)("div",{className:"px-body py-7",children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsx)(Em,{questionText:e.questionShortText}),(0,es.jsxs)("div",{role:"group",className:"mt-7","aria-label":t.translate("upsellScreen.buttonGroupAriaLabel"),children:[e.amountUpsellHigh&&(0,es.jsx)(Nm,{text:e.upsellHighText,trackingElement:"oldUpsellHighMonthlyUpsellCurtainExperiment",withHeartIcon:!0,autoFocus:e.transitionEntered,onClick:e.onUpsellHighClick}),e.amountUpsellLow&&(0,es.jsx)(Dm,{className:"mt-2",text:e.upsellLowText,autoFocus:e.transitionEntered&&!e.amountUpsellHigh,trackingElement:"oldUpsellLowMonthlyUpsellCurtainExperiment",onClick:e.onUpsellLowClick}),(0,es.jsx)("div",{className:"d-flex justify-content-center mt-4",children:(0,es.jsx)(Im,{amount:e.currentAmount,currency:e.currentCurrency,trackingElement:"oldUpsellKeepUpsellCurtainExperiment",onClick:e.onKeepOneTimeClick})})]})]})})},Lm=(0,is.memo)(Rm),jm=e=>{const{show:t,variant:i,onClose:n}=e,a=(0,u._T)(e,["show","variant","onClose"]),r=(0,As.S)(),s=Ms("lg"),o=(0,is.useRef)(null),c=(0,is.useRef)(null),l=Ds(c),d=(0,Sm.QS)({onSwipedDown:()=>{n()},touchEventOptions:{passive:!1},preventScrollOnSwipe:!0,trackMouse:!0}),h=(0,ns.C)().getAskPageConfig().show,m=i===Br.TEST_1?_m:Lm;return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(bs.Z,{nodeRef:o,in:t&&!!i,classNames:"fade-backdrop",timeout:200,mountOnEnter:!0,unmountOnExit:!0,children:(0,es.jsx)("div",{ref:o,className:(0,Cs.Z)("upsell-curtain-backdrop top-left bottom-right",r?"p-fixed":"p-abs",{"border-radius-16":!r&&s||!h&&!r,"border-bottom-radius-16":!r&&!s&&h}),onClick:n})}),(0,es.jsx)(bs.Z,{nodeRef:c,in:t&&!!i,classNames:"slide-curtain",timeout:300,mountOnEnter:!0,unmountOnExit:!0,children:e=>(0,es.jsx)("div",x()({},d,{children:(0,es.jsxs)("div",{ref:c,className:(0,Cs.Z)("upsell-curtain bottom-left w-100 bg-white",r?"p-fixed max-h-95 overflow-y-auto border-top-radius-16":"p-abs border-radius-16"),onFocus:l.handleFocus,onBlur:l.handleBlur,"data-qa":"upsell-curtain-block",children:[(0,es.jsx)("span",{ref:l.trapStartRef,tabIndex:0,"aria-hidden":"true"}),(0,es.jsx)(m,x()({},a,{transitionEntered:"entered"===e})),(0,es.jsx)("span",{ref:l.trapStopRef,tabIndex:0,"aria-hidden":"true"})]})}))})]})},Mm=(0,is.memo)(jm);var Fm;function Um(){return Um=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Um.apply(this,arguments)}var Bm=function(e,t){return is.createElement("svg",Um({fill:"none",height:28,viewBox:"0 0 28 28",width:28,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Fm||(Fm=is.createElement("g",{fill:"currentColor"},is.createElement("path",{clipRule:"evenodd",d:"m15.0393 2.44995c-.6707-.24772-1.4079-.24772-2.0786 0l-8.30715 3.06797c-.39274.14504-.65355.51939-.65355.93807v7.54411c0 3.6861 1.95965 6.6874 4.28911 8.8073 1.16017 1.0557 2.38789 1.8689 3.45309 2.4137 1.1081.5668 1.9145.779 2.2578.779s1.1497-.2122 2.2578-.779c1.0652-.5448 2.2929-1.358 3.4531-2.4137 2.3294-2.1199 4.2891-5.1212 4.2891-8.8073v-7.54411c0-.41868-.2608-.79303-.6536-.93807zm-2.7715-1.876139c1.1179-.412868 2.3465-.412868 3.4644 0l8.3071 3.067969c1.1783.43514 1.9607 1.55819 1.9607 2.81421v7.54411c0 4.4389-2.3618 7.9375-4.943 10.2865-1.2952 1.1786-2.6702 2.092-3.8885 2.7151-1.1754.6012-2.3332.9984-3.1685.9984s-1.9931-.3972-3.1685-.9984c-1.21831-.6231-2.59328-1.5365-3.88847-2.7151-2.58125-2.349-4.94303-5.8476-4.94303-10.2865v-7.54411c0-1.25602.78243-2.37907 1.96066-2.81421z",fillRule:"evenodd"}),is.createElement("path",{d:"m18.2906 11.75h-.2535v-1.1855c0-2.19278-1.7415-4.02451-3.9182-4.06361-.0595-.00107-.1783-.00107-.2378 0-2.1767.0391-3.91819 1.87083-3.91819 4.06361v1.1855h-.25354c-.39069 0-.70937.4028-.70937.9003v5.9463c0 .4969.31868.9035.7094.9035h8.5812c.3907 0 .7094-.4066.7094-.9035v-5.9463c0-.4974-.3187-.9003-.7094-.9003zm-3.4867 3.8674v1.7967c0 .2058-.1723.3799-.3784.3799h-.8509c-.2061 0-.3785-.1741-.3785-.3799v-1.7967c-.1999-.1966-.3162-.4684-.3162-.7691 0-.5698.4408-1.0594 1.0013-1.082.0594-.0024.1783-.0024.2377 0 .5605.0226 1.0013.5122 1.0013 1.082 0 .3007-.1164.5725-.3163.7691zm1.5623-3.8674h-4.7323v-1.1855c0-1.30621 1.0623-2.38623 2.3661-2.38623s2.3662 1.08002 2.3662 2.38623z"}))))},Gm=(0,is.forwardRef)(Bm),qm=(0,is.memo)(Gm);const Km=()=>{const{state:e,controller:t}=ms(fn.DONATE),i=(0,Fs.Y)(),n=(0,As.S)(),a=(0,as.R)(),r=(0,Ns.q)(),s=(0,ns.C)(),o=(0,is.useRef)(null),c=us(),[l,u]=(0,is.useState)(!0),d=Xc(e.amountShakeKey,0!==e.amountShakeKey),h=Xc(e.designationShakeKey,0!==e.designationShakeKey),m=!s.preselectDesignation,p=!!e.donation.canModifyAmount&&e.donation.hintOptions,g=!p,f=(0,is.useCallback)((()=>{t.toggleTribute()}),[t]),y=(0,is.useCallback)((e=>{t.changeTributeName(e)}),[t]),v=(0,is.useCallback)((()=>{t.addComment()}),[t]),S=(0,is.useCallback)((e=>{t.setIsTributeInputFocused(e)}),[t]),C=(0,is.useMemo)((()=>t.getAllowedGoals(e.designation.goals,e.donation.frequency)),[t,e.designation.goals,e.donation.frequency]),b=(0,is.useMemo)((()=>t.getGoalByKey(e.designation.goalKey)),[t,e.designation.goalKey]),A=(0,is.useCallback)((e=>t.changeGoal(e)),[t]),E=(0,is.useCallback)((()=>t.savePrevComment()),[t]),x=(0,is.useCallback)((()=>{u(!0)}),[]),k=(0,is.useCallback)((()=>{u(!1)}),[]),w=(0,is.useCallback)((()=>{t.closeUpsellCurtain()}),[t]);return(0,is.useEffect)((()=>{var t;return n&&e.upsellCurtainShown&&(null===(t=null==a?void 0:a.document)||void 0===t||t.body.classList.add("overflow-hidden")),()=>{var e;null===(e=null==a?void 0:a.document)||void 0===e||e.body.classList.remove("overflow-hidden")}}),[e,a,n]),(0,is.useEffect)((()=>{if(e.upsellCurtainShown)return c.get(xr.UPSELL_CURTAIN_EXPERIMENT).onBackDropClose(w)}),[c,e.upsellCurtainShown,w]),(0,es.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t.leave()},className:r("flow-screen"),"data-qa":"fiat-donate-form",children:[(0,es.jsx)(cc,{role:"status",autoFocus:n,children:i.translate("common.screenEntered",{screenTitle:`${i.translate("donateForm.secureDonation")}`})}),(0,es.jsx)(sc,{className:"border-bottom-0",titleFullwidth:!0,children:(0,es.jsxs)("div",{className:(0,Cs.Z)("d-flex align-items-center justify-content-center",n?"pt-3 pb-2":"py-3"),children:[(0,es.jsx)("div",{className:"flex-shrink-0 font-size-28 text-green-80 me-2","aria-hidden":"true",children:(0,es.jsx)(qm,{className:"icon-fill d-block"})}),(0,es.jsx)("h2",{className:"title-1 text-truncate",children:i.translate("donateForm.secureDonation")})]})}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",{"pb-5":!n}),children:(0,es.jsxs)("div",{className:(0,Cs.Z)("fixed-container",{"flex-grow-1 d-flex flex-column":!n}),children:[e.donation.canModifyFrequency&&(0,es.jsx)(vm,{className:"mb-4",disabled:t.isLocked}),(0,es.jsx)(Nh.Z,{children:(0,es.jsx)(bs.Z,{nodeRef:o,timeout:150,onEntered:x,onExited:k,classNames:p?"switch-amount-hints":"switch-amount-suggestions",children:(0,es.jsxs)("div",{ref:o,children:[p&&(0,es.jsx)(rm,{donation:e.donation,tribute:e.tribute,errors:e.errors,guessedCurrenciesList:e.guessedCurrenciesList,allCurrenciesList:e.allCurrenciesList,showError:e.showError,flowType:e.flowType,showFrequencyCustomAmountInput:e.showFrequencyCustomAmountInput,shake:d,disabled:t.isLocked,animationEnded:l}),g&&(0,es.jsx)(um,{donation:e.donation,tribute:e.tribute,errors:e.errors,guessedCurrenciesList:e.guessedCurrenciesList,allCurrenciesList:e.allCurrenciesList,showError:e.showError,flowType:e.flowType,shake:d,disabled:t.isLocked,animationEnded:l})]})},p?"amount-hints":"amount-suggestions")}),t.shouldShowDesignation()&&m&&(0,es.jsx)(jh,{className:n?"mt-6":"mt-4-5",goal:b,goals:C,shake:h,hasError:e.errors.designation.required,changeGoal:A,goalKey:e.designation.goalKey,isEditable:e.designation.isEditable,isDesignationNew:m,disabled:t.isLocked}),e.tribute.show&&(0,es.jsx)(Fh,{className:(0,Cs.Z)(m&&!n?"mt-4-5":"mt-6"),inHonorOfMaxLength:e.tribute.inHonorOfMaxLength,isActive:e.tribute.isActive,sharingEnabled:e.tribute.sharingEnabled,labelType:e.tribute.labelType,name:e.tribute.name,disabled:t.isLocked,onToggleTribute:f,onChangeTributeName:y,onInputFocusChange:S}),t.shouldShowDesignation()&&!m&&(0,es.jsx)(jh,{className:(0,Cs.Z)({"mt-auto":!n&&e.tribute.show,"mt-5":!n&&!e.tribute.show,"mt-6":n}),goal:b,goals:C,shake:h,hasError:e.errors.designation.required,changeGoal:A,goalKey:e.designation.goalKey,isEditable:e.designation.isEditable,disabled:t.isLocked}),e.comment.isEnabled&&(0,es.jsx)(Dh,{className:(0,Cs.Z)({"mt-5":!t.shouldShowDesignation()&&!e.tribute.show||n&&!(t.shouldShowDesignation()&&!m),"mt-3":t.shouldShowDesignation()&&!m,"mt-auto":!n&&(t.shouldShowDesignation()&&m||e.tribute.show&&!t.shouldShowDesignation())}),prevContent:e.comment.prevContent,content:e.comment.content,onAddComment:v,onHighlight:E,disabled:t.isLocked})]})}),(0,es.jsx)(zo,{children:(0,es.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:t.isLocked,"data-qa":"donate-button","data-tracking-element-name":"nextButton",children:e.donateButtonLabel})}),(0,es.jsx)(Mm,{show:e.upsellCurtainShown,variant:t.upsellCurtainExperiment.variantName,currentAmount:e.preDonationUpsell.upsell.fromAmount,currentCurrency:e.preDonationUpsell.currency,amountUpsellHigh:e.preDonationUpsell.highMonthlyAmount,amountUpsellLow:e.preDonationUpsell.lowMonthlyAmount,upsellHighText:e.preDonationUpsell.highButtonText,upsellLowText:e.preDonationUpsell.lowButtonText,questionText:e.preDonationUpsell.questionText,questionShortText:e.preDonationUpsell.questionShortText,descriptionText:e.preDonationUpsell.descriptionText,onUpsellHighClick:()=>t.confirmUpsell("high"),onUpsellLowClick:()=>t.confirmUpsell("low"),onKeepOneTimeClick:()=>t.confirmUpsell(null),onClose:w})]})},Vm=(0,is.memo)(Km),Hm=e=>{const{controller:t}=ms(fn.DOUBLE),i=(0,Fs.Y)();return(0,es.jsx)("div",{className:(0,Cs.Z)("d-flex justify-content-center",e.className),children:(0,es.jsx)("button",{type:"button",className:"btn-link text-truncate",disabled:e.locked,onClick:()=>t.skip(),"data-qa":"skip-to-the-next-step","data-tracking-element-name":"skipButton",children:i.translate("doubleDonationScreen.nextStepLink")})})},Ym=(0,is.memo)(Hm),Zm=e=>{const t=(0,Fs.Y)(),[i,n]=(0,is.useState)(!1),a=(0,is.useCallback)((()=>{n(!0),e.onLeave()}),[e]),r=(0,is.useCallback)((()=>{e.onAcceptUpsell()}),[e]);return(0,es.jsx)("div",{className:(0,Cs.Z)(e.className),children:e.isAlreadyPaidAmountNotMatched?(0,es.jsx)(Lc,{className:"btn-primary",processingState:e.processingState,onClick:a,dataQa:"double-continue",trackingElement:"nextButton",tooltipMessage:e.additionalPayErrorMessage,tooltipTitle:e.payErrorMessage,children:t.translate("doubleDonationScreen.continueButtonLabel")}):(0,es.jsxs)(es.Fragment,{children:["continue"===e.buttonType&&(0,es.jsx)(Lc,{className:"btn-primary",processingState:e.processingState,onClick:a,dataQa:"double-continue",trackingElement:"nextButton",tooltipMessage:e.additionalPayErrorMessage,tooltipTitle:e.payErrorMessage,children:t.translate("doubleDonationScreen.continueButtonLabel")}),"amount_matched"===e.buttonType&&(0,es.jsx)(Lc,{className:"btn-primary",processingState:e.processingState,onClick:a,dataQa:"double-continue",trackingElement:e.isPaymentScreen?"payButton":"nextButton",tooltipMessage:e.additionalPayErrorMessage,tooltipTitle:e.payErrorMessage,children:pc(t,e.formattedTotal,e.frequency)}),"upsell_pay_now"===e.buttonType&&(0,es.jsxs)("div",{className:"d-block",children:[(0,es.jsx)(Lc,{className:"btn-primary",processingState:i?"idle":e.processingState,disabled:e.locked,onClick:r,dataQa:"double-continue",trackingElement:e.isPaymentScreen?"payButton":"nextButton",tooltipMessage:e.additionalPayErrorMessage,tooltipTitle:e.payErrorMessage,children:pc(t,e.formattedUpsellTotal,e.frequency)}),(0,es.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,es.jsx)(Lc,{buttonType:"link",processingState:i?e.processingState:"idle",disabled:e.locked,onClick:a,dataQa:"dtd-decline-upsell-button",trackingElement:e.isPaymentScreen?"payButton":"nextButton",tooltipMessage:e.additionalPayErrorMessage,tooltipTitle:e.payErrorMessage,children:e.declineButtonLabel})})]}),"upsell_pay_later"===e.buttonType&&(0,es.jsxs)("div",{className:"d-block",children:[(0,es.jsx)(Lc,{className:"btn-primary",processingState:e.processingState,onClick:r,dataQa:"double-continue",trackingElement:"nextButton",tooltipMessage:e.additionalPayErrorMessage,tooltipTitle:e.payErrorMessage,children:e.changeAmountButtonLabel}),(0,es.jsx)("div",{className:"d-flex justify-content-center mt-5",children:(0,es.jsx)("button",{type:"button",className:"btn-link text-truncate",disabled:e.locked,onClick:a,"data-qa":"skip-to-the-next-step","data-tracking-element-name":"skipButton",children:e.noChangeAmountButtonLabel})})]}),e.showSkipButton&&(0,es.jsx)(Ym,{locked:e.locked,className:"mt-5"})]})})},$m=(0,is.memo)(Zm),zm=e=>{const t=(0,Fs.Y)(),i=(0,is.useRef)(null),n=(0,As.S)(),a=(0,Ts.r)(i);return(0,es.jsx)(bs.Z,{classNames:n?"animation-double-opacity-mobile":"animation-double-opacity",nodeRef:i,in:e.showDTDDescription,addEndListener:a,mountOnEnter:!0,unmountOnExit:!0,children:(0,es.jsx)("div",{ref:i,children:(0,es.jsxs)("div",{className:"text-center","aria-hidden":!e.showDTDDescription,role:"status",children:[(0,es.jsx)(Ol,{className:(0,Cs.Z)("text-center",n?"text-ellipsis":"text-line-clamp-4"),as:"p",token:"doubleDonationScreen.description.desktop"}),(0,es.jsx)("p",{className:(0,Cs.Z)("text-center font-weight-500 mt-1-5",n?"text-ellipsis":"text-line-clamp-4"),children:t.translate("doubleDonationScreen.callToAction")}),(0,es.jsx)("div",{className:"pb-4"})]})})})},Wm=(0,is.memo)(zm);var Xm,Qm,Jm;function ep(){return ep=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ep.apply(this,arguments)}var tp,ip=function(e,t){return is.createElement("svg",ep({width:100,height:100,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),Xm||(Xm=is.createElement("circle",{cx:50,cy:50,r:50,fill:"#c4c4c4"})),Qm||(Qm=is.createElement("circle",{cx:50,cy:50,r:49.5,fill:"#fff",stroke:"#c7cdd6"})),Jm||(Jm=is.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 92.0905V72.9412C23 70.7936 24.7185 69 26.8729 69H29V55.873C29 53.7555 30.7054 52 32.8279 52H34V41.016C34 38.8099 35.7927 37 38 37H39.2055L40.6234 30.8905L40.6254 30.8826C41.054 29.1633 42.6073 28 44.3615 28H48.5V17C48.5 16.1716 49.1716 15.5 50 15.5C50.8284 15.5 51.5 16.1716 51.5 17V28H55.7669C57.5211 28 59.0744 29.1633 59.5031 30.8826L59.5072 30.8991L60.8091 37H62C64.2073 37 66 38.8099 66 41.016V52H68.1721C70.2946 52 72 53.7555 72 55.873V69H74.1271C76.2815 69 78 70.7936 78 72.9412V91.4307C77.3443 91.8747 76.6774 92.3036 76 92.7168V72.9412C76 71.8535 75.1329 71 74.1271 71H57.8729C56.8671 71 56 71.8535 56 72.9412V99.6437C55.3372 99.723 54.6705 99.7893 54 99.8423V55.873C54 53.7555 55.7054 52 57.8279 52H64V41.016C64 39.9045 63.0927 39 62 39H38C36.9073 39 36 39.9045 36 41.016V52H43.1721C45.2946 52 47 53.7555 47 55.873V99.9115C46.3297 99.8718 45.6629 99.8189 45 99.7531V72.9412C45 71.8535 44.1329 71 43.1271 71H26.8729C25.8671 71 25 71.8535 25 72.9412V93.3109C24.3231 92.9193 23.6563 92.5124 23 92.0905ZM42.5677 31.3594L41.2587 37H58.7641L57.5588 31.3517C57.3549 30.5629 56.6307 30 55.7669 30H44.3615C43.4949 30 42.7688 30.5665 42.5677 31.3594ZM43.1271 69H31V55.873C31 54.8302 31.8397 54 32.8279 54H43.1721C44.1603 54 45 54.8302 45 55.873V69.4928C44.4464 69.1794 43.8086 69 43.1271 69ZM70 69V55.873C70 54.8302 69.1603 54 68.1721 54H57.8279C56.8397 54 56 54.8302 56 55.873V69.4928C56.5536 69.1794 57.1914 69 57.8729 69H70ZM44 33V35H46V33H44ZM49 33V35H51V33H49ZM54 35V33H56V35H54ZM34 61V58H36V61H34ZM34 66V63H36V66H34ZM40 61V58H42V61H40ZM40 63V66H42V63H40ZM59 58V61H61V58H59ZM59 63V66H61V63H59ZM65 58V61H67V58H65ZM65 66V63H67V66H65ZM31 76V90.5268H29V76H31ZM36 95.3691V76H34V95.3691H36ZM67 95.3691V76H65V95.3691H67ZM72 90.5268V76H70V90.5268H72ZM40 43V49.0193H42V43H40ZM46 49.0193V43H48V49.0193H46ZM52 43V49.0193H54V43H52ZM58 49.0193V43H60V49.0193H58Z",fill:"#619fff"})))},np=(0,is.forwardRef)(ip),ap=(0,is.memo)(np);function rp(){return rp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},rp.apply(this,arguments)}var sp,op,cp,lp,up,dp=function(e,t){return is.createElement("svg",rp({fill:"none",height:26,viewBox:"0 0 26 26",width:26,xmlns:"http://www.w3.org/2000/svg",ref:t},e),tp||(tp=is.createElement("g",{stroke:"#428dff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4},is.createElement("path",{d:"m13 2v22"}),is.createElement("path",{d:"m2 13h22"}))))},hp=(0,is.forwardRef)(dp),mp=(0,is.memo)(hp);function pp(){return pp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},pp.apply(this,arguments)}var gp=function(e,t){return is.createElement("svg",pp({width:100,height:100,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),sp||(sp=is.createElement("circle",{cx:50,cy:50,r:49.5,fill:"#fff",stroke:"#c7cdd6"})),op||(op=is.createElement("path",{d:"M57.2608 62.7612C55.2449 64.2953 52.729 65.2061 50.0003 65.2061C47.2716 65.2061 44.7557 64.2953 42.7399 62.7612C42.3223 62.4434 41.9261 62.0989 41.554 61.7301C41.408 61.5854 41.2656 61.437 41.1272 61.285C40.408 60.4956 41.4576 59.6672 42.3877 60.1366C42.4118 60.1488 42.4358 60.1618 42.4597 60.1757C42.9193 60.4435 43.3944 60.6876 43.8833 60.9062C45.7514 61.7416 47.8216 62.2061 50.0003 62.2061C52.179 62.2061 54.2492 61.7416 56.1173 60.9062C56.6063 60.6876 57.0814 60.4435 57.5409 60.1757C57.5648 60.1618 57.5889 60.1488 57.613 60.1366C58.543 59.6672 59.5926 60.4956 58.8735 61.285C58.735 61.437 58.5927 61.5854 58.4466 61.7301C58.0745 62.0989 57.6784 62.4434 57.2608 62.7612Z",fill:"#619fff"})),cp||(cp=is.createElement("path",{d:"M39 50C39 48.3431 40.1123 47 41.4845 47H41.5155C42.8877 47 44 48.3431 44 50C44 51.6569 42.8877 53 41.5155 53H41.4845C40.1123 53 39 51.6569 39 50Z",fill:"#619fff"})),lp||(lp=is.createElement("path",{d:"M58.4845 47C57.1123 47 56 48.3431 56 50C56 51.6569 57.1123 53 58.4845 53H58.5155C59.8877 53 61 51.6569 61 50C61 48.3431 59.8877 47 58.5155 47H58.4845Z",fill:"#619fff"})),up||(up=is.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M50 75C63.8071 75 75 63.8071 75 50C75 36.1929 63.8071 25 50 25C36.1929 25 25 36.1929 25 50C25 63.8071 36.1929 75 50 75ZM73 50C73 62.7026 62.7026 73 50 73C37.2975 73 27 62.7026 27 50C27 37.2975 37.2975 27 50 27C62.7026 27 73 37.2975 73 50Z",fill:"#619fff"})))},fp=(0,is.forwardRef)(gp),yp=(0,is.memo)(fp);const vp=()=>{const{state:e}=ms(fn.DOUBLE);return(0,es.jsxs)("div",{className:(0,Cs.Z)("animation-double-img",{enabled:!e.showDTDDescription}),"aria-hidden":"true",children:[(0,es.jsx)("div",{className:"animation-double-img-user",children:(0,es.jsx)(yp,{className:"d-block"})}),(0,es.jsx)("div",{className:"animation-double-img-plus",children:(0,es.jsx)(mp,{className:"d-block"})}),(0,es.jsx)("div",{className:"animation-double-img-company",children:(0,es.jsx)(ap,{className:"d-block"})})]})},Sp=(0,is.memo)(vp),Cp={characterData:!0,childList:!0,subtree:!0},bp=e=>{const t=(0,Fs.Y)(),i=(0,As.S)(),[n,a]=(0,is.useState)(!1),r=(0,is.useCallback)((e=>{const t=e.parentElement,i=e.firstChild;t&&i&&t.offsetHeight<i.offsetHeight&&a(!0)}),[]),{mutableElementRef:s}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cp;const i=(0,is.useRef)(null);return(0,is.useEffect)((()=>{if(!(null==i?void 0:i.current)||!e)return;const n=new MutationObserver((()=>{e(i.current)}));return n.observe(i.current,t),()=>n.disconnect()}),[e,t,i]),{mutableElementRef:i}}(r);return(0,es.jsxs)("div",{className:(0,Cs.Z)("p-rel",{"flex-grow-1":!i&&n}),ref:s,children:[e.showDTDUpsell&&!e.isAlreadyPaidAmountNotMatched&&(0,es.jsxs)("div",{className:(0,Cs.Z)("px-3 py-2-5 border-1-gray-20 border-top-0 border-bottom-radius-8",{"p-abs top-left top-right":!i&&!n,"p-abs top-left bottom-right text-scrollable border-top-radius-0":!i&&n}),role:"status","data-qa":"dtd-upsell-message","data-testid":"dtd-upsell-message",children:[(0,es.jsx)("p",{className:"subtitle-4 text-ellipsis",children:t.translate("doubleDonationScreen.nameMatch",{name:e.employer.name,amount:t.formatCurrency(e.minimumMatchedAmount,{currency:e.currency,display:"floatcents"})})}),(0,es.jsx)("p",{className:"body-3 text-ellipsis mt-1",children:t.translate("doubleDonationScreen.message",{withCosts:e.isFeeCovered?t.translate("doubleDonationScreen.withCosts"):"",amount:t.formatCurrency(e.upsellTotal,{currency:e.currency,display:"floatcents"}),doubleAmount:t.formatCurrency(e.DTDUpsellDoubledAmount,{currency:e.currency,display:"floatcents"})})})]}),e.showEmployerMatchedBlock&&!e.isAlreadyPaidAmountNotMatched&&(0,es.jsxs)("div",{className:(0,Cs.Z)("px-3 py-2-5 border-1-gray-20 border-top-0 border-bottom-radius-8",{"p-abs top-left top-right":!i&&!n,"p-abs top-left bottom-right text-scrollable border-top-radius-0":!i&&n}),role:"status","data-qa":"dtd-employer-matched-message","data-testid":"dtd-employer-matched-message",children:[(0,es.jsx)("p",{className:"subtitle-4 text-ellipsis",children:t.translate("doubleDonationScreen.matchedCompanyBlock.name",{name:e.employer.name})}),(0,es.jsx)("p",{className:"body-3 text-ellipsis mt-1",children:t.translate("doubleDonationScreen.matchedCompanyBlock.message",{doubleAmount:t.formatCurrency(e.DTDDoubledAmount,{currency:e.currency,display:"floatcents"})})})]}),e.isAlreadyPaidAmountNotMatched&&(0,es.jsxs)("div",{className:(0,Cs.Z)("px-3 py-2-5 border-1-gray-20 border-top-0 border-bottom-radius-8",{"p-abs top-left top-right":!i&&!n,"p-abs top-left bottom-right text-scrollable border-top-radius-0":!i&&n}),role:"status","data-qa":"dtd-is-already-paid-amount-not-matched-message",children:[(0,es.jsx)("p",{className:"subtitle-4 text-ellipsis",children:t.translate("doubleDonationScreen.smallDonationAmountExperiment.name",{name:e.employer.name})}),(0,es.jsx)("p",{className:"body-3 text-ellipsis mt-1",children:t.translate("doubleDonationScreen.smallDonationAmountExperiment.message")})]})]})},Ap=e=>{const t=(0,Fs.Y)(),i=mo(),{controller:n}=ms(fn.DOUBLE),a=(0,is.useMemo)((()=>{var t;return e.isIntegrationEnabled?T()(t=e.companies).call(t,(e=>({id:e.id.toString(),value:e.company_name}))):[]}),[e.companies,e.isIntegrationEnabled]),r=(0,is.useCallback)((t=>{i||e.isIntegrationEnabled&&n.getDTDCompanies(t)}),[n,i,e.isIntegrationEnabled]),s=(0,is.useCallback)((e=>{n.changeEmployerName(e)}),[n]),o=(0,is.useCallback)((()=>{n.changeEmployerName(""),n.resetEmployerDTD()}),[n]),c=(0,is.useCallback)((e=>n.setEmployerDTD(Number(e))),[n]),l=(0,is.useRef)(null);return Hc(l,e.autoFocus),(0,es.jsx)("div",{className:"p-rel",children:(0,es.jsx)(Vc,{ref:l,className:(0,Cs.Z)("search-select-double",{"search-select-double-active":e.showEmployerMatchedBlock||e.showDTDUpsell}),options:a,value:e.employer.name,onSearch:r,onSelect:c,onChange:s,placeholder:t.translate("doubleDonationScreen.companyPlaceholder"),onClear:o,disabled:e.locked,hint:(0,es.jsx)(Ol,{token:"doubleDonationScreen.tooltipLabel",params:{link:"https://doublethedonation.com/privacy-policy/"}}),allowClear:!0,qa:"company-field",trackingElement:"selectEmployer"})})},Ep=(0,is.memo)(Ap),xp=e=>{const{showBadge:t}=e,{state:i,controller:n}=ms(fn.DOUBLE),a=(0,Fs.Y)(),r=(0,As.S)(),s=(0,Ns.q)(),o=(0,is.useCallback)((()=>n.leave()),[n]),c=(0,is.useCallback)((()=>n.acceptUpsell()),[n]);return(0,es.jsxs)("div",{className:s("flow-screen"),"data-qa":"active-screen-dtd",children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenEntered",{screenTitle:`${a.translate("doubleDonationScreen.title")}`})}),(0,es.jsx)(sc,{title:a.translate("doubleDonationScreen.title"),showBadge:t}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",{"pt-5 pb-4":!r,"z-index-4":i.showDTDDescription,"overflow-hidden":!i.showDTDDescription}),children:(0,es.jsxs)("div",{className:(0,Cs.Z)("fixed-container",{"flex-grow-1 d-flex flex-column":!r}),children:[(0,es.jsx)(Sp,{}),(0,es.jsxs)("div",{className:r?"mt-6":"flex-grow-1 d-flex flex-column mt-3",children:[(0,es.jsx)(Wm,{showDTDDescription:i.showDTDDescription}),(0,es.jsx)(Ep,{isIntegrationEnabled:i.isIntegrationEnabled,companies:i.companies,showEmployerMatchedBlock:i.showEmployerMatchedBlock,showDTDUpsell:i.showDTDUpsell,employer:i.employer,locked:i.locked,autoFocus:!0}),(0,es.jsx)(bp,{showDTDUpsell:i.showDTDUpsell,employer:i.employer,minimumMatchedAmount:i.minimumMatchedAmount,currency:i.currency,isFeeCovered:i.isFeeCovered,upsellTotal:i.upsellTotal,DTDUpsellDoubledAmount:i.DTDUpsellDoubledAmount,DTDDoubledAmount:i.DTDDoubledAmount,showEmployerMatchedBlock:i.showEmployerMatchedBlock,isAlreadyPaidAmountNotMatched:i.isAlreadyPaidAmountNotMatched})]})]})}),(0,es.jsx)(zo,{children:(0,es.jsx)($m,{buttonType:i.buttonType,processingState:i.processingState,formattedTotal:i.formattedTotal,frequency:i.frequency,locked:i.locked,formattedUpsellTotal:i.formattedUpsellTotal,declineButtonLabel:i.declineButtonLabel,changeAmountButtonLabel:i.changeAmountButtonLabel,noChangeAmountButtonLabel:i.noChangeAmountButtonLabel,showSkipButton:i.showSkipButton,isAlreadyPaidAmountNotMatched:i.isAlreadyPaidAmountNotMatched,onLeave:o,onAcceptUpsell:c,isPaymentScreen:i.isPaymentScreen,additionalPayErrorMessage:i.additionalPayErrorMessage,payErrorMessage:i.payErrorMessage})})]})},kp=(0,is.memo)(xp);function wp(e,t,i){switch(i){case St.EK.DAILY:return e.translate("giftAidScreen.payButtonLabel.daily",{amount:t});case St.EK.EVERY_4_WEEKS:return e.translate("giftAidScreen.payButtonLabel.every4weeks",{amount:t});case St.EK.MONTHLY:return e.translate("giftAidScreen.payButtonLabel.monthly",{amount:t});case St.EK.ANNUAL:return e.translate("giftAidScreen.payButtonLabel.annual",{amount:t});case St.EK.BIMONTHLY:return e.translate("giftAidScreen.payButtonLabel.bimonthly",{amount:t});case St.EK.BIWEEKLY:return e.translate("giftAidScreen.payButtonLabel.biweekly",{amount:t});case St.EK.ONCE:return e.translate("giftAidScreen.payButtonLabel.once",{amount:t});case St.EK.WEEKLY:return e.translate("giftAidScreen.payButtonLabel.weekly",{amount:t});case St.EK.QUARTERLY:return e.translate("giftAidScreen.payButtonLabel.quarterly",{amount:t});case St.EK.SEMIANNUAL:return e.translate("giftAidScreen.payButtonLabel.semiannual",{amount:t});default:throw new Error(`Unknown frequency "${i}"`)}}const Np=()=>{const{state:e,controller:t}=ms(fn.GIFT_AID),i=(0,As.S)(),n=(0,is.useRef)(null);return(0,is.useEffect)((()=>{const e=n.current;e&&t.changeLegalTextOverflowed(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}),[t,n]),(0,es.jsx)("div",{className:"p-rel flex-grow-1","data-qa":"legal-text",children:(0,es.jsx)("div",{ref:n,className:(0,Cs.Z)({"border-top-1-gray-20":!e.legalTextOverflowed||i,"p-abs top-left bottom-right":!i,"text-scrollable":e.legalTextOverflowed,"pointer-events-none":e.locked}),children:(0,es.jsx)("p",{className:(0,Cs.Z)("body-4 text-gray-80 text-ellipsis",e.legalTextOverflowed?"px-3 py-2-5":"pt-4-5"),dangerouslySetInnerHTML:{__html:e.legalText}})})})},Pp=(0,is.memo)(Np);var Dp;function Tp(){return Tp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tp.apply(this,arguments)}var _p=function(e,t){return is.createElement("svg",Tp({fill:"none",height:36,viewBox:"0 0 102 36",width:102,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Dp||(Dp=is.createElement("path",{d:"m51.768 17.256c2.83-4.4504 1.4109-5.1346 1.2663-5.0523-2.7532 1.5572-4.8499 6.2447-4.6739 7.806.243 2.1494 1.9046-.3916 3.4076-2.7537zm10.7215-4.0841c-.5126.9186-.8436 1.928-.9748 2.9726-.0724.522-.1568 2.7897-.1381 3.0979.0289.5006.0924.9985.1902 1.4902.0673.2455.4869 1.128-.8596 1.3145-.7923.1094-.7768-1.881-.7923-2.2068-.0304-.6942.0842-3.1333.1576-3.4953.0774-.3703-.077.0221-.2228.2645-.3357.564-.7264 1.3271-1.1943 2.0785-.6145.988-1.9851 3.3414-3.8543 3.2013-.6993-.0531-1.4106-.1435-1.8169-2.0999-.1558-.7499-.0954-1.7357-.0794-2.3275-.0195-.1219-.0029-.2617-.1045-.2047-.662 1.5506-2.8121 6.1205-5.2416 5.0932-1.1252-.4744-1.6796-1.9326-.4375-4.7802 1.2101-2.7754 4.2625-6.2172 5.4784-6.4483 1.0837-.2066 1.1964.3414 1.1964.3414.0988-.2022.7744-.1785.9222.1116.1974.388.3292.4552.1974 1.4787-.0746.5903-.6208 4.2824-.5265 5.551.0434.5945.145 2.0594.7469 2.1299 1.0514.1264 2.3256-2.1189 2.4703-2.3535.2832-.4587 2.5518-4.2769 2.8311-4.8344.3005-.6011.4905-1.04.6844-1.4226s.7783-.4251 1.2878-.0762c.5094.3489.2543.8285.0799 1.1244zm-48.0051 1.8703c-1.3339.1442-3.7659 3.3812-4.267 4.5307-.51231 1.1738-.69726 2.3054-.0893 2.7775 1.2581.9807 2.5596-.6817 2.9421-1.0681.2367-.2379 1.8919-2.0504 2.3081-3.8913.2752-1.2155.4026-2.4881-.8939-2.3488zm.6951 14.367c-.092.1652-.1866.3288-.2838.491-.9827 1.6379-2.2719 3.0993-3.8704 4.1527-2.1651 1.4262-4.1985 1.9741-6.47046 1.9467-1.32108-.0153-2.59509-.23-3.681415-.9237-.89044-.5686-1.017386-1.4576-.747703-2.0445.374914-.8176 1.545208-.738 2.043118-.2688 1.24319 1.1703 1.98527 1.6241 3.58363 1.5464 1.31769-.0756 2.60043-.4542 3.74914-1.1067 6.61179-3.8762 6.55139-10.8443 6.81979-15.043.0284-.2553-.1098-.0696-.1565.0694-.3191.8933-.7141 1.7575-1.1806 2.5828-.6777 1.2294-1.6366 2.2796-2.7977 3.0641-.8373.5552-2.1971.8239-3.15466.1973-.34712-.2287-2.37703-1.4216-.65659-4.9754 1.08192-2.2361 3.35855-3.7871 3.87215-4.116 1.2558-.8052 2.1532-1.1881 3.0942-1.1155.4792.035.5483.2244.9046.2149.2028-.239.3147-.4146.6484-.5072.4479-.0718.9798.3049 1.1844 1.0188.2045.7139-.3282 1.8607-.4627 2.4122.0011-.0003.4742 7.1534-2.4369 12.4045zm7.5328-16.1178c-.8104.0153-.7441.6025-.914 1.1162-.1644.5122-1.561 5.1182-1.7384 5.944-.1773.8258-.2989 1.5674-.0425 2.7007.2609 1.1585 1.5837.8199 1.724.6166.6462-.9086.0738-1.1763.053-1.8109-.0166-.6632.1643-1.359.3008-2.257.0486-.3201.146-1.7758.1939-1.9734.0539-.2134.5102-1.8343 1.1675-2.8201.2814-.4226.5291-1.5382-.7443-1.5161zm2.2057-5.38681c-.1108-.22866-.7137-.94895-1.5005-.38979-1.1705.83202.1791 1.98174.3958 2.5458.2167.564 1.3867 1.0366 1.2159-.07625-.0249-.16006.2108-1.41755-.1112-2.07976zm12.9236 5.42541c-.381.0852-1.1413.2392-1.6197.3201-.7243.122-1.1189.5793-1.0916 1.0415.0273.4656.186.6849.8323.5617.5843-.1109 1.083-.6097 1.5944-.6119 0 0-1.056 4.4695-1.1251 5.0684-.069.599-.3814 2.2376.2602 3.1673 1.4273 2.0695 4.2821-.3026 4.5489-.561.196-.191 1.9995-1.7787 2.6109-3.052.3097-.6462-.2176-.7889-.5746-.9208-.357-.1318-1.1112.0961-1.2166.5686-.2296 1.0266-2.7272 3.7958-3.9633 3.2406-1.4568-.6555 1.1712-7.9999 1.1712-7.9999.3134-.1412 1.9007-.5519 3.4034-.9398 1.7337-.4459 7.0324-1.4963 5.8365-3.0855-.5853-.77741-2.098.4065-2.6106.6543-1.8366.8842-6.3321 2.1822-6.3321 2.1822s.5837-2.6403.7726-3.1604c.217-.59528 1.0174-.98477 1.1339-2.04454.1374-1.23265-1.3416-1.79394-2.0476-.44437-.146.27699-.3472 1.04148-.367 1.06054-.1896.18293-1.8222.83736-3.4274 1.60566-.5059.24211-3.3795 1.29101-3.3848 1.28421.0039-.022.8725-2.78682 1.879-5.09342.6696-1.53371 1.613-3.66866 3.2844-4.10205 1.5653-.40504.8273 1.23173 1.5316 1.65719.8933.53934 1.4413-.14085 1.5781-.79132.1073-.50946.0789-3.18283-2.6284-2.9156001-2.5762.2550351-4.629 4.2029701-7.1673 11.5801001-.0273.0295-2.0434 1.3369-3.7148 1.6729-.8265.1658-1.1922.2376-1.3015.5335-.0902.2374-.1095.496-.0556.7442.0539.2483.1788.4753.3593.6534.4763.5707 4.198-1.9023 4.194-1.8852-.0759.1007-3.1294 11.7808-3.1539 11.9171-.1759.9727-1.1604 3.5375-1.1071 4.7017.0295.599.2633 1.8456 1.1223 1.79 1.7988.1185 1.4519-2.4185 1.331-2.8837-.2519-.9624 1.0403-7.3241 2.2-12.0124.2364-.9563.7222-2.5254.8067-2.8986.0487-.2687.1595-.5223.3235-.7403.1641-.218.3768-.3943.621-.5147 0 0 6.4662-3.05997 6.5263-3.04229.0005.00671-1.0325 3.69459-1.0325 3.69459zm44.3013 5.8385c1.252 1.1886 2.4972.4351 3.1381-.0832 1.9657-1.5869 6.0185-8.8192 6.0185-8.8192.0231.242-1.6887 8.5367.5998 9.4564 1.4675.5884 4.8829-2.337 5.274-2.6078 2.2551-1.5627.8733-2.1342.4383-2.1342-1.1629-.0037-.9535.8416-1.2716 1.2212-.5246.6271-2.6332 2.8049-3.6656 2.2267-.556-.3128-.4188-2.1555-.3634-2.5802.3249-4.3903.4117-5.183.6665-6.19282.1427-.56129.8239-.5465 1.241-.62333 5.6306-1.04438 6.6405-.62318 7.3425-.96679.557-.27515.657-1.45962-.133-1.71435-.362-.11418-.82.16219-1.6491.47256-.8247.30595-4.9793 1.22823-5.5903 1.31923-.5628.08171-.6833.00214-.82-.17485-.1345-.17515.1245-2.23525.9316-3.9429.3512-.73904.3605-1.87-.7863-1.9575-.4716-.034-.8722.10076-1.0514.50427-.1784.40093-.522 4.05953-.6023 4.30313-.0813.24055-.5163.42836-.6124.84589-.0962.41754-.0292.67807-.3091.77197-.2829.0965-1.0576.17119-1.3763.24817-.3354.08202-.5344.72609-.5467 1.0985-.0123.37242.5862.15107.8748.10884.3295-.04817 1.1352-.45229.5619.24058-.2173.2648-4.1258 6.3984-5.6521 7.6614-1.7563 1.4514-1.6307-1.4025-1.5869-1.8886.2655-2.9104 1.5337-4.8629 1.7159-5.3263.1792-.4657.2547-1.84563-1.2425-1.54075-.1745.04422-.3349.13231-.4661.25598s-.2288.27885-.2838.45089c-.0025.00999-.0039.0202-.0044.03049-.1505 1.36019-2.7506 7.47449-.7896 9.33709zm2.2821-14.24048c.4614.90306 1.2496.58369 1.3838.35061.1347-.23125.2422-.27927.6244-.43385.7017-.28141-.5099-1.54576-1.6624-1.18904-.0741.03234-.1379.08452-.1844.15082s-.074.14418-.0794.2251c.0313.26464-.239.59437-.082.89681zm-14.1346 7.09688s.7563-.6542 1.0766-.6373c.1486.0073-.1106.4206.4091.6759.276.1372-.3019 1.9828-1.4444 3.7543-2.6238 4.0675-3.8678 3.8839-3.9757 2.6486-.2219-2.5774 3.1735-5.9166 3.9344-6.4415zm1.332 3.3348s-.0097.8764.0583 1.6257c.0607.6726.2897 2.0799.5257 2.5351.3657.7012 1.141.7012 1.7381.3576.7815-.4508.4119-1.2939.1143-1.5745-.2598-.2472-.8912-.5641-1.0824-1.6228-.1125-.6267-.0205-3.4508.1645-4.4388.1915-.9067.4776-1.7907.8535-2.63723.3113-.61662 2.1866-4.14733 2.2141-5.33256.0114-.51723-.5193-.94605-1.3865-.85642-.8672.08964-1.083.78676-1.0845 1.24378-.0021.45442-.9204 3.65448-.9679 3.80006-.0759.2186-.2264 1.52884-.6744 1.53173-.9977-.01753-1.9712.30954-2.7574.92654-.4321.3287-1.8994 1.4746-2.7465 2.6702-.3843.5411-2.1316 2.7961-1.9341 5.4879.18 2.4476 1.8859 2.0145 2.3753 1.936 2.2262-.359 3.7915-4.035 4.0182-4.4858.401-.8001.2654-.5849.5715-1.1665zm-8.7702-8.94233c-.1631.20122-.1224.8398.2328 1.16999.2674.24894.3048.29482.3134.49604.0152.37105.2512.39163.6146.38644.4444-.0064.8078-.31601.8527-.94605.045-.63004-.563-1.16892-1.0524-1.29027-.4894-.12134-.7495-.07942-.9611.18385z",fill:"#000"})))},Op=(0,is.forwardRef)(_p),Ip=(0,is.memo)(Op);const Rp=(0,is.forwardRef)(((e,t)=>{const{onSelect:i,options:n,selectedOption:a,className:r,placeholder:s,shouldSearchById:o,displayName:c,clearOnFocus:l,onChange:u,isDynamicOptions:d,showArrow:h=!0,showInputPrefix:m=!0,showIcons:p,SelectedIconToRender:g,ListItemToRender:f,disabled:y,hasError:v,trackingElement:S,qa:C,filterRegex:b,onBlur:A}=e,[E,x]=(0,is.useState)((null==a?void 0:a.id)||""),[k,w]=(0,is.useState)(c),N=void 0!==c;(0,is.useEffect)((()=>{(null==a?void 0:a.id)&&x(null==a?void 0:a.id),N&&w(c)}),[c,N,a]);const P=(0,is.useCallback)((e=>(i(e),!1)),[i]),D=(0,is.useCallback)((e=>{x(e),u&&u(e),N&&w(e)}),[N,u]),T=(0,is.useMemo)((()=>{if(!n.length)return[];if(d)return n;const e=vt()(n).call(n,(e=>{let{id:t}=e;return t===(null==a?void 0:a.id)}));if(E===(null==e?void 0:e.id))return[...n];const t=E.toLowerCase();return o?B()(n).call(n,(e=>{var i,n;let{id:a,value:r}=e;return Be()(i=r.toLowerCase()).call(i,t)||Be()(n=a.toLowerCase()).call(n,t)})):B()(n).call(n,(e=>{var i;let{value:n}=e;return Be()(i=n.toLowerCase()).call(i,t)}))}),[n,d,E,o,a]),_=(0,is.useCallback)((()=>{(null==a?void 0:a.id)?x(a.id):x(""),N&&w(c),null==A||A()}),[c,N,a,A]),O=(0,is.useCallback)((()=>{l&&N&&w("")}),[l,N]);return(0,es.jsx)(qc,{ref:t,options:T,value:E,onChange:D,onSelect:P,onBlur:_,onFocus:O,className:r,placeholder:s,displayName:k,isDynamicOptions:d,showArrow:h,showInputPrefix:m,showIcons:p,SelectedIconToRender:g,ListItemToRender:f,selectedOption:a,disabled:y,hasError:v,trackingElement:S,qa:C,filterRegex:b})}));Rp.displayName="_SearchFilterSelect";const Lp=(0,is.memo)(Rp),jp=e=>(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("div",{className:"search-select-option-icon","aria-hidden":"true",children:(0,es.jsx)("img",{className:"border-radius-6",src:i(56451)(`./ideal-bank-${e.option.id}.svg`),width:20,height:20,alt:e.option.value})}),(0,es.jsx)("span",{children:e.option.value})]}),Mp=e=>!e.option||null===e.option.icon&&!e.option.id?(0,es.jsx)("div",{}):(0,es.jsx)("div",{className:"search-select-input-icon","aria-hidden":"true",children:(0,es.jsx)("img",{className:"border-radius-6",src:i(56451)(`./ideal-bank-${e.option.id}.svg`),width:20,height:20,alt:e.option.value})}),Fp=(0,is.memo)(Mp),Up=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:(0,Cs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:e.height||128,viewBox:"0 0 158 128",width:e.width||158,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"33",width:"11",x:"98.4998",y:"59",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,es.jsxs)("filter",{id:`b-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"33",width:"11",x:"73.4998",y:"59",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,es.jsxs)("filter",{id:`c-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"6",width:"91",x:"33.4998",y:"103",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,es.jsxs)("filter",{id:`d-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"6",width:"79",x:"39.4998",y:"97",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,es.jsxs)("filter",{id:`e-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"30",width:"90",x:"34.4998",y:"19",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,es.jsxs)("filter",{id:`f-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"15",x:"96.4998",y:"92",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,es.jsxs)("filter",{id:`g-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"15",x:"96.4998",y:"54",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,es.jsxs)("filter",{id:`h-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"15",x:"71.4998",y:"92",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,es.jsxs)("filter",{id:`i-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"15",x:"71.4998",y:"54",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,es.jsxs)("filter",{id:`j-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"33",width:"11",x:"48.4998",y:"59",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,es.jsxs)("filter",{id:`k-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"15",x:"46.4998",y:"92",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,es.jsxs)("filter",{id:`l-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"15",x:"46.4998",y:"54",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,es.jsxs)("filter",{id:`m-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"5",width:"82",x:"38.4998",y:"49",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.725694 0 0 0 0 0.753183 0 0 0 0 0.791667 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_16856_24583"})]}),(0,es.jsxs)("filter",{id:`n-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"66.4238",width:"51.5996",x:"9.14014",y:"24.7031",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dx:".5",dy:".5"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:"1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.06125 0 0 0 0 0.525 0 0 0 0 0.132596 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_16856_24583"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_16856_24583",mode:"normal",result:"shape"})]}),(0,es.jsxs)("filter",{id:`o-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"34.9189",width:"28.3767",x:"20.7512",y:"39.0498",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dx:".5",dy:".5"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:"1"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.160784 0 0 0 0 0.619608 0 0 0 0 0.231373 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_16856_24583"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_16856_24583",mode:"normal",result:"shape"})]}),(0,es.jsxs)("linearGradient",{id:`p-${t}`,gradientUnits:"userSpaceOnUse",x1:"7.07017",x2:"54.682",y1:"32.2054",y2:"71.3086",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#beffd2"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#beffd2",stopOpacity:".15"})]}),(0,es.jsxs)("linearGradient",{id:`q-${t}`,gradientUnits:"userSpaceOnUse",x1:"18.1884",x2:"39.841",y1:"54.9202",y2:"81.3544",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ebfff1"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#ebfff1",stopOpacity:"0"})]}),(0,es.jsx)("g",{filter:`url(#a-${t})`,children:(0,es.jsx)("path",{d:"m98.4998 59h11v33h-11z",fill:"#dde0eb"})}),(0,es.jsx)("g",{filter:`url(#b-${t})`,children:(0,es.jsx)("path",{d:"m73.4998 59h11v33h-11z",fill:"#dde0eb"})}),(0,es.jsx)("g",{filter:`url(#c-${t})`,children:(0,es.jsx)("path",{d:"m33.4998 103h91v6h-91z",fill:"#c9cfd7"})}),(0,es.jsx)("g",{filter:`url(#d-${t})`,children:(0,es.jsx)("path",{d:"m39.4998 97h79v6h-79z",fill:"#dde0eb"})}),(0,es.jsx)("g",{filter:`url(#e-${t})`,children:(0,es.jsx)("path",{d:"m34.4998 43.2308 45-24.2308 45.0002 24.2308v5.7692h-90.0002z",fill:"#c9cfd7"})}),(0,es.jsx)("path",{d:"m48.4998 43 31-16 31.0002 16z",fill:"#dde0eb"}),(0,es.jsx)("g",{filter:`url(#f-${t})`,children:(0,es.jsx)("path",{d:"m96.4998 94c0-1.1046.8954-2 2-2h11.0002c1.104 0 2 .8954 2 2v3h-15.0002z",fill:"#c9cfd7"})}),(0,es.jsx)("g",{filter:`url(#g-${t})`,children:(0,es.jsx)("path",{d:"m96.4998 57c0 1.1046.8954 2 2 2h11.0002c1.104 0 2-.8954 2-2v-3h-15.0002z",fill:"#c9cfd7"})}),(0,es.jsx)("g",{filter:`url(#h-${t})`,children:(0,es.jsx)("path",{d:"m71.4998 94c0-1.1046.8954-2 2-2h11c1.1045 0 2 .8954 2 2v3h-15z",fill:"#c9cfd7"})}),(0,es.jsx)("g",{filter:`url(#i-${t})`,children:(0,es.jsx)("path",{d:"m71.4998 57c0 1.1046.8954 2 2 2h11c1.1045 0 2-.8954 2-2v-3h-15z",fill:"#c9cfd7"})}),(0,es.jsx)("g",{filter:`url(#j-${t})`,children:(0,es.jsx)("path",{d:"m48.4998 59h11v33h-11z",fill:"#dde0eb"})}),(0,es.jsx)("g",{filter:`url(#k-${t})`,children:(0,es.jsx)("path",{d:"m46.4998 94c0-1.1046.8954-2 2-2h11c1.1045 0 2 .8954 2 2v3h-15z",fill:"#c9cfd7"})}),(0,es.jsx)("g",{filter:`url(#l-${t})`,children:(0,es.jsx)("path",{d:"m46.4998 57c0 1.1046.8954 2 2 2h11c1.1045 0 2-.8954 2-2v-3h-15z",fill:"#c9cfd7"})}),(0,es.jsx)("g",{filter:`url(#m-${t})`,children:(0,es.jsx)("path",{d:"m38.4998 49h82.0002l-2.216 5h-77.568z",fill:"#dde0eb"})}),(0,es.jsx)("path",{d:"m35.8866 19.5614c-.9308-.3612-1.963-.3612-2.8938 0l-28.21625 10.9479c-.7695.2985-1.27655 1.0392-1.27655 1.8645v25.0408c0 24.0092 24.3098 38.4147 30.9397 38.4147 6.63 0 30.9398-14.4055 30.9398-38.4147v-25.0408c0-.8253-.5071-1.566-1.2766-1.8645z",fill:"#3ac24f"}),(0,es.jsxs)("g",{filter:`url(#n-${t})`,children:[(0,es.jsx)("path",{clipRule:"evenodd",d:"m10.6401 35.6313v21.5716c0 9.4566 4.6827 17.33 10.5723 23.0788 2.9207 2.851 6.0022 5.0351 8.632 6.4779 1.3139.7208 2.4515 1.2217 3.3408 1.5298.7584.2627 1.1579.3229 1.2493.3367l.0054.0008.0054-.0008c.0915-.0138.4909-.074 1.2493-.3367.8893-.3081 2.0269-.809 3.3408-1.5298 2.6298-1.4428 5.7113-3.6269 8.6321-6.4779 5.8896-5.7488 10.5722-13.6222 10.5722-23.0788v-21.5716l-23.7998-9.4282z",fill:"#3bcb53",fillRule:"evenodd"}),(0,es.jsx)("path",{d:"m34.4399 87.9681c-.155-.0285-.4945-.1033-1.0419-.2929-.8485-.294-1.9525-.7786-3.2409-1.4855-2.5788-1.4148-5.6126-3.5638-8.4907-6.3731-5.8068-5.668-10.3763-13.3839-10.3763-22.6137v-21.13l23.1498-9.1706 23.1498 9.1706v21.13c0 9.2298-4.5694 16.9457-10.3762 22.6137-2.8781 2.8093-5.9119 4.9583-8.4907 6.3731-1.2884.7069-2.3924 1.1915-3.2409 1.4855-.5475.1896-.887.2644-1.042.2929z",stroke:`url(#p-${t})`,strokeWidth:"1.3"})]}),(0,es.jsxs)("g",{filter:`url(#o-${t})`,children:[(0,es.jsx)("path",{d:"m44.8987 53.0362h-.618v-2.8197c0-5.2152-4.2452-9.5718-9.5513-9.6648-.1449-.0025-.4346-.0025-.5796 0-5.3061.093-9.5513 4.4496-9.5513 9.6648v2.8197h-.6181c-.9523 0-1.7292.9581-1.7292 2.1413v14.1425c0 1.1819.7769 2.1489 1.7293 2.1489h20.9182c.9524 0 1.7293-.967 1.7293-2.1489v-14.1425c0-1.1832-.7769-2.1413-1.7293-2.1413zm-8.4993 9.1982v4.2733c0 .4893-.4203.9034-.9226.9034h-2.0743c-.5024 0-.9226-.4141-.9226-.9034v-4.2733c-.4872-.4675-.7708-1.114-.7708-1.8292 0-1.3552 1.0745-2.5197 2.4408-2.5735.1448-.0057.4348-.0057.5796 0 1.3663.0538 2.4408 1.2183 2.4408 2.5735-.0001.7152-.2837 1.3617-.7709 1.8292zm3.8082-9.1982h-5.4782-.5796-5.4781v-2.8197c0-3.1066 2.5897-5.6753 5.7679-5.6753s5.768 2.5687 5.768 5.6753z",fill:"#beffd2"}),(0,es.jsx)("path",{d:"m43.7807 53.0362v.5h.5.618c.5823 0 1.2293.6298 1.2293 1.6413v14.1425c0 1.0129-.6492 1.6489-1.2293 1.6489h-20.9182c-.5801 0-1.2293-.636-1.2293-1.6489v-14.1425c0-1.0116.647-1.6413 1.2292-1.6413h.6181.5v-.5-2.8197c0-4.9418 4.026-9.0766 9.0601-9.1649.1391-.0024.4229-.0024.5621 0 5.034.0883 9.06 4.2231 9.06 9.1649zm-6.1104 7.3691v-.0001c0-1.6134-1.2764-3.0083-2.9211-3.0731-.1579-.0063-.4611-.0063-.619 0-1.6447.0648-2.9211 1.4597-2.9211 3.0731 0 .7736.28 1.4858.7708 2.0312v4.0713c0 .7744.6531 1.4034 1.4226 1.4034h2.0743c.7695 0 1.4226-.629 1.4226-1.4034v-4.0713c.4907-.5454.7708-1.2576.7709-2.0311zm-9.4986-7.3691v.5h.5 5.4781.5796 5.4782.5v-.5-2.8197c0-3.3892-2.8202-6.1753-6.268-6.1753-3.4479 0-6.2679 2.7861-6.2679 6.1753z",stroke:`url(#q-${t})`})]})]})},Bp=(0,is.memo)(Up);var Gp,qp,Kp,Vp,Hp,Yp;function Zp(){return Zp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Zp.apply(this,arguments)}var $p=function(e,t){return is.createElement("svg",Zp({fill:"none",height:28,viewBox:"0 0 28 28",width:28,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Gp||(Gp=is.createElement("path",{d:"m0 2.99597v21.02063c0 1.0062.82326 1.8294 1.82947 1.8294h12.55933c9.4949 0 13.6112-5.3146 13.6112-12.3672 0-7.01599-4.1163-12.3123-13.6112-12.3123h-12.55933c-1.00621 0-1.82947.82326-1.82947 1.82947z",fill:"#fff"})),qp||(qp=is.createElement("path",{d:"m8.40625 6.32564v15.53216h6.75985c6.1379 0 8.7998-3.4668 8.7998-8.3698 0-4.69257-2.6619-8.33321-8.7998-8.33321h-5.58899c-.64946 0-1.17086.53054-1.17086 1.17085z",fill:"#c06"})),Kp||(Kp=is.createElement("path",{d:"m14.3891 24.1721h-10.92187c-.96962 0-1.75629-.7867-1.75629-1.7563v-17.8099c0-.96962.78667-1.75629 1.75629-1.75629h10.92187c10.364 0 11.9099 6.66841 11.9099 10.63839 0 6.8879-4.2352 10.6841-11.9099 10.6841zm-10.92187-20.73706c-.64946 0-1.17086.5214-1.17086 1.17086v17.8099c0 .6494.5214 1.1708 1.17086 1.1708h10.92187c7.2996 0 11.3244-3.5857 11.3244-10.0986 0-8.74489-7.0983-10.05296-11.3244-10.05296z",fill:"#000"})),Vp||(Vp=is.createElement("g",{fill:"#fff"},is.createElement("path",{d:"m10.7856 11.3934c.2378 0 .4574.0366.6678.1098s.3842.1921.5397.3384c.1463.1555.2652.3476.3567.5672.0823.2287.1281.4939.1281.8049 0 .2745-.0366.5214-.1006.7501-.0732.2287-.1738.43-.3111.5946-.1372.1647-.311.2927-.5214.3933-.2103.0915-.4573.1464-.7409.1464h-1.60078v-3.7138h1.58248zm-.0549 3.0278c.1189 0 .2287-.0183.3476-.0549.1098-.0366.2104-.1006.2927-.1921.0824-.0915.1555-.2012.2104-.3476.0549-.1463.0824-.311.0824-.5214 0-.1829-.0183-.3567-.0549-.5031-.0366-.1463-.1006-.2836-.183-.3842-.0823-.1006-.1921-.1921-.3293-.247-.1372-.0548-.3018-.0823-.5031-.0823h-.5854v2.3417h.7226z"}),is.createElement("path",{d:"m15.7795 11.3934v.6861h-1.9576v.7958h1.8021v.6312h-1.8021v.9055h2.0033v.6861h-2.8174v-3.7138h2.7717z"}),is.createElement("path",{d:"m18.5784 11.3936 1.3904 3.7138h-.8507l-.2836-.8233h-1.3904l-.2927.8233h-.8233l1.3996-3.7138zm.0457 2.2776-.4665-1.3629h-.0092l-.4848 1.3629z"}),is.createElement("path",{d:"m21.2965 11.3936v3.0277h1.8112v.6861h-2.6253v-3.7138z"}))),Hp||(Hp=is.createElement("path",{d:"m5.35118 14.9607c.94471 0 1.71055-.7659 1.71055-1.7106s-.76584-1.7105-1.71055-1.7105-1.71056.7658-1.71056 1.7105.76585 1.7106 1.71056 1.7106z",fill:"#000"})),Yp||(Yp=is.createElement("path",{d:"m6.64143 21.8579c-1.43613 0-2.5887-1.1617-2.5887-2.5887v-2.0215c0-.7135.57629-1.299 1.29893-1.299.71349 0 1.29892.5763 1.29892 1.299v4.6102z",fill:"#000"})))},zp=(0,is.forwardRef)($p),Wp=(0,is.memo)(zp);const Xp={boxShadow:"inset 0 0 0 1px #c7cdd6"},Qp={boxShadow:"inset 0 -1px 0 0 #c7cdd6"},Jp=e=>{const t=(0,Fs.Y)();return(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsx)("p",{className:"text-center text-truncate",children:t.translate("idealConfirmationScreen.description")}),(0,es.jsxs)("div",{className:"bg-white border-radius-8 mt-5",style:Xp,children:[(0,es.jsxs)("div",{className:"px-3 py-2",style:Qp,children:[(0,es.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:t.translate("idealConfirmationScreen.email")}),(0,es.jsx)("p",{className:"label-3 text-truncate",children:e.email})]}),(0,es.jsxs)("div",{className:"px-3 py-2",style:Qp,children:[(0,es.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:t.translate("idealConfirmationScreen.name")}),(0,es.jsx)("p",{className:"label-3 text-truncate",children:e.name})]}),(0,es.jsxs)("div",{className:"px-3 py-2",children:[(0,es.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:t.translate("idealConfirmationScreen.bank")}),(0,es.jsx)("p",{className:"label-3 text-truncate",children:e.ideal.bank})]})]})]})},eg=(0,is.memo)(Jp);var tg;function ig(){return ig=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ig.apply(this,arguments)}var ng=function(e,t){return is.createElement("svg",ig({fill:"none",height:44,viewBox:"0 0 44 44",width:44,xmlns:"http://www.w3.org/2000/svg",ref:t},e),tg||(tg=is.createElement("g",{stroke:"currentColor",strokeWidth:2},is.createElement("g",{strokeLinecap:"round"},is.createElement("path",{d:"m22 21.0916v11"}),is.createElement("path",{d:"m12.8359 21.0916v11"}),is.createElement("path",{d:"m31.1641 21.0916v11"})),is.createElement("path",{d:"m22.0026 3.65845-14.66666 10.08335h29.33336z",strokeLinejoin:"round"}),is.createElement("path",{d:"m7.33594 38.5h29.33336",strokeLinecap:"round"}))))},ag=(0,is.forwardRef)(ng),rg=(0,is.memo)(ag);const sg=e=>{const t=(0,Fs.Y)();return(0,es.jsxs)("div",{className:"fixed-container my-auto",children:[(0,es.jsxs)("div",{className:"ideal-img-wrapper","aria-hidden":"true",children:[(0,es.jsx)("div",{className:"ideal-img-logo",children:(0,es.jsx)(Wp,{className:"icon d-block"})}),(0,es.jsx)("div",{className:"ideal-img-bank",children:(0,es.jsx)(rg,{className:"icon-stroke d-block"})})]}),(0,es.jsx)("p",{className:"text-center mt-8",children:t.translate("idealConfirmationScreen.return.info",{bank:e.ideal.bank})})]})},og=(0,is.memo)(sg);var cg;!function(e){e.CARD="creditCard",e.APPLE_PAY="applePay",e.GOOGLE_PAY="googlePay",e.CLICK_TO_PAY="clickToPay",e.SEPA="sepa",e.PAYPAL="paypal",e.AU_BECS="auBecsDebit",e.UK_BACS="ukBacs",e.VENMO="venmo",e.ACSS="acss",e.IDEAL="ideal",e.PAYPAL_CONVERSION="paypalConversion",e.US_BANK_ACCOUNT="usBankAccount",e.US_BANK_ACCOUNT_INSTANT="usBankAccountInstant",e.US_BANK_ACCOUNT_VERIFICATION="usBankAccountVerification"}(cg||(cg={}));var lg=i(45360),ug=i.n(lg);class dg{static isButtonFullWidth(e,t){return 3===t||(0===e||!(4/(e+t-1)<1))}static allSlotsAreTaken(e){return e>5}}const hg=e=>{const t=(0,Fs.Y)();return(0,es.jsx)(Lc,{processingState:e.processingState,className:"btn-default",disabled:e.disabled,onClick:e.onClick,dataQa:"acss-button",trackingElement:"paymentMethod-acss",children:t.translate("paymentMethodScreen.bankButton")})},mg=(0,is.memo)(hg);var pg;function gg(){return gg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gg.apply(this,arguments)}var fg=function(e,t){return is.createElement("svg",gg({fill:"none",height:26,viewBox:"0 0 51 26",width:51,xmlns:"http://www.w3.org/2000/svg",ref:t},e),pg||(pg=is.createElement("g",{fill:"#fff"},is.createElement("path",{d:"m10.7677 6.37383c.5615-.70228.9425-1.64523.842-2.60882-.8219.04087-1.82492.54225-2.4056 1.24508-.52139.60186-.98286 1.5843-.86255 2.50749.92264.08003 1.84445-.46118 2.42615-1.14375z"}),is.createElement("path",{d:"m11.5996 7.69773c-1.3399-.07981-2.47913.76045-3.119.76045-.64022 0-1.62007-.72023-2.67985-.70082-1.37938.02026-2.65929.80017-3.35926 2.0406-1.43973 2.48144-.37995 6.16234 1.02012 8.18334.6799.9999 1.4993 2.1008 2.57898 2.0612 1.02012-.04 1.41996-.6605 2.65996-.6605 1.23909 0 1.59925.6605 2.67915.6405 1.1198-.02 1.8199-1.0003 2.4998-2.0012.78-1.1398 1.0993-2.2403 1.1193-2.3007-.02-.02-2.1593-.8407-2.1792-3.3016-.0201-2.0604 1.6796-3.04053 1.7596-3.10131-.9599-1.41967-2.4596-1.57974-2.9796-1.61996z"}),is.createElement("path",{d:"m23.2667 4.90918c2.9123 0 4.9402 2.00744 4.9402 4.93011 0 2.93311-2.0697 4.95101-5.0132 4.95101h-3.2244v5.1277h-2.3297v-15.00882zm-3.2974 7.92562h2.6731c2.0283 0 3.1827-1.092 3.1827-2.98508 0-1.89288-1.1544-2.97463-3.1723-2.97463h-2.6835z"}),is.createElement("path",{d:"m28.8154 16.8081c0-1.914 1.4666-3.0892 4.0671-3.2349l2.9953-.1767v-.8425c0-1.2169-.8218-1.945-2.1945-1.945-1.3004 0-2.1117.6239-2.3091 1.6018h-2.1218c.1248-1.9764 1.8096-3.43248 4.514-3.43248 2.6522 0 4.3475 1.40418 4.3475 3.59878v7.5408h-2.1531v-1.7994h-.0517c-.6344 1.217-2.0179 1.9866-3.4532 1.9866-2.1426 0-3.6405-1.3313-3.6405-3.297zm7.0624-.9881v-.8633l-2.694.1663c-1.3418.0937-2.1009.6866-2.1009 1.6227 0 .9567.7904 1.5809 1.997 1.5809 1.5704 0 2.7979-1.0818 2.7979-2.5066z"}),is.createElement("path",{d:"m40.1472 23.9432v-1.8202c.1661.0415.5405.0415.7279.0415 1.04 0 1.6017-.4368 1.9448-1.56 0-.0209.1978-.6657.1978-.6761l-3.9523-10.95245h2.4336l2.767 8.90345h.0413l2.767-8.90345h2.3714l-4.0984 11.51395c-.9357 2.6524-2.0174 3.5053-4.2849 3.5053-.1873 0-.7491-.0209-.9152-.052z"}))))},yg=(0,is.forwardRef)(fg),vg=(0,is.memo)(yg);const Sg=e=>{const t=(0,Fs.Y)(),i=(0,Vs.S)();return(0,es.jsxs)("button",{type:"button",className:(0,Cs.Z)("btn btn-apple-pay btn-height d-flex justify-content-center align-items-center",{"flex-row-reverse":i}),"aria-label":t.translate("common.applePayButtonAriaLabel"),onClick:e.onClick,disabled:e.disabled,"data-tracking-element-name":"paymentMethod-applePay",children:[(0,es.jsx)("span",{className:"text-truncate",children:t.translate("common.applePayButton")}),(0,es.jsx)("span",{className:"flex-shrink-0 ms-1-5","aria-hidden":"true",children:(0,es.jsx)(vg,{className:"d-block",width:50,height:26})})]})},Cg=(0,is.memo)(Sg),bg=e=>{const t=(0,Fs.Y)();return(0,es.jsx)("button",{type:"button",className:"btn btn-default",onClick:e.onClick,"data-qa":"au-becs-button",disabled:e.disabled,"data-tracking-element-name":"paymentMethod-auBECS",children:t.translate("common.auBECSButton")})},Ag=(0,is.memo)(bg),Eg={color:"#000"},xg={color:"#1A1E71"},kg={boxShadow:"0 0 0 1px #ced3d9"},wg=e=>{const t=(0,Fs.Y)();return(0,es.jsxs)("button",{type:"button",className:"btn btn-default btn-height d-flex justify-content-center align-items-center py-0","aria-label":t.translate("common.clickToPaySplashButton"),onClick:e.onClick,disabled:e.disabled,"data-qa":"click-to-pay-button","data-tracking-element-name":"paymentMethod-clickToPay",children:[(0,es.jsx)(Vd,{className:"flex-shrink-0",width:30,height:30,"aria-hidden":"true",style:Eg}),e.isButtonFullWidth&&(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("span",{className:"flex-shrink-0 h-45 border-left-1-black ms-2 me-1","aria-hidden":"true"}),(0,es.jsx)(Jd,{className:"flex-shrink-0 mx-1",width:29,height:18,"aria-hidden":"true"}),(0,es.jsx)(mh,{className:"flex-shrink-0 mx-1",width:40,height:14,style:xg,"aria-hidden":"true"}),(0,es.jsx)(Td,{className:"flex-shrink-0 mx-1",width:20,height:20,"aria-hidden":"true"}),(0,es.jsx)(jd,{className:"flex-shrink-0 ms-1",style:kg,ariaHidden:!0})]})]})},Ng=(0,is.memo)(wg);var Pg;function Dg(){return Dg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Dg.apply(this,arguments)}var Tg=function(e,t){return is.createElement("svg",Dg({fill:"none",height:18,viewBox:"0 0 18 18",width:18,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Pg||(Pg=is.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},is.createElement("path",{d:"m15.75 3h-13.5c-.82843 0-1.5.67157-1.5 1.5v9c0 .8284.67157 1.5 1.5 1.5h13.5c.8284 0 1.5-.6716 1.5-1.5v-9c0-.82843-.6716-1.5-1.5-1.5z"}),is.createElement("path",{d:"m.75 7.5h16.5"}))))},_g=(0,is.forwardRef)(Tg),Og=(0,is.memo)(_g);const Ig=e=>{const t=(0,Fs.Y)(),i=(0,ns.C)().featureConfig.creditDebitCardLabel&&e.isButtonFullWidth?t.translate("paymentMethodScreen.creditDebitCard"):t.translate("paymentMethodScreen.creditCard");return(0,es.jsxs)("button",{type:"button",className:"btn btn-primary btn-height d-flex justify-content-center align-items-center",onClick:e.onClick,"data-qa":"cc-button",disabled:e.disabled,"data-tracking-element-name":"paymentMethod-creditCard",children:[e.isButtonFullWidth&&(0,es.jsx)("span",{className:"flex-shrink-0 me-2","aria-hidden":"true",children:(0,es.jsx)(Og,{className:"d-block",width:24,height:24})}),(0,es.jsx)("span",{className:"text-truncate",children:i})]})},Rg=(0,is.memo)(Ig);var Lg,jg,Mg,Fg,Ug;function Bg(){return Bg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bg.apply(this,arguments)}var Gg=function(e,t){return is.createElement("svg",Bg({fill:"none",height:26,viewBox:"0 0 53 26",width:53,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Lg||(Lg=is.createElement("g",{fill:"#fff"},is.createElement("path",{d:"m25.011 13.6095v5.8583h-1.8898v-14.48819h4.9134c1.1969 0 2.3307.44095 3.2126 1.25985.8819.7559 1.3228 1.88976 1.3228 3.08661 0 1.19683-.4409 2.26773-1.3228 3.08663s-1.9528 1.2598-3.2126 1.2598zm0-6.86611v5.03941h3.1496c.6929 0 1.3858-.252 1.8268-.7559 1.0078-.9449 1.0078-2.51973.0629-3.46461l-.0629-.06299c-.504-.50394-1.1339-.8189-1.8268-.75591z"}),is.createElement("path",{d:"m36.9168 9.26294c1.3858 0 2.4567.37795 3.2756 1.13386.8189.7559 1.1968 1.7638 1.1968 3.0236v6.0473h-1.7638v-1.3859h-.063c-.7559 1.1339-1.8267 1.7008-3.0866 1.7008-1.0708 0-2.0157-.3149-2.7716-.9449-.6929-.6299-1.1339-1.5118-1.1339-2.4567 0-1.0078.378-1.8267 1.1339-2.4566.7559-.63 1.8267-.8819 3.0866-.8819 1.1338 0 2.0157.1889 2.7086.6299v-.441c0-.6299-.2519-1.2598-.7559-1.6378-.5039-.4409-1.1338-.6929-1.8267-.6929-1.0709 0-1.8898.441-2.4567 1.3229l-1.6378-1.0079c1.0079-1.32284 2.3307-1.95276 4.0945-1.95276zm-2.3937 7.18106c0 .504.2519.9449.6299 1.1969.4409.315.9449.5039 1.4488.5039.7559 0 1.5118-.3149 2.0787-.8819.63-.5669.9449-1.2598.9449-2.0157-.5669-.441-1.3858-.6929-2.4567-.6929-.7559 0-1.3858.189-1.8897.5669-.504.315-.7559.7559-.7559 1.3228z"}),is.createElement("path",{d:"m51.5937 9.57788-6.2362 14.29922h-1.8897l2.3307-4.9764-4.0945-9.25983h2.0157l2.9607 7.11813h.0629l2.8977-7.11813h1.9527z"}))),jg||(jg=is.createElement("path",{d:"m17.5146 12.3496c0-.5669-.0629-1.1339-.1259-1.7008h-7.87405v3.2126h4.47245c-.189 1.0079-.7559 1.9528-1.6378 2.5197v2.0787h2.7087c1.5748-1.4488 2.4566-3.5905 2.4566-6.1102z",fill:"#4285f4"})),Mg||(Mg=is.createElement("path",{d:"m9.51486 20.4756c2.26774 0 4.15744-.7559 5.54334-2.0158l-2.7087-2.0787c-.7559.5039-1.7008.8189-2.83464.8189-2.14173 0-4.0315-1.4488-4.66142-3.4646h-2.77165v2.1417c1.44882 2.8347 4.28346 4.5985 7.43307 4.5985z",fill:"#34a853"})),Fg||(Fg=is.createElement("path",{d:"m4.85386 13.7354c-.37795-1.0078-.37795-2.1417 0-3.2126v-2.1417h-2.77165c-1.196852 2.3307-1.196852 5.1024 0 7.4961z",fill:"#fbbc04"})),Ug||(Ug=is.createElement("path",{d:"m9.51461 7.12126c1.19689 0 2.33069.44095 3.21259 1.25985l2.3937-2.3937c-1.5118-1.38583-3.5276-2.20473-5.5433-2.14174-3.1496 0-6.04724 1.76378-7.43307 4.59843l2.77165 2.1417c.56693-2.01572 2.4567-3.46454 4.59843-3.46454z",fill:"#ea4335"})))},qg=(0,is.forwardRef)(Gg),Kg=(0,is.memo)(qg);const Vg=e=>{const{state:t}=ms(fn.PAYMENT_OPTIONS),{onClick:i,disabled:n}=e,a=(0,Fs.Y)(),[r,s]=(0,is.useState)(!1),o=(0,yc.i)((e=>s(e))),c=(0,is.useCallback)((()=>t.livemode?n?void 0:i():(o.set([!0]),void o.set([!1],3e3))),[n,i,t.livemode,o]);return(0,es.jsx)("button",{type:"button",className:(0,Cs.Z)("btn btn-height p-rel py-0",r?"btn-testmode":"btn-google-pay"),disabled:n,"aria-label":a.translate("common.googlePayButton"),onClick:c,"data-tracking-element-name":"paymentMethod-googlePay",children:r?(0,es.jsx)(es.Fragment,{children:e.isButtonFullWidth?a.translate("paymentMethodScreen.googlePay.notAvailableInTestMode.oneLine"):(0,es.jsx)("span",{className:"p-abs top-left bottom-right d-flex align-items-center justify-content-center px-1",children:(0,es.jsx)(Ol,{token:"paymentMethodScreen.googlePay.notAvailableInTestMode.twoLines",className:"text-line-clamp-2 text-wrap-normal line-height-18"})})}):(0,es.jsx)(Kg,{className:"d-block mx-auto",width:62,height:31,"aria-hidden":"true"})})},Hg=(0,is.memo)(Vg),Yg=e=>{const t=(0,Fs.Y)();return(0,es.jsxs)("button",{type:"button",className:"btn btn-default d-flex justify-content-center align-items-center",onClick:e.onClick,disabled:e.disabled,"data-qa":"ideal-button","data-tracking-element-name":"paymentMethod-ideal",children:[(0,es.jsx)("span",{className:"flex-shrink-0 me-1","aria-hidden":"true",children:(0,es.jsx)(Wp,{className:"d-block",width:24,height:24})}),(0,es.jsx)("span",{className:"text-truncate",children:t.translate("common.idealButton")})]})},Zg=(0,is.memo)(Yg);var $g,zg,Wg;function Xg(){return Xg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xg.apply(this,arguments)}!function(e){e.SILVER="silver",e.WHITE="white"}($g||($g={}));var Qg=function(e,t){return is.createElement("svg",Xg({height:32,preserveAspectRatio:"xMinYMin meet",viewBox:"0 0 101 32",width:101,xmlns:"http://www.w3.org/2000/svg",ref:t},e),zg||(zg=is.createElement("g",{fill:"#003087"},is.createElement("path",{d:"m12.237 2.8h-7.8c-.5 0-1 .4-1.1.9l-3.1 20c-.1.4.2.7.6.7h3.7c.5 0 1-.4 1.1-.9l.8-5.4c.1-.5.5-.9 1.1-.9h2.5c5.1 0 8.1-2.5 8.9-7.4.3-2.1 0-3.8-1-5-1.1-1.3-3.1-2-5.7-2zm.9 7.3c-.4 2.8-2.6 2.8-4.6 2.8h-1.2l.8-5.2c0-.3.3-.5.6-.5h.5c1.4 0 2.7 0 3.4.8.5.4.7 1.1.5 2.1z"}),is.createElement("path",{d:"m35.437 10h-3.7c-.3 0-.6.2-.6.5l-.2 1-.3-.4c-.8-1.2-2.6-1.6-4.4-1.6-4.1 0-7.6 3.1-8.3 7.5-.4 2.2.1 4.3 1.4 5.7 1.1 1.3 2.8 1.9 4.7 1.9 3.3 0 5.2-2.1 5.2-2.1l-.2 1c-.1.4.2.8.6.8h3.4c.5 0 1-.4 1.1-.9l2-12.8c.1-.2-.3-.6-.7-.6zm-5.1 7.2c-.4 2.1-2 3.6-4.2 3.6-1.1 0-1.9-.3-2.5-1s-.8-1.6-.6-2.6c.3-2.1 2.1-3.6 4.2-3.6 1.1 0 1.9.4 2.5 1 .5.7.7 1.6.6 2.6z"}),is.createElement("path",{d:"m55.337 10h-3.7c-.4 0-.7.2-.9.5l-5.2 7.6-2.2-7.3c-.1-.5-.6-.8-1-.8h-3.7c-.4 0-.8.4-.6.9l4.1 12.1-3.9 5.4c-.3.4 0 1 .5 1h3.7c.4 0 .7-.2.9-.5l12.5-18c.3-.3 0-.9-.5-.9z"}))),Wg||(Wg=is.createElement("g",{fill:"#009cde"},is.createElement("path",{d:"m67.737 2.8h-7.8c-.5 0-1 .4-1.1.9l-3.1 19.9c-.1.4.2.7.6.7h4c.4 0 .7-.3.7-.6l.9-5.7c.1-.5.5-.9 1.1-.9h2.5c5.1 0 8.1-2.5 8.9-7.4.3-2.1 0-3.8-1-5-1.2-1.2-3.1-1.9-5.7-1.9zm.9 7.3c-.4 2.8-2.6 2.8-4.6 2.8h-1.2l.8-5.2c0-.3.3-.5.6-.5h.5c1.4 0 2.7 0 3.4.8.5.4.6 1.1.5 2.1z"}),is.createElement("path",{d:"m90.937 10h-3.7c-.3 0-.6.2-.6.5l-.2 1-.3-.4c-.8-1.2-2.6-1.6-4.4-1.6-4.1 0-7.6 3.1-8.3 7.5-.4 2.2.1 4.3 1.4 5.7 1.1 1.3 2.8 1.9 4.7 1.9 3.3 0 5.2-2.1 5.2-2.1l-.2 1c-.1.4.2.8.6.8h3.4c.5 0 1-.4 1.1-.9l2-12.8c0-.2-.3-.6-.7-.6zm-5.2 7.2c-.4 2.1-2 3.6-4.2 3.6-1.1 0-1.9-.3-2.5-1s-.8-1.6-.6-2.6c.3-2.1 2.1-3.6 4.2-3.6 1.1 0 1.9.4 2.5 1 .6.7.8 1.6.6 2.6z"}),is.createElement("path",{d:"m95.337 3.3-3.2 20.3c-.1.4.2.7.6.7h3.2c.5 0 1-.4 1.1-.9l3.2-19.9c.1-.4-.2-.7-.6-.7h-3.6c-.4 0-.6.2-.7.5z"}))))},Jg=(0,is.forwardRef)(Qg),ef=(0,is.memo)(Jg);const tf="paymentMethod-paypal",nf=e=>{const{option:t,disabled:i,onClick:n}=e,{state:a,controller:r}=ms(fn.PAYMENT_OPTIONS),s=(0,Fs.Y)(),o=(0,is.useRef)(null),[c,l]=(0,is.useState)(!1),u=(0,yc.i)((e=>l(e))),d=gs();(0,is.useEffect)((()=>{if(t!==cg.PAYPAL_CONVERSION&&o.current&&a.livemode)return r.initiatePaypal({element:o.current,buttonColor:$g.SILVER,onClick:()=>{o.current&&d.trackClick(tf,o.current)}}),()=>r.closePaypalButton()}),[r,t,a.livemode,d]);const h=(0,is.useCallback)((()=>a.livemode?i?void 0:t===cg.PAYPAL_CONVERSION?n():void 0:(u.set([!0]),void u.set([!1],3e3))),[i,t,n,a.livemode,u]);return(0,es.jsxs)("div",{className:(0,Cs.Z)("btn btn-height p-rel",c?"btn-testmode":"btn-paypal",{"focus-outline":!a.livemode||t===cg.PAYPAL_CONVERSION,disabled:i}),tabIndex:a.livemode&&t!==cg.PAYPAL_CONVERSION?void 0:0,onClick:h,onKeyPress:h,"data-qa":"paypal-button",children:[(0,es.jsx)("div",{className:(0,Cs.Z)("p-abs z-index-2 top-left bottom-right border-radius-base overflow-hidden",c?"cursor-default":"cursor-pointer"),children:(0,es.jsx)("div",{id:"paypal-button",className:"p-abs centered min-w-100",children:(0,es.jsx)("div",{className:"tap-highlight line-height-0",ref:o,"data-tracking-element-name":tf})})}),c?(0,es.jsx)("div",{className:"p-abs top-left bottom-right d-flex align-items-center justify-content-center px-1",children:e.isButtonFullWidth?(0,es.jsx)("span",{className:"text-truncate",children:s.translate("paymentMethodScreen.paypal.notAvailableInTestMode.oneLine")}):(0,es.jsx)(Ol,{token:"paymentMethodScreen.paypal.notAvailableInTestMode.twoLines",className:"text-line-clamp-2 text-wrap-normal line-height-18"})}):(0,es.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,es.jsx)(ef,{width:69,height:22})})]})},af=(0,is.memo)(nf),rf=e=>{const t=(0,Fs.Y)();return(0,es.jsx)("button",{type:"button",className:"btn btn-default",onClick:e.onClick,disabled:e.disabled,"data-qa":"sepa-button","data-tracking-element-name":"paymentMethod-sepa",children:e.isButtonFullWidth?t.translate("common.sepaButton"):t.translate("common.sepaButtonShort")})},sf=(0,is.memo)(rf);var of;function cf(){return cf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},cf.apply(this,arguments)}var lf=function(e,t){return is.createElement("svg",cf({fill:"none",height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",ref:t},e),of||(of=is.createElement("g",{fill:"currentColor"},is.createElement("path",{clipRule:"evenodd",d:"m12.5525 9.7447c-2.99092-.21639-9.77273 1.1855-9.77273 4.2535 0 2.0004 3.59111 4.9249 9.43923 5.0017.2308 0 6.8741-.2566 6.7717-7.3873-.0861-5.98915-5.0046-6.71876-6.438-6.90138l.0001-.70661c5.7145.36271 10.6447 3.82157 10.6447 7.99259 0 4.412-5.0276 8.0028-11.2092 8.0028s-11.183612-3.5911-11.183612-8.0028c0-4.41161 5.001722-8.00272 11.183612-8.00272.1894 0 .3776.00337.5645.01013z",fillRule:"evenodd"}),is.createElement("path",{d:"m6.83008 14.3939c0 3.9259 5.72712 4.9593 5.72712 4.9593v-4.9385-4.93856c-1.4874.40641-5.7268 1.78666-5.72712 4.91776z"}))))},uf=(0,is.forwardRef)(lf),df=(0,is.memo)(uf);const hf=e=>{const t=(0,Fs.Y)();return(0,es.jsxs)("button",{type:"button",className:"btn btn-default btn-height d-flex justify-content-center align-items-center",onClick:e.onClick,disabled:e.disabled,"data-qa":"uk-bacs-button","data-tracking-element-name":"paymentMethod-ukBacs",children:[e.isButtonFullWidth&&(0,es.jsx)("span",{className:"flex-shrink-0 me-2","aria-hidden":"true",children:(0,es.jsx)(df,{className:"d-block",width:24,height:24})}),(0,es.jsx)("span",{className:"text-truncate",children:t.translate("common.ukBacsButton")})]})},mf=(0,is.memo)(hf),pf=e=>{const t=(0,Fs.Y)();return(0,es.jsx)(Lc,{processingState:e.processingState,className:"btn btn-default",onClick:e.onClick,disabled:e.disabled,dataQa:"us-bank-account-button",trackingElement:"paymentMethod-usBankAccount",children:t.translate("paymentMethodScreen.bankButton")})},gf=(0,is.memo)(pf);var ff;function yf(){return yf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},yf.apply(this,arguments)}var vf=function(e,t){return is.createElement("svg",yf({fill:"none",height:16,viewBox:"0 0 69 16",width:69,xmlns:"http://www.w3.org/2000/svg",ref:t},e),ff||(ff=is.createElement("g",{fill:"#fff"},is.createElement("path",{d:"m13.2779 1.96094c.4249.70637.6165 1.43393.6165 2.35299 0 2.93132-2.4861 6.73937-4.50383 9.41327h-4.60865l-1.84833-11.12446 4.03538-.38563.97724 7.91579c.91309-1.49731 2.03989-3.8503 2.03989-5.45453 0-.87811-.14946-1.47621-.38302-1.96868z"}),is.createElement("path",{d:"m18.5093 6.8563c.7426 0 2.6121-.34193 2.6121-1.41142 0-.51356-.3607-.76973-.7859-.76973-.7438 0-1.7198.89776-1.8262 2.18115zm-.085 2.11812c0 1.30588.7214 1.81828 1.6778 1.81828 1.0415 0 2.0387-.2562 3.3348-.91921l-.4882 3.33671c-.9132.4491-2.3364.7488-3.7178.7488-3.5041 0-4.7582-2.139-4.7582-4.81307 0-3.46585 2.04-7.14593 6.2457-7.14593 2.3156 0 3.6104 1.30579 3.6104 3.12403.0002 2.93122-3.7375 3.8292-5.9045 3.85039z"}),is.createElement("path",{d:"m35.9733 4.56799c0 .42779-.0645 1.04829-.1287 1.4538l-1.2109 7.70191h-3.9293l1.1045-7.06022c.021-.1915.0854-.57702.0854-.79092 0-.51355-.3188-.64169-.702-.64169-.5091 0-1.0193.23509-1.3591.40672l-1.2528 8.08621h-3.9515l1.8052-11.53109h3.42l.0433.92037c.8069-.53474 1.8693-1.11308 3.3767-1.11308 1.9972-.00022 2.6992 1.027 2.6992 2.56799z"}),is.createElement("path",{d:"m47.64 3.26231c1.1253-.81211 2.188-1.26231 3.6532-1.26231 2.0176 0 2.7194 1.02722 2.7194 2.5682 0 .4278-.0642 1.0483-.1284 1.45381l-1.2095 7.70189h-3.9304l1.1256-7.20942c.0207-.19271.0642-.4278.0642-.57691 0-.57823-.3188-.70648-.702-.70648-.488 0-.9759.2139-1.3381.40671l-1.2526 8.0862h-3.9294l1.1256-7.20941c.0207-.19271.0629-.4278.0629-.57691 0-.57823-.3189-.70648-.7008-.70648-.5101 0-1.0192.23509-1.359.40671l-1.2538 8.08619h-3.9502l1.805-11.53107h3.3783l.1061.96266c.7859-.57691 1.8475-1.15525 3.2705-1.15525 1.2322-.00044 2.039.53442 2.4434 1.26187z"}),is.createElement("path",{d:"m61.8319 6.62143c0-.94135-.2339-1.58316-.9343-1.58316-1.5507 0-1.8692 2.75949-1.8692 4.17113 0 1.0709.2977 1.7337.9979 1.7337 1.4657 0 1.8056-2.91014 1.8056-4.32167zm-6.7967 2.41755c0-3.63637 1.9112-7.03898 6.3087-7.03898 3.3135 0 4.5248 1.96867 4.5248 4.68599 0 3.59421-1.8907 7.31631-6.3942 7.31631-3.3349 0-4.4393-2.2037-4.4393-4.96332z"}))))},Sf=(0,is.forwardRef)(vf),Cf=(0,is.memo)(Sf);const bf="paymentMethod-venmo",Af=e=>{const{state:t,controller:i}=ms(fn.PAYMENT_OPTIONS),n=(0,Fs.Y)(),a=(0,is.useRef)(null),[r,s]=(0,is.useState)(!1),o=(0,yc.i)((e=>s(e))),c=gs();(0,is.useEffect)((()=>{if(a.current)return i.initiateVenmo({element:a.current,onClick:()=>{a.current&&c.trackClick(bf,a.current)}}),()=>i.closeVenmoButton()}),[i,c]);const l=(0,is.useCallback)((()=>{if(!t.livemode)return o.set([!0]),void o.set([!1],3e3);e.disabled||e.onClick()}),[e,o,t.livemode]);return(0,es.jsxs)("div",{className:(0,Cs.Z)("btn btn-height p-rel",r?"btn-testmode":"btn-venmo",{"focus-outline":!t.livemode,disabled:e.disabled}),tabIndex:t.livemode?void 0:0,onClick:l,onKeyPress:l,children:[(0,es.jsx)("div",{className:(0,Cs.Z)("p-abs z-index-2 top-left bottom-right border-radius-base overflow-hidden",r?"cursor-default":"cursor-pointer"),children:(0,es.jsx)("div",{id:"venmo-button",className:"p-abs centered min-w-100",children:(0,es.jsx)("div",{className:"tap-highlight line-height-0",ref:a,"data-tracking-element-name":bf})})}),r?(0,es.jsx)("div",{className:"p-abs top-left bottom-right d-flex align-items-center justify-content-center px-1",children:e.isButtonFullWidth?(0,es.jsx)("span",{className:"text-truncate",children:n.translate("paymentMethodScreen.venmo.notAvailableInTestMode.oneLine")}):(0,es.jsx)(Ol,{token:"paymentMethodScreen.venmo.notAvailableInTestMode.twoLines",className:"text-line-clamp-2 text-wrap-normal line-height-18"})}):(0,es.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,es.jsx)(Cf,{width:76,height:24})})]})},Ef=(0,is.memo)(Af),xf={[cg.CARD]:Rg,[cg.APPLE_PAY]:Cg,[cg.GOOGLE_PAY]:Hg,[cg.PAYPAL]:af,[cg.PAYPAL_CONVERSION]:af,[cg.CLICK_TO_PAY]:Ng,[cg.VENMO]:Ef,[cg.UK_BACS]:mf,[cg.AU_BECS]:Ag,[cg.ACSS]:mg,[cg.SEPA]:sf,[cg.IDEAL]:Zg,[cg.US_BANK_ACCOUNT]:gf,[cg.US_BANK_ACCOUNT_INSTANT]:gf,[cg.US_BANK_ACCOUNT_VERIFICATION]:gf},kf=e=>{const t=xf[e.option],i=(0,is.useRef)(null),n=(0,is.useCallback)((()=>{e.onClick(e.option)}),[e]);return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(fc.K,{triggerRef:i,show:Boolean(e.errorMessage),maxWidth:"var(--fixed-container-width-desktop)",children:(0,es.jsx)("span",{className:"text-red-80 font-weight-600","data-qa":e.option+"-error-tooltip",children:e.errorMessage})}),(0,es.jsx)("div",{ref:i,className:(0,Cs.Z)("p-1",e.isButtonFullWidth?"w-100":"w-50",{"d-none":!e.show}),children:(0,es.jsx)(t,{isButtonFullWidth:e.isButtonFullWidth,onClick:n,option:e.option,disabled:e.disabled,processingState:e.processingState})},e.option)]})},wf=e=>{var t;const i=(0,Fs.Y)(),n=(0,is.useMemo)((()=>{var t,i;return B()(t=T()(i=e.availableOptions).call(i,(t=>x()(x()({},e.buttonOptions[t]),{option:t})))).call(t,(e=>{let{show:t}=e;return t}))}),[e.availableOptions,e.buttonOptions]);return(0,es.jsx)("div",{className:"d-flex flex-wrap m-minus-1","aria-label":i.translate("paymentMethodScreen.paymentButtonsAriaLabel"),children:T()(t=e.availableOptions).call(t,(t=>{const{show:i,error:a}=e.buttonOptions[t],r=ug()(n).call(n,(e=>e.option===t));return(0,es.jsx)(kf,{option:t,errorMessage:a,show:i,isButtonFullWidth:dg.isButtonFullWidth(r,n.length),onClick:e.onChoosePaymentOption,processingState:e.getProcessingState(t),disabled:e.locked},t)}))})},Nf=(0,is.memo)(wf);var Pf=i(70886);const Df=e=>{const{currency:t,prefixCurrencySymbol:i,postfixCurrencySymbol:n,total:a,isRecurring:r,recurringLabel:s}=e,o=(0,Fs.Y)(),c=(0,is.useMemo)((()=>(0,Pf.X)(t,o.locale)),[o.locale,t]);return(0,es.jsxs)("p",{role:"status",className:"text-center text-ellipsis","data-qa":"donation-amount-label",children:[i&&(0,es.jsx)("span",{className:"subtitle-1 d-inline-block","aria-hidden":"true",children:i}),(0,es.jsx)("span",{className:"subtitle-1 d-inline-block text-sans-serif",children:o.formatCurrency(a,{currency:t,display:"trimzeroes",withoutPrefix:!0,withoutSuffix:!0})}),n&&(0,es.jsx)("span",{className:"subtitle-1 d-inline-block",children:n}),(0,es.jsx)("span",{className:"subtitle-2 d-inline-block ms-1-5",children:c}),r&&(0,es.jsx)("span",{className:"subtitle-2 d-inline-block max-w-100 text-nowrap",children:s})]})},Tf=(0,is.memo)(Df);const _f=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:(0,Cs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:"68",viewBox:"0 0 56 68",width:"56",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"31.4131",width:"30.8215",x:"7.42749",y:"10.3657",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dy:"-.5"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:"1.5"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.979167 0 0 0 0 0.3525 0 0 0 0 0 0 0 0 0.5 0"}),(0,es.jsx)("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_8986_21698"})]}),(0,es.jsxs)("linearGradient",{id:`b-${t}`,gradientUnits:"userSpaceOnUse",x1:"23.3018",x2:"33.5",y1:"25.1587",y2:"35",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ffba07"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#ff8a00"})]}),(0,es.jsxs)("radialGradient",{id:`c-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(3.64090919 -8.738167 7.18621663 2.99426209 18.9327 24.4305)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:".317708",stopColor:"#fff491"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#fff490",stopOpacity:"0"})]}),(0,es.jsxs)("linearGradient",{id:`d-${t}`,gradientUnits:"userSpaceOnUse",x1:"25.8578",x2:"24.1154",y1:"57.3837",y2:"54.6061",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ff522d"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#ff7b5f"})]}),(0,es.jsxs)("radialGradient",{id:`e-${t}`,cx:"0",cy:"0",gradientTransform:"matrix(2.583374 -.29682138 .24410427 2.12455258 24.357 55.5499)",gradientUnits:"userSpaceOnUse",r:"1",children:[(0,es.jsx)("stop",{offset:".317708",stopColor:"#ffd3ab"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#ffd3ab",stopOpacity:"0"})]}),(0,es.jsx)("clipPath",{id:`f-${t}`,children:(0,es.jsx)("path",{d:"m0 0h56v68h-56z"})}),(0,es.jsxs)("g",{clipPath:`url(#f-${t})`,children:[(0,es.jsxs)("g",{filter:`url(#a-${t})`,children:[(0,es.jsx)("path",{d:"m15.7885 11.8705c-.0023-.8288.9468-1.3005 1.6061-.7982l7.2797 5.5466c.2618.1995.605.2574.9177.1548l8.6962-2.8524c.7875-.2583 1.5294.4986 1.2554 1.2808l-3.0256 8.6374c-.1088.3106-.0578.6549.1364.9206l5.4001 7.3891c.489.6692-.0015 1.6087-.8302 1.5898l-9.1496-.2084c-.329-.0075-.6407.1474-.8334.4142l-5.3588 7.4191c-.4853.6719-1.5303.4957-1.7685-.2982l-2.6292-8.7662c-.0945-.3153-.3381-.5638-.6514-.6647l-8.71196-2.8038c-.78898-.2539-.94431-1.3023-.26285-1.7741l7.52471-5.2094c.2706-.1874.4317-.4959.4308-.825z",fill:`url(#b-${t})`}),(0,es.jsx)("path",{d:"m15.7885 11.8705c-.0023-.8288.9468-1.3005 1.6061-.7982l7.2797 5.5466c.2618.1995.605.2574.9177.1548l8.6962-2.8524c.7875-.2583 1.5294.4986 1.2554 1.2808l-3.0256 8.6374c-.1088.3106-.0578.6549.1364.9206l5.4001 7.3891c.489.6692-.0015 1.6087-.8302 1.5898l-9.1496-.2084c-.329-.0075-.6407.1474-.8334.4142l-5.3588 7.4191c-.4853.6719-1.5303.4957-1.7685-.2982l-2.6292-8.7662c-.0945-.3153-.3381-.5638-.6514-.6647l-8.71196-2.8038c-.78898-.2539-.94431-1.3023-.26285-1.7741l7.52471-5.2094c.2706-.1874.4317-.4959.4308-.825z",fill:`url(#c-${t})`,fillOpacity:".4"})]}),(0,es.jsx)("path",{d:"m27.6127 53.2098c.4692-.1126.8099.4391.4991.8082l-1.1699 1.3895c-.1023.1215-.1408.2843-.1038.4387l.4238 1.7663c.1126.4692-.4392.8099-.8083.4991l-1.3894-1.17c-.1215-.1022-.2843-.1407-.4387-.1037l-1.7663.4238c-.4692.1125-.8099-.4392-.4991-.8083l1.1699-1.3894c.1023-.1215.1408-.2843.1038-.4387l-.4238-1.7663c-.1126-.4693.4392-.81.8083-.4991l1.3894 1.1699c.1215.1023.2843.1408.4387.1038z",fill:`url(#d-${t})`}),(0,es.jsx)("path",{d:"m27.6127 53.2098c.4692-.1126.8099.4391.4991.8082l-1.1699 1.3895c-.1023.1215-.1408.2843-.1038.4387l.4238 1.7663c.1126.4692-.4392.8099-.8083.4991l-1.3894-1.17c-.1215-.1022-.2843-.1407-.4387-.1037l-1.7663.4238c-.4692.1125-.8099-.4392-.4991-.8083l1.1699-1.3894c.1023-.1215.1408-.2843.1038-.4387l-.4238-1.7663c-.1126-.4693.4392-.81.8083-.4991l1.3894 1.1699c.1215.1023.2843.1408.4387.1038z",fill:`url(#e-${t})`,fillOpacity:".4"}),(0,es.jsx)("path",{d:"m50.0525 13.2436c.3656-.2587.8608.0569.7807.4976l-.3906 2.1497c-.024.1322.0061.2685.0838.3782l1.262 1.7836c.2587.3656-.0569.8608-.4975.7807l-2.1498-.3906c-.1322-.024-.2685.0062-.3782.0838l-1.7836 1.262c-.3656.2588-.8608-.0568-.7807-.4975l.3906-2.1497c.024-.1322-.0062-.2685-.0838-.3782l-1.262-1.7836c-.2587-.3656.0568-.8608.4975-.7808l2.1498.3907c.1322.024.2685-.0062.3782-.0838z",fill:"#f90"}),(0,es.jsx)("path",{d:"m9.40768 43.4483c.0297-.68.87682-.972 1.31922-.4549l.9325 1.0901c.1351.1579.3296.2527.5372.2618l1.4332.0626c.6799.0297.9719.8767.4548 1.3192l-1.0901.9325c-.1579.1351-.2527.3296-.2617.5372l-.0626 1.4331c-.0297.68-.8768.972-1.3192.4549l-.9326-1.0901c-.135-.1579-.3296-.2527-.53714-.2617l-1.43317-.0627c-.67992-.0297-.97197-.8767-.45482-1.3191l1.09007-.9326c.15789-.1351.25267-.3296.26174-.5372z",fill:"#8ae5f1"}),(0,es.jsx)("circle",{cx:"28.5",cy:"4.5",fill:"#7dc6ff",r:"2.5"}),(0,es.jsx)("circle",{cx:"15.5",cy:"66.5",fill:"#ff7f24",r:"1.5"}),(0,es.jsx)("circle",{cx:"49.5",cy:"1.5",fill:"#8ae5f1",r:"1.5"})]})]})},Of=(0,is.memo)(_f),If=e=>{const t=(0,Vs.S)(),i=(0,is.useRef)(null),n=(0,Ts.r)(i);return(0,es.jsx)(bs.Z,{addEndListener:n,in:e.isFeeCovered,mountOnEnter:!0,unmountOnExit:!0,nodeRef:i,classNames:"fee-animated-stars",children:(0,es.jsx)("div",{ref:i,children:(0,es.jsx)(Of,{className:(0,Cs.Z)({"icon-flip-horizontal":t}),ariaHidden:!0})})})},Rf=(0,is.memo)(If);var Lf;function jf(){return jf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},jf.apply(this,arguments)}var Mf=function(e,t){return is.createElement("svg",jf({fill:"none",height:20,viewBox:"0 0 20 20",width:20,xmlns:"http://www.w3.org/2000/svg",ref:t},e),Lf||(Lf=is.createElement("g",{stroke:"currentColor",strokeWidth:2},is.createElement("path",{d:"m16 1h-12c-1.65685 0-3 1.34315-3 3v12c0 1.6569 1.34315 3 3 3h12c1.6569 0 3-1.3431 3-3v-12c0-1.65685-1.3431-3-3-3z"}),is.createElement("path",{d:"m15.5 6-7.5625 8-3.4375-3.6364",strokeLinecap:"round",strokeLinejoin:"round"}))))},Ff=(0,is.forwardRef)(Mf),Uf=(0,is.memo)(Ff);const Bf=e=>{const t=(0,Fs.Y)(),i=(0,Vs.S)(),n=(0,As.S)(),a=(0,is.useRef)(null),r=(0,is.useRef)(null),[s,o]=(0,is.useState)(!1),{showHelpTooltip:c,helpTooltipRef:l,handleHelpTooltipKeyDown:u,handleHelpTooltipChecked:d}=function(e){const t=(0,is.useRef)(null),[i,n]=(0,is.useState)(!1),a=()=>{n((e=>!e))},r=()=>{n(!1)};return function(e,t){const{document:i}=(0,as.R)();(0,is.useEffect)((()=>{const n=i=>{if(!e.current)return;const n=i.target;n&&!(0,jt.FX)(n,(t=>t===e.current))&&t(i)};return i.addEventListener("click",n),()=>i.removeEventListener("click",n)}),[i,e,t])}(t,r),((e,t)=>{(0,is.useEffect)((()=>{const i=null==e?void 0:e.current;if(i)return i.addEventListener("blur",t),()=>{i.removeEventListener("blur",t)}}),[e,t])})(e,r),{helpTooltipRef:t,showHelpTooltip:i,handleHelpTooltipChecked:e=>{e.stopPropagation(),a()},handleHelpTooltipKeyDown:e=>{"Enter"!==e.code&&"Space"!==e.code||(e.stopPropagation(),e.preventDefault(),a())}}}(r);return(0,is.useEffect)((()=>{o(!!a.current&&!e.isFeeCovered&&!c)}),[e.isFeeCovered,c]),Hc(a,e.autoFocus),(0,es.jsx)(es.Fragment,{children:(0,es.jsxs)("div",{className:(0,Cs.Z)("p-rel",e.className),children:[(0,es.jsxs)("div",{ref:a,role:"checkbox",id:"popover-fees",className:(0,Cs.Z)("fee-checkbox",{"fee-checkbox-checked":e.isFeeCovered,disabled:e.locked}),"aria-checked":e.isFeeCovered,tabIndex:0,onClick:e.toggleCheckbox,onKeyPress:e.toggleCheckbox,"data-qa":"cover-fee-checkbox","data-tracking-element-name":e.trackingElement,children:[(0,es.jsx)("span",{className:"fee-checkbox-bg"}),(0,es.jsxs)("div",{className:"fixed-container d-flex align-items-center justify-content-center p-rel",children:[(0,es.jsx)("div",{className:"p-abs centered-left ms-minus-9 mt-minus-5",children:(0,es.jsx)(Rf,{isFeeCovered:e.isFeeCovered})}),(0,es.jsx)("span",{className:"flex-shrink-0 icon-slot icon-slot-18 me-2",children:(0,es.jsx)("span",{className:"p-abs centered font-size-18",children:e.isFeeCovered?(0,es.jsx)(Uf,{className:"icon-stroke d-block"}):(0,es.jsx)("span",{className:"fee-checkbox-icon"})})}),(0,es.jsx)("span",{className:"label-4 text-truncate text-noselect",children:t.translate("paymentMethodScreen.coverLabel")}),(0,es.jsx)("span",{className:"flex-shrink-0 icon-slot icon-slot-18 line-height-20 ms-2",children:(0,es.jsx)("button",{type:"button","data-qa":"transaction-cost-tip",ref:r,className:(0,Cs.Z)("btn-icon p-abs centered font-size-18",e.isFeeCovered?"text-white":"text-gray-60"),"aria-label":t.translate("paymentMethodScreen.transactionCostsHelpAriaLabel"),disabled:e.locked,onClick:d,onKeyDown:u,children:(0,es.jsx)(Mc.Z,{className:(0,Cs.Z)("icon-stroke d-block",{"icon-flip-horizontal":i})})})})]})]}),!e.locked&&(0,es.jsx)(fc.K,{triggerRef:r,ref:l,show:c,maxWidth:n?"228px":"252px",placement:i?"left":"right",fallbackPlacements:["top-end"],dataQa:"why-cover-fee-tooltip",children:(0,es.jsx)(Ol,{className:"fee-tooltip",token:"paymentMethodScreen.transactionCostsTooltipMessage",params:{processingFee:t.formatCurrency(e.processingFee,{currency:e.currency,display:"floatcents"})}})}),!e.locked&&!n&&(0,es.jsx)(fc.K,{triggerRef:a,show:s,maxWidth:"228px",placement:i?"left":"right",fallbackPlacements:["bottom"],dataQa:"cover-fee-tooltip",children:t.translate("paymentMethodScreen.coverCostsQuestion")})]})})},Gf=(0,is.memo)(Bf),qf=["click"],Kf=e=>{const t=(0,Fs.Y)(),i=(0,Vs.S)(),n=(0,As.S)(),a=(0,is.useRef)(null),r=(0,is.useRef)(null),s=(0,Ts.r)(r),o=[i?"top-start":"top-end"];return(0,es.jsxs)(es.Fragment,{children:[e.showIncludeFee&&(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(Gf,{className:"mt-8",isFeeCovered:e.isFeeCovered,processingFee:e.processingFee,currency:e.currency,locked:e.locked,autoFocus:e.autoFocus,trackingElement:"coverFee",toggleCheckbox:e.toggleCheckbox}),(0,es.jsx)(bs.Z,{nodeRef:r,in:!e.isFeeCovered&&n,mountOnEnter:!0,unmountOnExit:!0,addEndListener:s,classNames:"fee-accordion",children:(0,es.jsx)("div",{className:"px-body mt-6",children:(0,es.jsx)("div",{className:"fixed-container",children:(0,es.jsx)("p",{ref:r,className:"body-3 text-center text-ellipsis","data-qa":"cover-fee-tooltip",children:t.translate("paymentMethodScreen.coverCostsQuestion")})})})})]}),e.includeFees===St.__.ONLY_YES&&(0,es.jsx)("div",{className:"px-body mt-4",children:(0,es.jsxs)("div",{className:"fixed-container d-flex align-items-start justify-content-center","data-qa":"fee-amount-text",children:[(0,es.jsx)("p",{className:"body-3 text-ellipsis",children:t.translate("paymentMethodScreen.transactionCostsIncluded",{amount:t.formatCurrency(e.processingFee,{currency:e.currency,display:"floatcents"})})}),(0,es.jsx)("div",{className:"flex-shrink-0 icon-slot icon-slot-18 line-height-20 ms-1",children:(0,es.jsx)("button",{type:"button",ref:a,disabled:e.locked,className:"btn-icon p-abs centered font-size-18 text-gray-60","aria-label":t.translate("paymentMethodScreen.transactionCostsHelpAriaLabel"),"data-qa":"transaction-cost-tip",children:(0,es.jsx)(Mc.Z,{className:(0,Cs.Z)("icon-stroke d-block",{"icon-flip-horizontal":i})})})}),!e.locked&&(0,es.jsx)(io.N,{triggerRef:a,maxWidth:"228px",trigger:qf,placement:i?"left":"right",fallbackPlacements:o,dataQa:"why-cover-fee-tooltip",children:t.translate("paymentMethodScreen.transactionCostsInfo")})]})})]})},Vf=(0,is.memo)(Kf),Hf=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:(0,Cs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:"56",viewBox:"0 0 56 56",width:"56",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"52",width:"43",x:"7",y:"2.5",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dx:".5",dy:".5"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.958333 0 0 0 0 0.345 0 0 0 0 0 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_8986_17752"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_8986_17752",mode:"normal",result:"shape"})]}),(0,es.jsxs)("filter",{id:`b-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"32",width:"14.7373",x:"21.1348",y:"11.5",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,es.jsx)("feOffset",{dx:".5",dy:".5"}),(0,es.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,es.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,es.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.958333 0 0 0 0 0.345 0 0 0 0 0 0 0 0 1 0"}),(0,es.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_8986_17752"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_8986_17752",mode:"normal",result:"shape"})]}),(0,es.jsxs)("linearGradient",{id:`c-${t}`,gradientUnits:"userSpaceOnUse",x1:"16.9167",x2:"54.2937",y1:"13.1351",y2:"54.7877",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ffdc62"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#ffdc62",stopOpacity:".15"})]}),(0,es.jsxs)("linearGradient",{id:`d-${t}`,gradientUnits:"userSpaceOnUse",x1:"23.3333",x2:"36.1947",y1:"26.1546",y2:"31.9633",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ffeeb1"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#ffeeb1",stopOpacity:"0"})]}),(0,es.jsx)("clipPath",{id:`e-${t}`,children:(0,es.jsx)("path",{d:"m0 0h56v56h-56z"})}),(0,es.jsxs)("g",{clipPath:`url(#e-${t})`,children:[(0,es.jsx)("path",{d:"m29.3957.519694c-.9003-.335221-1.8911-.335221-2.7915 0l-20.80207 7.745476c-.78289.2915-1.30213 1.03889-1.30213 1.87433v17.8605c0 17.5 18.4643 28 23.5 28s23.5-10.5 23.5-28v-17.8605c0-.83544-.5192-1.58283-1.3021-1.87433z",fill:"#ffa800"}),(0,es.jsxs)("g",{filter:`url(#a-${t})`,children:[(0,es.jsx)("path",{clipRule:"evenodd",d:"m10.5 12.6455v15.205c0 6.6656 3.4432 12.2152 7.7738 16.2673 2.1476 2.0096 4.4134 3.549 6.3471 4.566.9661.5081 1.8026.8611 2.4565 1.0783.5577.1851.8514.2276.9186.2373l.004.0006.004-.0006c.0672-.0097.3609-.0522.9186-.2373.6539-.2172 1.4904-.5702 2.4565-1.0783 1.9337-1.017 4.1995-2.5564 6.3471-4.566 4.3306-4.0521 7.7738-9.6017 7.7738-16.2673v-15.205l-17.5-6.6455z",fill:"#ffa800",fillRule:"evenodd"}),(0,es.jsx)("path",{d:"m28.7178 49.1452c-.3645.121-.5992.1738-.7178.1961-.1187-.0223-.3533-.0751-.7178-.1961-.6142-.204-1.4178-.5419-2.3587-1.0367-1.8834-.9905-4.1014-2.4964-6.2056-4.4653-4.2479-3.9747-7.5679-9.3643-7.5679-15.7927v-14.7565l16.85-6.39871 16.85 6.39871v14.7565c0 6.4284-3.32 11.818-7.5679 15.7927-2.1042 1.9689-4.3222 3.4748-6.2056 4.4653-.9409.4948-1.7445.8327-2.3587 1.0367z",stroke:`url(#c-${t})`,strokeWidth:"1.3"})]}),(0,es.jsxs)("g",{filter:`url(#b-${t})`,children:[(0,es.jsx)("path",{d:"m30.3683 15c.6011 0 1.0662.5266.9968 1.1237-.548 4.7133-.8884 9.4483-1.5544 14.1405h-3.5607c-.6658-4.6909-1.0302-9.4239-1.6072-14.1342-.0734-.5992.3925-1.13.9962-1.13zm-4.7016 21.5342c0-.3397.0599-.663.1796-.9698.1307-.3069.3049-.5699.5227-.7891.2287-.2191.4954-.3945.8003-.526s.6316-.1972.98-.1972c.3376 0 .6588.0657.9637.1972s.5662.3069.784.526c.2287.2192.4083.4822.539.7891.1307.3068.196.6301.196.9698 0 .3507-.0653.6795-.196.9863-.1307.2959-.3103.5535-.539.7726-.2178.2192-.4791.3891-.784.5096-.3049.1315-.6261.1973-.9637.1973-.3484 0-.6751-.0658-.98-.1973-.3049-.1205-.5716-.2904-.8003-.5096-.2178-.2191-.392-.4767-.5227-.7726-.1197-.3068-.1796-.6356-.1796-.9863z",fill:"#ffe792"}),(0,es.jsx)("path",{d:"m29.631 35.0397h-.0001l.0066.0064c.1902.1822.3416.4025.4535.6652.1105.2595.166.5327.166.8229 0 .302-.0558.5798-.1651.8371-.1112.2511-.2624.4671-.4544.6511l-.0001-.0001-.0064.0065c-.1792.1803-.3961.3225-.6559.4252v-.0002l-.0106.0046c-.2572.1109-.5278.1666-.8152.1666-.2999 0-.5758-.0563-.8314-.1666v-.0002l-.0107-.0042c-.2598-.1027-.4838-.2456-.6754-.4284-.1806-.1826-.3272-.3979-.4391-.649-.0998-.2585-.151-.5383-.151-.8424 0-.2925.051-.5677.1519-.8282.1126-.2626.2592-.4821.4382-.6631.1941-.1853.4218-.3353.6861-.4492.2556-.1103.5315-.1666.8314-.1666.2874 0 .558.0556.8152.1666.2643.1139.4849.2632.6665.446zm.7373-19.6647c.3749 0 .6681.3291.6243.7054-.2146 1.8462-.3967 3.6864-.5783 5.5223-.2741 2.7698-.5471 5.5299-.9297 8.2865h-2.9086c-.3677-2.6452-.6417-5.2899-.9166-7.9435-.2019-1.9478-.4042-3.9003-.6444-5.8613-.0462-.3776.2475-.7094.624-.7094z",stroke:`url(#d-${t})`,strokeWidth:".75"})]})]})]})},Yf=(0,is.memo)(Hf),Zf=()=>{const e=window.document.location.href.replace("http://","https://");return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(Yf,{className:"d-block mx-auto",ariaHidden:!0}),(0,es.jsx)(Ol,{className:"text-center text-ellipsis mt-6",as:"p",token:"paymentMethodScreen.creditCardIsUnavailableInfo.part-1",params:{link:e}}),(0,es.jsx)(Ol,{className:"text-center text-ellipsis mt-2-5",as:"p",token:"paymentMethodScreen.creditCardIsUnavailableInfo.part-2",params:{link:e}})]})},$f=(0,is.memo)(Zf),zf=e=>{const{showBadge:t}=e,{state:i,controller:n}=ms(fn.PAYMENT_OPTIONS),a=(0,As.S)(),r=(0,Ns.q)(),s=(0,Fs.Y)(),o=(0,is.useCallback)((()=>{n.toggleFeeCovered()}),[n]),c=(0,is.useCallback)((e=>n.choosePaymentOption(e)),[n]),l=(0,is.useCallback)((e=>{switch(e){case cg.ACSS:return i.processingACSSState;case cg.US_BANK_ACCOUNT:case cg.US_BANK_ACCOUNT_INSTANT:case cg.US_BANK_ACCOUNT_VERIFICATION:return i.processingUSBankAccountState;default:return"idle"}}),[i.processingACSSState,i.processingUSBankAccountState]);return(0,es.jsxs)("div",{className:r("flow-screen"),"data-qa":"active-screen-payment-method",children:[(0,es.jsx)(cc,{role:"status",autoFocus:a,children:s.translate("common.screenEntered",{screenTitle:`${s.translate("paymentMethodScreen.title")}`})}),(0,es.jsx)(sc,{title:s.translate("paymentMethodScreen.title"),showBadge:t}),i.stripeElementsAvailable?(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)(jo,{className:a?"justify-content-center":"py-8",children:[(0,es.jsx)("div",{className:"px-body",children:(0,es.jsx)("div",{className:"fixed-container",children:(0,es.jsx)(Tf,{prefixCurrencySymbol:i.prefixCurrencySymbol,postfixCurrencySymbol:i.postfixCurrencySymbol,currency:i.currency,total:i.total,isRecurring:i.isRecurring,recurringLabel:i.recurringLabel})})}),(0,es.jsx)(Vf,{showIncludeFee:i.showIncludeFee,isFeeCovered:i.isFeeCovered,locked:i.locked,processingFee:i.processingFee,currency:i.currency,toggleCheckbox:o,autoFocus:!0,includeFees:i.includeFees})]}),(0,es.jsx)(zo,{className:(0,Cs.Z)({"pt-12":a}),children:i.isStripeAccountConnected?(0,es.jsx)(Nf,{availableOptions:i.availableOptions,buttonOptions:i.buttonOptions,locked:i.locked,onChoosePaymentOption:c,getProcessingState:l}):(0,es.jsx)("p",{className:"font-weight-600 text-center text-danger text-ellipsis",dangerouslySetInnerHTML:{__html:s.translate("paymentMethodScreen.stripe.connectionInfo")},"data-qa":"stripe-danger-text"})})]}):(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body justify-content-center",{"pt-4 pb-6":a}),children:(0,es.jsx)("div",{className:"fixed-container",children:(0,es.jsx)($f,{})})}),(0,es.jsx)(zo,{className:(0,Cs.Z)({"pt-10 pb-5":!a})})]})]})},Wf=(0,is.memo)(zf),Xf=e=>{const{controller:t}=ms(fn.PAYPAL_CONVERSION),i=(0,is.useRef)(null),n=(0,is.useRef)(null);return(0,is.useEffect)((()=>{if(i.current)return t.initiatePaypal({element:i.current,buttonColor:$g.SILVER}),()=>t.closePaypalButton()}),[t]),(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(fc.K,{triggerRef:n,show:Boolean(e.errorMessage),maxWidth:"var(--fixed-container-width-desktop)",children:(0,es.jsx)("span",{className:"text-red-80 font-weight-600",children:e.errorMessage})}),(0,es.jsxs)("div",{className:"btn btn-height btn-paypal p-rel",ref:n,children:[(0,es.jsx)("div",{className:"p-abs z-index-2 top-left bottom-right border-radius-base cursor-pointer overflow-hidden",children:(0,es.jsx)("div",{id:"paypal-button",className:"p-abs centered min-w-100","data-qa":"paypal-button-on-conversion-screen",children:(0,es.jsx)("div",{className:"tap-highlight line-height-0",ref:i})})}),(0,es.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,es.jsx)(ef,{width:69,height:22})})]})]})},Qf=(0,is.memo)(Xf),Jf=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:(0,Cs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:"192",viewBox:"0 0 192 192",width:"192",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsxs)("filter",{id:`a-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"32",width:"54",x:"0",y:"73",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_20987_82251",stdDeviation:"2"})]}),(0,es.jsxs)("filter",{id:`b-${t}`,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"33",width:"74.0015",x:"116",y:"30",children:[(0,es.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,es.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,es.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_20987_82251",stdDeviation:"1"})]}),(0,es.jsxs)("linearGradient",{id:`c-${t}`,gradientUnits:"userSpaceOnUse",x1:"123.858",x2:"123.858",y1:"106",y2:"160",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ffcdd0"}),(0,es.jsx)("stop",{offset:".538747",stopColor:"#f3a3b1"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#e36c89"})]}),(0,es.jsxs)("linearGradient",{id:`d-${t}`,gradientUnits:"userSpaceOnUse",x1:"160",x2:"91",y1:"151",y2:"151",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ffeaea"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#f39cad",stopOpacity:"0"})]}),(0,es.jsxs)("linearGradient",{id:`e-${t}`,gradientUnits:"userSpaceOnUse",x1:"146",x2:"146",y1:"101.5",y2:"121",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ffeaea"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#f9b8c0"})]}),(0,es.jsxs)("linearGradient",{id:`f-${t}`,gradientUnits:"userSpaceOnUse",x1:"52.6803",x2:"52.6803",y1:"137.102",y2:"160",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#c7ddff"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#82b4ff"})]}),(0,es.jsxs)("linearGradient",{id:`g-${t}`,gradientUnits:"userSpaceOnUse",x1:"56.5917",x2:"56.5917",y1:"137.5",y2:"160",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#e2eeff"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#b8d4ff",stopOpacity:"0"})]}),(0,es.jsxs)("linearGradient",{id:`h-${t}`,children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#e3efff"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#79afff",stopOpacity:"0"})]}),(0,es.jsx)("linearGradient",{id:`i-${t}`,gradientUnits:"userSpaceOnUse",x1:"51.7161",x2:"51.7161",xlinkHref:`#h-${t}`,y1:"134.402",y2:"143.548"}),(0,es.jsxs)("linearGradient",{id:`j-${t}`,gradientUnits:"userSpaceOnUse",x1:"125",x2:"125",y1:"107",y2:"117",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#ffeaea"}),(0,es.jsx)("stop",{offset:".795622",stopColor:"#f5a4b2"})]}),(0,es.jsx)("linearGradient",{id:`k-${t}`,gradientUnits:"userSpaceOnUse",x1:"72.1794",x2:"79.9847",xlinkHref:`#h-${t}`,y1:"138.252",y2:"136.343"}),(0,es.jsxs)("linearGradient",{id:`l-${t}`,gradientUnits:"userSpaceOnUse",x1:"57.1949",x2:"10.2114",y1:"104.979",y2:"85.2225",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#cedbee"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#eaf1fc"})]}),(0,es.jsxs)("linearGradient",{id:`m-${t}`,gradientUnits:"userSpaceOnUse",x1:"161.08",x2:"128.165",y1:"57.9363",y2:"35.77",children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#a5bbdb"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#e1ebfb"})]}),(0,es.jsx)("path",{d:"m118.617 159.5h-40.5989c8.3875-2.121 15.8666-7.505 21.642-15.067 7.5609-9.901 12.2229-23.557 12.2229-38.62v-7.813c0-.8284.672-1.5 1.5-1.5h44.617c.828 0 1.5.6716 1.5 1.5v7.813c0 14.864-4.601 28.301-12.018 38.013-7.416 9.71-17.625 15.674-28.865 15.674z",fill:`url(#c-${t})`,stroke:`url(#d-${t})`}),(0,es.jsx)("path",{d:"m137.725 103.038.002-.002c.758-.943 1.902-1.386 3.361-1.386h2.118c.47 0 .85.381.85.85v2.588c0 .47-.38.85-.85.85h-1.009c-.299 0-.588.016-.867.047-.251.034-.433.104-.561.194-.071.049-.131.134-.131.331 0 .289.089.376.176.417.2.09.476.145.843.145h3.458c.271 0 .538-.019.801-.056l.008-.001c.239-.028.416-.092.547-.179.066-.044.123-.119.123-.307 0-.19-.054-.305-.134-.385-.088-.087-.246-.17-.521-.214-.405-.064-.794-.397-.794-.881v-2.167c0-.469.381-.85.85-.85h8.355c.47 0 .85.381.85.85v7.226c0 .469-.38.85-.85.85h-2.298c-.47 0-.85-.381-.85-.85v-3.951c0-.083-.067-.15-.15-.15h-1.072c-.007.007-.017.02-.027.042-.013.028-.02.058-.02.084-.001.025.005.037.006.04l-.306.17c.167.294.25.637.25 1.03 0 .784-.153 1.421-.46 1.911zm0 0c-.726.918-1.075 2.085-1.075 3.472 0 1.039.164 1.908.52 2.584l.001.002c.359.675.876 1.191 1.546 1.538.651.343 1.419.565 2.297.674.87.113 1.841.169 2.912.169.84 0 1.63-.053 2.368-.16.748-.102 1.417-.294 2.002-.58.604-.29 1.082-.713 1.424-1.268zm.373 9.757-.001.001c-.919.88-1.357 2.109-1.357 3.635 0 1.532.438 2.763 1.358 3.637.919.872 2.217 1.282 3.839 1.282h7.936c1.7 0 3.059-.386 4.025-1.211.988-.838 1.452-2.098 1.452-3.708 0-1.603-.465-2.863-1.452-3.707-.965-.825-2.325-1.211-4.025-1.211h-7.936c-1.622 0-2.92.41-3.839 1.282zm13.102 4.014-.008.003c-.266.079-.591.122-.979.122h-8.686c-.246 0-.459-.059-.647-.174-.152-.093-.202-.194-.202-.329 0-.125.048-.229.205-.33.188-.114.399-.173.644-.173h8.686c.389 0 .715.04.983.114.086.026.128.063.155.104.03.047.061.133.061.285 0 .153-.031.237-.06.281-.025.038-.065.074-.152.097z",fill:"#ec7e99",stroke:`url(#e-${t})`,strokeWidth:".7"}),(0,es.jsx)("path",{d:"m113.214 126.578c-.442 0-.832.293-.963.716-5.966 19.241-19.8364 32.706-36.8721 32.706h37.7041c16.858 0 32.041-13.186 38.856-32.108.232-.642-.25-1.314-.933-1.314z",fill:"#d64a6c",opacity:".3"}),(0,es.jsx)("path",{d:"m109.394 153.677c.472.106 1.052.237 1.552 2.372l-.01.011c-.1.803-.259.55-.477.203-.238-.379-.547-.871-.924-.203.413.405.501.946.579 1.425.118.721.212 1.302 1.355 1.076-1.276-1.709-.27-1.622.827-1.528 1.321.114 2.773.239.521-2.752 1.413.844 1.42 2.621 1.426 4.136.002.581.004 1.123.086 1.559 2.236-.086 4.44-.403 6.595-.934.002-.043.003-.087.004-.132.007-.544.017-1.25 3.181-2.17.863-1.82-.362-1.996-1.744-2.194-1.296-.186-2.73-.392-2.71-1.992-3.151-.466-2.556-.614-1.223-.945 1.121-.279 2.763-.688 3.136-1.524 3.434-3.614 4.567-.472 5.617 2.442.442 1.229.871 2.417 1.45 3.041.264.113.476.19.644.236.183-.098.364-.197.545-.298-.057-.209-.209-.487-.366-.774-.448-.817-.932-1.7.672-1.194-.331-.7-.259-.664-.066-.567.208.105.558.28.694-.323 2.227 1.319 1.652-1.266-.669-1.339-.16-.684-.065-.644.099-.575.181.075.445.185.549-.587-.747-.392-.03-1.238.592-1.972.588-.694 1.091-1.288.192-1.303-.115-.125.941-3.526.993-1.81.532-.197.953-1.023 1.306-1.715.34-.667.617-1.21.869-.943-.021-2.051 1.258-4.537 2.464-6.88.664-1.291 1.307-2.539 1.697-3.647.269-.889.122-1.872-.019-2.823-.078-.528-.155-1.045-.159-1.53-.857.868-2.457-.136-1.244-.053.054-.381.074-.673.068-.893h-1.167c-.417.369-.771.665-.706 0h-3.669c.042.074.084.15.126.226.764 1.363 1.626 2.904-.151.73 1.191 4.751-3.607 6.049-7.371 5.902-.407-.382-1.798.076-2.805.407-1.062.349-1.696.558-.289-.512-5.147-3.489-8.539-2.927-11.17-.601-2.321 5.615-5.361 10.598-8.98 14.719 1.436-.045 1.89.591 2.874 1.966.065.091.133.185.203.282-.085 1.059 1.325.947 2.116.883.382-.03.62-.049.477.08 1.62.032-.084.293-.722.032.795.321 1.036.553 1.227.736.201.193.346.333 1.021.467.105 1.606.449 1.683.884 1.782z",fill:"#ffe1e3",opacity:".2"}),(0,es.jsx)("path",{d:"m81.0728 130.497c5.7145 14.753 16.6308 25.739 29.7642 29.003h-40.8835c-15.7515 0-29.5097-11.303-36.4615-28.035-.388-.934.3084-1.965 1.3559-1.965h44.794c.6293 0 1.1984.397 1.4309.997z",fill:`url(#f-${t})`,stroke:`url(#g-${t})`}),(0,es.jsx)("path",{d:"m43.2126 134.363c-.1049 0-.1996.017-.2791.05l.2792.281-.2792-.281-2.537 1.058c-.2661.111-.3297.387-.1601.694l.8366 1.516c.1899.344.7188.577 1.0078.444l1.1496-.529 2.9535 5.352c.2268.412.7912.745 1.2607.745h1.4177c.4695 0 .6662-.333.4394-.745l-4.4717-8.103c-.1467-.266-.5119-.482-.8157-.482zm6.8846-.162c-1.4739 0-2.4098.486-2.7614 1.352-.3491.86-.1115 2.066.6659 3.475s1.8711 2.615 3.1691 3.475c1.3073.866 2.7791 1.352 4.2531 1.352 1.4739 0 2.4099-.486 2.7614-1.352.3491-.86.1115-2.066-.6659-3.475-.7773-1.409-1.8711-2.615-3.169-3.475-1.3074-.866-2.7792-1.352-4.2532-1.352zm3.8754 7.023c-.6047 0-1.0774-.184-1.4967-.509-.4526-.35-.8957-.904-1.328-1.687-.4323-.784-.6-1.337-.534-1.687.0613-.325.33-.509.9346-.509.6047 0 1.0774.184 1.4968.509.4525.35.8956.903 1.3279 1.687.4324.783.6001 1.337.534 1.687-.0613.325-.3299.509-.9346.509zm6.083-7.023c-1.474 0-2.4099.486-2.7615 1.352-.3491.86-.1115 2.066.6659 3.475s1.8712 2.615 3.1691 3.475c1.3073.866 2.7792 1.352 4.2531 1.352 1.474 0 2.4099-.486 2.7615-1.352.349-.86.1115-2.066-.6659-3.475s-1.8712-2.615-3.1691-3.475c-1.3074-.866-2.7792-1.352-4.2531-1.352zm3.8753 7.023c-.6047 0-1.0773-.184-1.4967-.509-.4526-.35-.8956-.904-1.328-1.687-.4323-.784-.6-1.337-.5339-1.687.0612-.325.3299-.509.9346-.509s1.0773.184 1.4967.509c.4525.35.8956.903 1.328 1.687.4323.783.6 1.337.5339 1.687-.0612.325-.3299.509-.9346.509z",fill:"#5a9bfc",stroke:`url(#i-${t})`,strokeWidth:".7"}),(0,es.jsx)("path",{d:"m47 146c2.0574 2.416 4.2848 4.549 6.6572 6.318h-.0043c5.0295 3.745 10.4735 5.987 15.9779 7.279 1.1872.276 2.4004.403 3.6178.403h30.7514c-6.9971-2.486-13.3437-7.466-18.5177-14z",fill:"#5a9bfc",opacity:".4"}),(0,es.jsx)("path",{d:"m124.524 107.601c.283-.319.782-.319 1.065 0l.531.6c.178.201.454.284.714.216l.865-.229c.448-.118.888.218.892.682l.004.449c.003.317.216.594.521.679l.569.158c.502.139.688.753.349 1.148l-.2.233c-.228.266-.228.66 0 .926l.2.233c.339.395.153 1.009-.349 1.148l-.569.158c-.305.085-.518.362-.521.679l-.004.449c-.004.464-.444.8-.892.682l-.865-.229c-.26-.068-.536.015-.714.216l-.531.6c-.283.319-.782.319-1.065 0l-.53-.6c-.179-.201-.455-.284-.714-.216l-.866.229c-.448.118-.888-.218-.892-.682l-.004-.449c-.003-.317-.215-.594-.521-.679l-.568-.158c-.502-.139-.689-.753-.35-1.148l.2-.233c.229-.266.229-.66 0-.926l-.2-.233c-.339-.395-.152-1.009.35-1.148l.568-.158c.306-.085.518-.362.521-.679l.004-.449c.004-.464.444-.8.892-.682l.866.229c.259.068.535-.015.714-.216z",fill:"#f5a4b2",stroke:`url(#j-${t})`,strokeWidth:".7"}),(0,es.jsx)("path",{d:"m124.55 109.515c.278-.283.735-.283 1.014 0l.114.116c.174.178.429.251.671.193l.373-.088c.351-.084.689.181.693.542.002.256.177.478.426.54l.221.055c.356.089.484.53.23.796-.176.185-.176.477 0 .662.254.266.126.707-.23.796l-.221.055c-.249.062-.424.284-.426.54-.004.361-.342.626-.693.542l-.373-.088c-.242-.058-.497.015-.671.193l-.114.116c-.279.283-.736.283-1.014 0l-.114-.116c-.175-.178-.43-.251-.672-.193l-.373.088c-.351.084-.689-.181-.692-.542-.003-.256-.178-.478-.427-.54l-.22-.055c-.357-.089-.485-.53-.231-.796.177-.185.177-.477 0-.662-.254-.266-.126-.707.231-.796l.22-.055c.249-.062.424-.284.427-.54.003-.361.341-.626.692-.542l.373.088c.242.058.497-.015.672-.193z",fill:"#f091a6"}),(0,es.jsx)("path",{d:"m116.413 102c-.553 0-1 .448-1 1v3.475c0 4.609-.411 9.083-1.189 13.35-.111.609.353 1.175.972 1.175.467 0 .871-.33.957-.789.824-4.384 1.26-8.988 1.26-13.736v-3.475c0-.552-.448-1-1-1z",fill:"#f4a0b0"}),(0,es.jsx)("path",{d:"m72.7042 136.954.3018-.115-.3018.115.0245.041c.063.104.0592.232-.048.316l-.0326.026.2632.279-.2632-.279c-.5033.399-.3043 1.213.3901 1.596l.045.025c.1479.081.2141.208.2022.313l-.0046.041.3578.108-.3578-.108c-.0766.677.6475 1.277 1.3279 1.273h.0483c.181-.002.3387.098.4083.21l.0251.04c.3959.634 1.271.83 1.7476.466l.0331-.026-.2607-.282.2607.282c.1149-.088.304-.09.461-.006l.0453.025c.6509.349 1.4253.132 1.5095-.508l.0053-.041c.0149-.113.1228-.216.3031-.22l.0482-.001c.6782-.013 1.105-.629.699-1.299l-.0245-.041c-.0629-.103-.0591-.231.0481-.316l.0326-.026c.5033-.399.3043-1.213-.3902-1.596l-.0449-.025c-.148-.081-.2141-.208-.2022-.313l.0046-.041c.0765-.677-.6476-1.277-1.328-1.273l-.0482.001c-.181.001-.3387-.099-.4083-.211l-.0252-.04c-.3958-.634-1.271-.83-1.7475-.466l-.0331.026.2606.282-.2606-.282c-.115.088-.3041.09-.4611.006l-.0452-.025-.1214.288.1214-.288c-.651-.349-1.4254-.132-1.5095.509l-.0054.04.3572.113-.3572-.113c-.0148.113-.1227.216-.3031.22l-.0481.001c-.6783.013-1.1051.629-.6991 1.299z",fill:"#5a9bfc",fillOpacity:".5",stroke:`url(#k-${t})`,strokeWidth:".7"}),(0,es.jsx)("g",{filter:`url(#a-${t})`,children:(0,es.jsx)("path",{d:"m49.824 77.3626c-9.4961 7.3561-22.5582 9.8835-34.8649 5.5746-4.0267-1.4098-7.64974-3.4385-10.7964-5.9372-.46036 8.2484-.03903 12.8248 2.50507 20.998.42026.1613.84436.3169 1.27225.4668 14.36278 5.0282 29.57968 2.3282 40.91708-5.9032 1.0354-5.8634 1.3931-9.1089.9669-15.199z",fill:`url(#l-${t})`})}),(0,es.jsxs)("g",{filter:`url(#b-${t})`,children:[(0,es.jsx)("path",{d:"m188.001 36.6318c-2.732 3.1711-9.824 7.998-14.832 9.6264-4.246 10.6241-13.043 13.8689-22.646 14.7262 14.086.4247 33.672-7.817 37.478-24.3526z",fill:"#d1e3ff"}),(0,es.jsx)("path",{d:"m140.73 32-.515.2283-.903.406c-6.63 3.0079-15.349 7.4639-21.312 11.2868 8.053 11.0993 19.271 17.0369 32.522 17.0637 7.539-.6728 14.584-2.8183 19.317-8.8534-12.969.4822-22.742-7.9509-29.109-20.1314z",fill:`url(#m-${t})`})]})]})},ey=(0,is.memo)(Jf),ty=()=>{const{state:e,controller:t}=ms(fn.POST_DONATION_UPSELL),i=(0,Fs.Y)(),n=(0,As.S)(),a=(0,is.useRef)(null),r=(0,is.useRef)(null);return(0,es.jsxs)(es.Fragment,{children:[n?(0,es.jsx)(bs.Z,{nodeRef:a,in:e.confirmError,timeout:200,classNames:"fade",mountOnEnter:!0,unmountOnExit:!0,children:(0,es.jsx)("div",{ref:a,className:"alert-danger p-3 mb-3",role:"alert",children:(0,es.jsx)("p",{className:"subtitle-5 text-center text-red-80 text-ellipsis",children:i.translate("postDonationUpsellScreen.errorMessage")})})}):(0,es.jsx)(fc.K,{triggerRef:r,show:e.confirmError,maxWidth:"var(--fixed-container-width-desktop)",children:(0,es.jsx)("p",{className:"subtitle-5 text-red-80 text-center text-ellipsis",children:i.translate("postDonationUpsellScreen.errorMessage")})}),(0,es.jsx)("button",{type:"button",ref:r,className:"btn pdu-confirm-btn",disabled:e.locked||e.confirmError,onClick:()=>t.accept(),"data-qa":"post-donation-upsell-confirm","data-tracking-element-name":"confirmButton",children:i.translate("postDonationUpsellScreen.components.confirmButton",{recurringType:t.periodLabel})})]})},iy=(0,is.memo)(ty),ny=e=>{const{state:t,controller:i}=ms(fn.POST_DONATION_UPSELL),n=(0,Fs.Y)();return(0,es.jsxs)("div",{className:e.className,children:[(0,es.jsx)(iy,{}),(0,es.jsx)("button",{type:"button",className:"btn pdu-skip-btn mt-3",disabled:t.locked,onClick:()=>i.leave(),"data-qa":"post-donation-not-this-time","data-tracking-element-name":"skipButton",children:n.translate("postDonationUpsellScreen.notThisTime")})]})},ay=(0,is.memo)(ny),ry={width:"62px",height:"66px"},sy={transform:"scale(0.36875)"},oy=e=>(0,es.jsx)("div",{className:(0,Cs.Z)("p-rel",e.className),style:ry,children:(0,es.jsx)("div",{className:"p-abs centered",children:(0,es.jsx)("div",{style:sy,children:(0,es.jsxs)("div",{className:"thanks-gift",children:[(0,es.jsx)("div",{className:"thanks-rays",children:(0,es.jsx)(rd,{className:"d-block mx-auto",width:102,height:32})}),(0,es.jsx)("div",{className:"thanks-heart",children:(0,es.jsx)(td,{className:"d-block mx-auto",width:78,height:65})}),(0,es.jsx)("div",{className:"thanks-box",children:(0,es.jsx)(nd,{className:"d-block",width:145,height:109})})]})})})}),cy=(0,is.memo)(oy),ly={maxWidth:"175px"},uy=()=>{const{state:e}=ms(fn.POST_DONATION_UPSELL),t=(0,Fs.Y)(),i=(0,Vs.S)();return(0,es.jsxs)("div",{className:"d-flex align-items-end justify-content-center",children:[(0,es.jsx)(cy,{className:(0,Cs.Z)("flex-shrink-0",i?"me-4":"me-2")}),(0,es.jsx)("p",{className:"text-line-clamp-3",style:ly,role:"status",children:t.translate("postDonationUpsellScreen.description",{amount:t.formatCurrency(e.total,{currency:e.currency,display:"floatcents"})})})]})},dy=(0,is.memo)(uy),hy=e=>{const{state:t,controller:i}=ms(fn.POST_DONATION_UPSELL),[n,a]=(0,is.useState)(!t.isShowcase&&t.errors.min),r=(0,Fs.Y)(),s=(0,Vs.S)(),o=(0,is.useRef)(null),c=(0,is.useRef)(null);Hc(c,!0);const l=(0,As.S)(),u=(0,is.useCallback)((e=>{i.changeAmount(e)}),[i]),d=cs(),h=(0,is.useMemo)((()=>d.getSymbol(t.currency)),[d,t.currency]),m=(0,is.useMemo)((()=>(0,Pf.X)(t.currency,r.locale)),[r.locale,t.currency]),p=Xc(t.shakeKey,0!==t.shakeKey),g=(0,is.useCallback)((()=>{a(!t.isShowcase&&t.errors.min)}),[t.isShowcase,t.errors.min]);(0,is.useEffect)((()=>{a(!t.isShowcase&&t.errors.min)}),[t.isShowcase,t.errors.min]);const f=(0,yc.i)((()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.focus()})),y=(0,is.useCallback)((()=>{i.makeAmountInputVisible(),f.set([],50)}),[i,f]),v=(0,is.useMemo)((()=>r.translate("postDonationUpsellScreen.recurringQuestion",{date:r.formatDate(t.startDate)})),[r,t.startDate]);return(0,es.jsxs)("div",{className:(0,Cs.Z)("d-flex flex-column align-items-center text-center",e.className),children:[(0,es.jsx)("p",{className:(0,Cs.Z)("max-w-100 text-white",l?"text-ellipsis":"text-line-clamp-5"),title:v,role:"status",children:v}),(0,es.jsxs)("div",{ref:o,className:"max-w-100 mt-4-5",children:[(0,es.jsx)(Kh,{ref:c,className:(0,Cs.Z)("group-frequency-control",{"bg-white border-radius-base":t.showAmountInput,"has-error":!t.isAmountValid,"animation-shake":p,disabled:t.locked&&t.showAmountInput}),currency:t.currency,amount:t.amount,onAmountChange:u,canModifyAmount:!0,currencyService:d,showCurrencySymbol:!0,currencyCodeNode:(0,es.jsxs)("div",{className:(0,Cs.Z)("subtitle-3 flex-shrink-0 text-nowrap ms-1",t.showAmountInput?"text-gray-60":"text-white"),children:[!h&&m,"/",r.translate("widgetSubscriptionPeriodLabel.monthly.short")]}),customCurrencySection:!0,resizable:!0,onAmountInputBlur:g,showDisabledInput:!t.showAmountInput,qaActiveAttribute:"post-donation-amount-input",trackingElement:"postDonationInput",placeholder:"",disabled:t.locked&&t.showAmountInput,donationType:t.flowType}),(0,es.jsx)(fc.K,{triggerRef:o,show:n,maxWidth:"var(--fixed-container-width-desktop)",customClass:"w-auto",placement:l?"top":s?"left-start":"right-start",fallbackPlacements:l?[]:["bottom"],role:n?"alert":"none",dataQa:"min-amount-popover",children:(0,es.jsx)("span",{dangerouslySetInnerHTML:{__html:r.translate("postDonationUpsellScreen.amount.minimum",{amount:r.formatCurrency(t.recurringMinAmount,{currency:t.currency,display:"round"})})}})})]}),!t.showAmountInput&&(0,es.jsx)("button",{type:"button",className:"btn-link link-2 text-white-hover-white text-truncate max-w-100 opacity-75",disabled:t.locked,onClick:y,"data-qa":"post-donation-another-amount",children:r.translate("postDonationUpsellScreen.amount.another")})]})},my=(0,is.memo)(hy),py=e=>{const{showBadge:t}=e,{controller:i}=ms(fn.POST_DONATION_UPSELL),n=(0,Fs.Y)(),a=(0,As.S)(),r=(0,Ns.q)();return(0,is.useEffect)((()=>{i.setShowedInSession()}),[i]),(0,es.jsxs)("div",{className:r("flow-screen"),"data-qa":"active-screen-post-donation-upsell",children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:n.translate("common.screenEntered",{screenTitle:`${n.translate("postDonationUpsellScreen.thankYou")}`})}),(0,es.jsx)(sc,{title:n.translate("postDonationUpsellScreen.thankYou"),showBadge:t}),(0,es.jsxs)(jo,{children:[(0,es.jsx)("div",{className:(0,Cs.Z)("flex-grow-1 px-body d-flex align-items-center",{"py-2":!a}),children:(0,es.jsx)("div",{className:"fixed-container",children:(0,es.jsx)(dy,{})})}),(0,es.jsx)("div",{className:r("pdu-thanks"),children:(0,es.jsxs)("div",{className:"fixed-container flex-grow-1 d-flex flex-column",children:[(0,es.jsx)(my,{className:"mb-6"}),(0,es.jsx)(ay,{className:"mt-auto"})]})})]})]})},gy=(0,is.memo)(py);function fy(e){/[0-9]/.test(e.key)||!e.key||1!==e.key.length||e.ctrlKey||e.metaKey||e.preventDefault()}var yy;function vy(){return vy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},vy.apply(this,arguments)}var Sy=function(e,t){return is.createElement("svg",vy({fill:"none",height:28,viewBox:"0 0 87 28",width:87,xmlns:"http://www.w3.org/2000/svg",ref:t},e),yy||(yy=is.createElement("path",{clipRule:"evenodd",d:"m40.6994 5.87862h4.4869s4.4427-.08959 4.3979 3.94846c-.0443 3.00672-4.3073 3.45522-4.3073 3.45522h-4.577v-7.40368zm13.4235 14.49468c.126.5873.5508 1.2346 1.9681 1.3011 1.8843.0443 2.9614-.6739 2.9614-.6739v1.3911s-2.064.4943-3.0515.4943c-1.0318 0-4.0833-.225-4.0833-3.0516 0-2.288 2.513-3.0062 3.9484-3.0062 2.513.0896 3.7245.9874 3.6797 3.5448 0 .0369-4.1346.0093-5.4228.0004zm.0059-1.1228h3.4429s0-1.3011-1.6604-1.3011c-1.2489 0-1.6575.6735-1.7825 1.3011zm10.8913-1.4049c.4982-.5405 1.3346-.9732 2.7375-.9732 2.7823 0 3.2312 2.3333 3.1864 2.9614-.0448.6282-.2692 3.0063-3.4995 3.0063-1.2203 0-1.9671-.4165-2.4239-.9333v.7536h-2.1989v-8.0771h2.1989v3.2623zm1.8854 3.7382c1.3011-.0453 1.8844-1.1661 1.8844-1.7047 0-.5385-.3146-1.6604-1.975-1.6604-1.2882 0-1.6806.9732-1.7948 1.4487v.5853c.1133.4849.5076 1.3311 1.8854 1.3311zm18.9812-.224.0443 1.2568s-1.0318.224-1.7047.224-2.4239-.4037-2.4239-2.1094v-2.6026h-1.8391v-1.1662h1.8391v-1.3911h2.2442v1.3911h1.8401v1.1662h-1.8401v2.2443s0 1.1218.8979 1.1218c.8969 0 .9422-.1349.9422-.1349zm-6.8208-14.26972h2.6026v6.23702h2.1979v-6.23702h2.6479v-1.30154h-7.4484zm-.8979.31407.2693-1.30155s-1.1219-.49325-3.0959-.49325c-1.9297 0-5.0255 1.07708-5.0255 3.99375 0 2.8719 3.2755 3.8589 5.2948 3.8589s2.6922-.3141 2.6922-.3141l-.224-1.4359s-.8979.2692-2.4239.2692c-1.4807-.0448-3.0053-1.2114-3.0053-2.51249.0443-1.16667 1.3902-2.46822 3.1412-2.46822 1.3453 0 2.3771.40366 2.3771.40366zm-19.8338-1.57032s3.6797-.17919 3.6797 1.97447c0 1.84009-2.1084 1.97447-2.1084 1.97447s.5828.08959.8526.49323c.224.3589 1.7047 3.0516 1.7047 3.0516h-2.2442s-.3589-.449-.5385-.7626c-.1344-.314-.5386-.9874-.5386-.9874s-.3136-1.1219-1.3911-1.1219c-.0271 0-.4652-.0167-.8078-.0295v2.9014h-2.1537v-7.49377zm-1.3911 3.36561h1.1671s1.6151-.09009 1.7047-1.07708c.0453-.94219-1.5698-1.07707-1.5698-1.07707h-1.302zm9.0192 1.16666h3.5901v-1.39113h-3.5901v-1.70521h3.9047v-1.43593h-6.1021v7.49377h6.1473v-1.3464h-3.9494v-1.6151zm8.75 5.7433h2.199v-1.5261h-2.199zm0 6.5515h2.199v-5.6985h-2.199zm-23.9609-9.3333h2.1536v-7.49377h-2.1536zm-10.052 1.8848h4.4869s4.4427-.0905 4.3979 3.9485c-.0443 3.0063-4.3073 3.4557-4.3073 3.4557h-4.577v-7.4042zm2.1989 6.0131h1.4359s2.9615-.1797 2.9615-2.4683c0-2.2885-3.1411-2.513-3.1411-2.513h-1.2563zm0-9.3339h1.4359s2.9615-.2244 2.9615-2.46818c0-2.33333-3.1411-2.51252-3.1411-2.51252h-1.2563zm-22.3468-1.5521v15.0141s-8.7057-1.5708-8.7057-7.5386c.0005-4.7597 6.4447-6.8577 8.7057-7.4755zm0-.2801c-5.2323-.37853-17.0963 2.0739-17.0963 7.4411 0 3.4995 6.28226 8.6156 16.513 8.75.4036 0 12.0255-.449 11.8463-12.9234-.1506-10.47738-7.9924-12.31254-10.5-12.632021v-.6384659c9.9969.6345289 17.8593 6.6465569 17.8593 13.9433869 0 7.7182-8.7952 14-19.6093 14-10.81402 0-19.5645-6.2823-19.5645-14 0-7.71772 8.74999-14 19.5645-14 .3313 0 .6606.0059087.9875.017723v10.041677z",fill:"currentColor",fillRule:"evenodd"})))},Cy=(0,is.forwardRef)(Sy),by=(0,is.memo)(Cy);const Ay={boxShadow:"0 0 0 4px rgba(51, 113, 230, 0.5)"},Ey={boxShadow:"inset 0 0 0 1px #c7cdd6"},xy={boxShadow:"inset 0 -1px 0 0 #c7cdd6"},ky=e=>{const{state:t}=ms(fn.UPSELL),i=(0,Vs.S)(),n=(0,is.useRef)(null);return Hc(n,e.autoFocus),(0,es.jsx)(es.Fragment,{children:e.upsellButtonsExperimentEnabled?(0,es.jsxs)("button",{ref:n,type:"button",className:"btn btn-default d-flex align-items-center justify-content-center",onClick:()=>e.onClick("high"),"data-qa":"upsell-high","data-tracking-element-name":e.trackingElement,"data-testid":"upsell-high",children:[(0,es.jsx)("span",{className:"icon-slot icon-slot-18 flex-shrink-0 me-2","aria-hidden":"true",children:(0,es.jsx)("span",{className:"p-abs centered font-size-18 text-fuchsia-80",children:(0,es.jsx)(ec,{className:"icon-fill d-block"})})}),(0,es.jsx)("span",{className:"text-truncate",children:t.highButtonText}),(0,es.jsx)("span",{className:"icon-slot icon-slot-18 flex-shrink-0 ms-2","aria-hidden":"true"})]}):(0,es.jsxs)("div",{className:"p-rel",children:[(0,es.jsx)("button",{ref:n,type:"button",className:(0,Cs.Z)("btn btn-danger",{"px-10":!t.isAnnualTribute}),onClick:()=>e.onClick("high"),"data-qa":"upsell-high","data-tracking-element-name":e.trackingElement,"data-testid":"upsell-high",children:t.highButtonText}),!t.isAnnualTribute&&(0,es.jsx)(km,{className:(0,Cs.Z)("p-abs centered-left z-index-2 ms-minus-5 mt-0-5",{"icon-flip-horizontal":i}),ariaHidden:!0})]})})},wy=(0,is.memo)(ky),Ny=e=>{const{state:t}=ms(fn.UPSELL);return Hc((0,is.useRef)(null),e.autoFocus),(0,es.jsx)("button",{type:"button",className:(0,Cs.Z)("btn",e.upsellButtonsExperimentEnabled?"btn-default":"btn-primary",e.className),onClick:()=>e.onClick("low"),"data-qa":"upsell-low-monthly","data-tracking-element-name":e.trackingElement,"data-testid":"upsell-low",children:t.lowButtonText})},Py=(0,is.memo)(Ny),Dy=e=>{const{state:t}=ms(fn.UPSELL),i=(0,Fs.Y)();return(0,es.jsx)("button",{type:"button",className:(0,Cs.Z)("btn",e.upsellButtonsExperimentEnabled?"btn-primary":"btn-default",e.className),onClick:()=>e.onClick(null),"data-qa":"upsell-one-time","data-tracking-element-name":e.trackingElement,children:e.upsellButtonsExperimentEnabled?`Donate ${i.formatCurrency(e.amount,{currency:t.currency,display:"floatcents"})} one time`:i.translate("upsellScreen.keepOneTimeButton",{amount:i.formatCurrency(e.amount,{currency:t.currency,display:"floatcents"})})})},Ty=(0,is.memo)(Dy),_y=()=>{const{state:e}=ms(fn.UPSELL),t=(0,As.S)();return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("p",{role:"status",className:(0,Cs.Z)("text-center",t?"text-ellipsis":"text-line-clamp-6"),dangerouslySetInnerHTML:{__html:e.questionText},"data-testid":"upsell-screen-question-text"}),(0,es.jsx)("p",{role:"status",className:(0,Cs.Z)("text-center mt-2",t?"text-ellipsis":"text-line-clamp-4"),dangerouslySetInnerHTML:{__html:e.descriptionText},"data-testid":"upsell-screen-description-text"})]})},Oy=(0,is.memo)(_y),Iy=e=>{const t=Zs();return(0,es.jsxs)("svg",{className:(0,Cs.Z)(e.className),"aria-hidden":!!e.ariaHidden||void 0,fill:"none",height:"96",viewBox:"0 0 96 96",width:"96",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,es.jsxs)("linearGradient",{id:`a-${t}`,gradientUnits:"userSpaceOnUse",x1:"34",x2:"34",y1:"12",y2:"88",children:[(0,es.jsx)("stop",{offset:".360343",stopColor:"#e6f0ff"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#c9deff"})]}),(0,es.jsxs)("linearGradient",{id:`b-${t}`,children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#8dbaf8"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#bfdaff",stopOpacity:"0"})]}),(0,es.jsx)("linearGradient",{id:`c-${t}`,gradientUnits:"userSpaceOnUse",x1:"25",x2:"34",xlinkHref:`#b-${t}`,y1:"24",y2:"24"}),(0,es.jsxs)("linearGradient",{id:`d-${t}`,children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#739ad5"}),(0,es.jsx)("stop",{offset:"1",stopColor:"#c1dafc"})]}),(0,es.jsx)("linearGradient",{id:`e-${t}`,gradientUnits:"userSpaceOnUse",x1:"24.5",x2:"24.5",xlinkHref:`#d-${t}`,y1:"24",y2:"4"}),(0,es.jsxs)("linearGradient",{id:`f-${t}`,children:[(0,es.jsx)("stop",{offset:"0",stopColor:"#e8f4ff"}),(0,es.jsx)("stop",{offset:".756988",stopColor:"#4880d3",stopOpacity:".24"})]}),(0,es.jsx)("linearGradient",{id:`g-${t}`,gradientUnits:"userSpaceOnUse",x1:"25",x2:"25",xlinkHref:`#f-${t}`,y1:"4",y2:"24"}),(0,es.jsx)("linearGradient",{id:`h-${t}`,gradientUnits:"userSpaceOnUse",x1:"67",x2:"76",xlinkHref:`#b-${t}`,y1:"24",y2:"24"}),(0,es.jsx)("linearGradient",{id:`i-${t}`,gradientUnits:"userSpaceOnUse",x1:"66.5",x2:"66.5",xlinkHref:`#d-${t}`,y1:"24",y2:"4"}),(0,es.jsx)("linearGradient",{id:`j-${t}`,gradientUnits:"userSpaceOnUse",x1:"67",x2:"67",xlinkHref:`#f-${t}`,y1:"4",y2:"24"}),(0,es.jsx)("rect",{fill:"#a9cbff",height:"76",rx:"10",width:"92",x:"3",y:"16"}),(0,es.jsx)("rect",{fill:`url(#a-${t})`,height:"76",rx:"8",width:"90",x:"1",y:"12"}),(0,es.jsx)("path",{d:"m4.25439 86.4409c1.32765.9798 2.96908 1.559 4.74579 1.559h74.00002c4.4183 0 8-3.5817 8-8v-60c0-1.7767-.5792-3.4181-1.5591-4.7457.3599.843.5591 1.7711.5591 2.7457v62c0 3.866-3.134 7-7 7h-76.00002c-.97461 0-1.9027-.1991-2.74579-.559z",fill:"#dfecff"}),(0,es.jsx)("path",{clipRule:"evenodd",d:"m26.7465 16.6999c.7142-1.0714 1.2535-2.7243 1.2535-4.6999h6c0 2.9949-.8039 5.8421-2.2612 8.0281-1.4434 2.165-3.7668 3.9719-6.7388 3.9719v-6c.3417 0 1.0183-.2078 1.7465-1.3001z",fill:`url(#c-${t})`,fillRule:"evenodd"}),(0,es.jsx)("path",{d:"m25 4c-2.2091 0-4 1.79086-4 4v4h10v-4c0-2.20914-1.7909-4-4-4z",fill:"#739ad5"}),(0,es.jsx)("path",{d:"m25 4c-2.2091 0-4 1.79086-4 4v12c0 2.2091 1.7909 4 4 4s4-1.7909 4-4v-12c0-.55229.4477-1 1-1s1 .44771 1 1c0-2.20914-1.7909-4-4-4z",fill:`url(#e-${t})`}),(0,es.jsx)("path",{clipRule:"evenodd",d:"m25 5c-1.6569 0-3 1.34315-3 3v12c0 1.6569 1.3431 3 3 3s3-1.3431 3-3v-12c0-.87072.5564-1.61147 1.3331-1.8861-.55-.67948-1.3908-1.1139-2.3331-1.1139zm5.5007 1.06318c-.6822-1.23036-1.9942-2.06318-3.5007-2.06318h-2c-2.2091 0-4 1.79086-4 4v12c0 2.2091 1.7909 4 4 4s4-1.7909 4-4v-12c0-.49577.3608-.90727.8341-.9863.054-.00901.1094-.0137.1659-.0137.5523 0 1 .44771 1 1 0-.70264-.1812-1.36297-.4993-1.93682z",fill:`url(#g-${t})`,fillRule:"evenodd"}),(0,es.jsx)("path",{clipRule:"evenodd",d:"m68.7465 16.6999c.7142-1.0714 1.2535-2.7243 1.2535-4.6999h6c0 2.9949-.8039 5.8421-2.2612 8.0281-1.4434 2.165-3.7668 3.9719-6.7388 3.9719v-6c.3417 0 1.0183-.2078 1.7465-1.3001z",fill:`url(#h-${t})`,fillRule:"evenodd"}),(0,es.jsx)("path",{d:"m67 4c-2.2091 0-4 1.79086-4 4v4h10v-4c0-2.20914-1.7909-4-4-4z",fill:"#739ad5"}),(0,es.jsx)("path",{d:"m67 4c-2.2091 0-4 1.79086-4 4v12c0 2.2091 1.7909 4 4 4s4-1.7909 4-4v-12c0-.55229.4477-1 1-1s1 .44771 1 1c0-2.20914-1.7909-4-4-4z",fill:`url(#i-${t})`}),(0,es.jsx)("path",{clipRule:"evenodd",d:"m67 5c-1.6569 0-3 1.34315-3 3v12c0 1.6569 1.3431 3 3 3s3-1.3431 3-3v-12c0-.87072.5564-1.61147 1.3331-1.8861-.55-.67948-1.3908-1.1139-2.3331-1.1139zm5.5007 1.06318c-.6822-1.23036-1.9942-2.06318-3.5007-2.06318h-2c-2.2091 0-4 1.79086-4 4v12c0 2.2091 1.7909 4 4 4s4-1.7909 4-4v-12c0-.49577.3608-.90727.8341-.9863.054-.00901.1094-.0137.1659-.0137.5523 0 1 .44771 1 1 0-.70264-.1812-1.36297-.4993-1.93682z",fill:`url(#j-${t})`,fillRule:"evenodd"}),(0,es.jsxs)("g",{fill:"#b5cbee",children:[(0,es.jsx)("path",{d:"m14 51c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,es.jsx)("path",{d:"m32 51c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,es.jsx)("path",{d:"m50 51c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,es.jsx)("path",{d:"m68 51c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,es.jsx)("path",{d:"m14 69c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,es.jsx)("path",{d:"m32 69c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,es.jsx)("path",{d:"m50 69c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,es.jsx)("path",{d:"m68 69c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,es.jsx)("path",{d:"m14 33c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,es.jsx)("path",{d:"m32 33c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,es.jsx)("path",{d:"m50 33c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"}),(0,es.jsx)("path",{d:"m68 33c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z"})]}),(0,es.jsx)("path",{d:"m13 50c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,es.jsx)("path",{d:"m31 50c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,es.jsx)("path",{d:"m49 50c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,es.jsx)("path",{d:"m67 50c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,es.jsx)("path",{d:"m13 68c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,es.jsx)("path",{d:"m31 68c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,es.jsx)("path",{d:"m49 68c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,es.jsx)("path",{d:"m67 68c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,es.jsx)("path",{d:"m13 32c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,es.jsx)("path",{d:"m31 32c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,es.jsx)("path",{d:"m49 32c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,es.jsx)("path",{d:"m67 32c0-1.1046.8954-2 2-2h8c1.1046 0 2 .8954 2 2v8c0 1.1046-.8954 2-2 2h-8c-1.1046 0-2-.8954-2-2z",fill:"#f7faff"}),(0,es.jsx)("path",{clipRule:"evenodd",d:"m60.9768 43.2791c3.0364.9078 5.2846 3.9193 4.9987 8.0868-.2477 3.6099-2.1691 7.1112-4.3664 9.9483-2.2111 2.855-4.8174 5.1863-6.6657 6.4679-.5554.3851-1.3173.2462-1.7017-.3103-.3845-.5565-.2458-1.3198.3096-1.705 1.6427-1.139 4.0669-3.2973 6.1252-5.9551 2.0723-2.6756 3.6593-5.7102 3.8586-8.6139.215-3.1337-1.4195-5.0206-3.2578-5.5701-1.83-.5472-4.1921.1325-5.6767 2.9002l-.6216 1.1588-1.1097-.7034c-1.879-1.1909-3.5844-1.2975-4.8373-.8748-1.2631.4261-2.1695 1.4163-2.4702 2.6611-.5706 2.3615 1.0339 6.6752 9.5698 9.5163.6411.2134.9881.907.7751 1.5493-.2129.6423-.9052.99-1.5463.7766-8.919-2.9687-12.2139-8.1234-11.1761-12.4189.5034-2.0837 2.0281-3.7192 4.067-4.4071 1.7439-.5884 3.7908-.4654 5.8467.5253 2.0401-2.8813 5.1448-3.8493 7.8788-3.032z",fill:"#fa4e77",fillRule:"evenodd"})]})},Ry=(0,is.memo)(Iy),Ly=e=>{const{showBadge:t}=e,{state:i,controller:n}=ms(fn.UPSELL),a=(0,Fs.Y)(),r=(0,As.S)(),s=(0,Ns.q)(),o=(0,is.useCallback)((e=>{n.confirm(e)}),[n]);return(0,is.useEffect)((()=>{n.setShowed()}),[n]),(0,es.jsxs)("div",{className:s("flow-screen"),"data-qa":"active-screen-upsell",children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenEntered",{screenTitle:`${i.screenTitle}`})}),(0,es.jsx)(sc,{title:i.screenTitle,titleTestId:"upsell-screen-title",showBadge:t}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",r?"justify-content-center":i.isAnnualTribute?"py-6":"py-8"),children:(0,es.jsxs)("div",{className:"fixed-container",children:[i.isAnnualTribute&&(0,es.jsx)(Ry,{className:"d-block mx-auto mt-2 mb-6",ariaHidden:!0}),(0,es.jsx)(Oy,{})]})}),(0,es.jsx)(zo,{children:(0,es.jsxs)("div",{role:"group","aria-label":a.translate("upsellScreen.buttonGroupAriaLabel"),children:[i.highMonthlyAmount&&(0,es.jsx)(wy,{amount:i.highMonthlyAmount,autoFocus:!!i.highMonthlyAmount,trackingElement:"oldUpsellHighMonthly",onClick:o,upsellButtonsExperimentEnabled:i.experiments.upsellButtons}),i.lowMonthlyAmount&&(0,es.jsx)(Py,{onClick:o,className:"mt-3",amount:i.lowMonthlyAmount,autoFocus:!i.highMonthlyAmount,trackingElement:"oldUpsellLowMonthly",upsellButtonsExperimentEnabled:i.experiments.upsellButtons}),(0,es.jsx)(Ty,{onClick:o,className:"mt-3",amount:i.upsell.fromAmount,trackingElement:"oldUpsellKeep",upsellButtonsExperimentEnabled:i.experiments.upsellButtons})]})})]})},jy=(0,is.memo)(Ly),My={boxShadow:"0 0 0 4px rgba(51, 113, 230, 0.5)"},Fy={boxShadow:"inset 0 0 0 1px #c7cdd6"},Uy={boxShadow:"inset 0 -1px 0 0 #c7cdd6"},By={letterSpacing:"-0.2em"},Gy={filter:"drop-shadow(rgba(109, 141, 177, 0.5) 0 1px 5px)"},qy={letterSpacing:"-0.2em"},Ky={background:"#E3EDF6",height:"12px"},Vy=x()(x()({},Ky),{width:"146px"}),Hy=x()(x()({},Ky),{width:"46px"}),Yy=e=>{const t=(0,Fs.Y)(),i=(0,Vs.S)(),n=(0,As.S)();return(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsxs)("div",{className:(0,Cs.Z)("text-center",n?"text-ellipsis":"text-line-clamp-7"),children:[e.showAmountExample&&(0,es.jsx)(Ol,{token:"usBankAccountGuideScreen.description.amounts.desktop",params:{amount:t.formatCurrency(100,{currency:"USD"})}}),e.showDescriptorCodeExample&&(0,es.jsx)(Ol,{token:"usBankAccountGuideScreen.description.descriptorCode.desktop"})]}),(0,es.jsx)("div",{className:"mt-5",style:Gy,children:(0,es.jsxs)("div",{className:"us-bank-account-receipt px-6 pt-4 bg-blue-5 border-top-radius-4",children:[(0,es.jsx)("div",{className:"text-center text-truncate",children:t.translate("usBankAccountGuideScreen.bankStatement")}),(0,es.jsx)("div",{className:"border-top-1-gray-20 mt-4"}),e.showAmountExample&&(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)("div",{className:(0,Cs.Z)("d-flex mt-3",{"text-start":i}),dir:"ltr",children:[(0,es.jsx)("div",{className:"flex-grow-1 overflow-hidden",children:(0,es.jsxs)("div",{className:(0,Cs.Z)("body-3 text-gray-60",{"text-line-clamp-2":!n}),children:[e.statementDescriptor,":"]})}),(0,es.jsx)("div",{className:"body-2 flex-shrink-0 text-sans-serif ms-1",dangerouslySetInnerHTML:{__html:e.amountExample}})]}),(0,es.jsx)("div",{className:"border-top-1-gray-20 my-3"}),(0,es.jsxs)("div",{className:(0,Cs.Z)("d-flex",{"text-start":i}),dir:"ltr",children:[(0,es.jsx)("div",{className:"flex-grow-1 overflow-hidden",children:(0,es.jsxs)("div",{className:(0,Cs.Z)("body-3 text-gray-60",{"text-line-clamp-2":!n}),children:[e.statementDescriptor,":"]})}),(0,es.jsx)("div",{className:"body-2 flex-shrink-0 text-sans-serif ms-1",dangerouslySetInnerHTML:{__html:e.amountExample}})]}),(0,es.jsx)("div",{className:"border-top-1-gray-20 my-3"})]}),e.showDescriptorCodeExample&&(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)("div",{className:(0,Cs.Z)("d-flex mt-3",{"text-start":i}),dir:"ltr",children:[(0,es.jsxs)("div",{className:"d-flex flex-wrap flex-grow-1",children:[(0,es.jsxs)("div",{className:(0,Cs.Z)("body-3 text-gray-60 me-1",n?"overflow-hidden":"text-line-clamp-2"),children:[e.statementDescriptor,":"]}),(0,es.jsxs)("div",{className:"d-flex label-4 flex-shrink-0 text-nowrap",children:[e.descriptorCodeExample.prefix,(0,es.jsx)("span",{className:"d-inline-block font-size-18",style:qy,children:""})]})]}),(0,es.jsx)("div",{className:"body-3 text-gray-60 flex-shrink-0 text-sans-serif ms-1",dangerouslySetInnerHTML:{__html:e.descriptorCodeExample.amount}})]}),(0,es.jsx)("div",{className:"border-top-1-gray-20 mt-3"}),(0,es.jsxs)("div",{className:"d-flex justify-content-between mt-4 mb-3",dir:"ltr",children:[(0,es.jsx)("div",{className:"border-radius-8",style:Vy}),(0,es.jsx)("div",{className:"border-radius-8",style:Hy})]})]})]})})]})},Zy=(0,is.memo)(Yy),$y={[fn.DONATE]:Vm,[fn.UPSELL]:jy,[fn.PAYMENT_OPTIONS]:Wf,[fn.PAYPAL_CONVERSION]:e=>{const{showBadge:t}=e,{state:i,controller:n}=ms(fn.PAYPAL_CONVERSION),a=(0,Fs.Y)(),r=(0,As.S)(),s=(0,Ns.q)(),o=()=>{n.leave({direction:bn.BACKWARD})},c={defaultCurrency:i.defaultCurrency,amount:a.formatCurrency(i.from.total,{currency:i.from.currency,display:"fullstrict",withoutPrefix:!1,withoutSuffix:!1}),amountInPayPalCurrency:a.formatCurrency(i.total,{currency:i.currency,display:"fullstrict",withoutPrefix:!1,withoutSuffix:!1})};return(0,es.jsxs)("div",{className:s("flow-screen"),"data-qa":"active-screen-paypal-conversion",children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenEntered",{screenTitle:`${a.translate("paypalScreen.currencyConversion")}`})}),(0,es.jsx)(sc,{backButtonClickHandler:o,title:a.translate("paypalScreen.currencyConversion"),showBadge:t}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",r?"py-3":"py-8"),children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsx)(ey,{className:"d-block mx-auto"}),(0,es.jsx)(Ol,{as:"p",className:"mt-4 text-center",token:"paypalScreen.paypalCurrencyInfo",params:c,qa:"paypal-currency-info"})]})}),(0,es.jsxs)(zo,{backButtonClickHandler:o,children:[(0,es.jsx)(Qf,{errorMessage:i.errorMessage}),(0,es.jsx)("div",{className:"d-flex justify-content-center mt-5",children:(0,es.jsx)("button",{type:"button",className:"btn-link text-truncate",onClick:o,children:a.translate("paypalScreen.otherOptions")})})]})]})},[fn.US_BANK_ACCOUNT]:e=>{var t,i,n;const{showBadge:a}=e,{state:r,controller:s}=ms(fn.US_BANK_ACCOUNT),o=(0,As.S)(),c=(0,Ns.q)(),l=(0,Fs.Y)(),u=Xc(r.shakeKey,0!==r.shakeKey),d=oc(),h=(0,is.useRef)(null),m=(0,is.useRef)(null),p=(0,is.useRef)(null);Hc(h,!0);const[g,f]=(0,is.useState)(!1),[y,v]=(0,is.useState)(!1);(0,is.useEffect)((()=>{if(r.routingNumber||r.accountNumber||r.accountHolderName)return;if(r.livemode||!d)return;if(!h.current||!m.current||!p.current)throw new Error("Input fields refs are not defined");const e=s.fillDemoData({routingNumber:h,accountNumber:m,accountHolderName:p});return()=>{e()}}),[d,s,r.livemode]),Hc(h,!0);const S=(0,is.useCallback)((e=>{const t=e.target.value;s.changeRoutingNumber(t),m.current&&9===t.length&&m.current.focus()}),[s]),C=(0,is.useCallback)((e=>{const t=e.target.value;s.changeAccountNumber(t),p.current&&17===t.length&&p.current.focus()}),[s]);return(0,es.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.leave()},className:c("flow-screen"),"data-qa":"active-screen-routing-account",children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:l.translate("common.screenEntered",{screenTitle:`${l.translate("usBankAccountScreen.title")}`})}),(0,es.jsx)(sc,{title:l.translate("usBankAccountScreen.title"),showBadge:a}),(0,es.jsx)(jo,{className:(0,Cs.Z)({"py-5":!o}),children:(0,es.jsx)("div",{className:"px-body",children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsx)("p",{className:(0,Cs.Z)("text-center",o?"text-ellipsis":"text-line-clamp-3"),children:l.translate("usBankAccountScreen.locationRestrictions.desktop")}),(0,es.jsx)(Ad,{className:o?"mt-7":"mt-5",children:(0,es.jsxs)("div",{className:"d-flex align-items-center text-sans-serif",dir:"ltr",children:[(0,es.jsx)("div",{className:(0,Cs.Z)("body-4 px-1 py-0-5 border-radius-2 me-2",{"text-white bg-primary":g}),style:g?My:void 0,children:"119562715"}),(0,es.jsx)("div",{className:(0,Cs.Z)("body-4 px-1 py-0-5 border-radius-2",{"text-white bg-primary":y}),style:y?My:void 0,children:"891562828814208"})]})}),(0,es.jsxs)("div",{className:(0,Cs.Z)("group-stacked-vertical",o?"mt-7":"mt-4-5",{"animation-shake":u}),children:[(0,es.jsxs)("div",{className:"group",children:[(0,es.jsx)("label",{className:"sr-only",children:l.translate("usBankAccountScreen.routingNumber")}),(0,es.jsx)("input",{ref:h,type:"text",className:(0,Cs.Z)("form-control text-sans-serif",{"has-error":r.errors.routingNumber}),placeholder:l.translate("usBankAccountScreen.routingNumber"),onKeyPress:fy,value:null!==(t=r.routingNumber)&&void 0!==t?t:"",onChange:S,maxLength:9,disabled:r.locked,onFocus:()=>f(!0),onBlur:()=>f(!1),"data-qa":"routing-number"}),r.errors.routingNumber&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:l.translate("usBankAccountScreen.routingNumberError")})]}),(0,es.jsxs)("div",{className:"group",children:[(0,es.jsx)("label",{className:"sr-only",children:l.translate("usBankAccountScreen.accountNumber")}),(0,es.jsx)("input",{ref:m,type:"text",className:(0,Cs.Z)("form-control text-sans-serif",{"has-error":r.errors.accountNumber}),placeholder:l.translate("usBankAccountScreen.accountNumber"),onKeyPress:fy,value:null!==(i=r.accountNumber)&&void 0!==i?i:"",onChange:C,maxLength:17,minLength:4,disabled:r.locked,onFocus:()=>v(!0),onBlur:()=>v(!1),"data-qa":"ach-account-number"}),r.errors.accountNumber&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:l.translate("usBankAccountScreen.accountNumberError")})]})]}),(0,es.jsxs)("div",{className:(0,Cs.Z)("p-rel mt-4",{"animation-shake":u}),children:[(0,es.jsx)("label",{className:"sr-only",children:l.translate("usBankAccountScreen.accountHolderName")}),(0,es.jsx)("input",{ref:p,type:"text",className:(0,Cs.Z)("form-control text-sans-serif",{"has-error":r.errors.accountHolderName}),placeholder:l.translate("usBankAccountScreen.accountHolderName"),minLength:1,value:null!==(n=r.accountHolderName)&&void 0!==n?n:"",disabled:r.locked,onChange:e=>s.changeAccountHolderName(e.target.value),"data-qa":"us-bank-account-holder-name"}),r.errors.accountHolderName&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:l.translate("usBankAccountScreen.accountHolderNameError")})]}),(0,es.jsxs)("div",{className:"d-flex justify-content-center mt-5",children:[(0,es.jsx)(Xl,{radioName:"accountType",className:"max-w-50 me-3",checked:"individual"===r.accountType,radioValue:r.accountType,disabled:r.locked,onChange:()=>s.changeAccountType("individual"),qa:"personal-bank-account",trackingElement:"personalBankAccount",children:(0,es.jsx)("span",{className:"text-truncate",children:l.translate("usBankAccountScreen.type.personal")})}),(0,es.jsx)(Xl,{radioName:"accountType",className:"max-w-50 ms-3",checked:"company"===r.accountType,radioValue:r.accountType,disabled:r.locked,onChange:()=>s.changeAccountType("company"),qa:"business-bank-account",trackingElement:"businessBankAccount",children:(0,es.jsx)("span",{className:"text-truncate",children:l.translate("usBankAccountScreen.type.business")})})]})]})})}),(0,es.jsx)(zo,{children:(0,es.jsx)(Lc,{type:"submit",className:"btn-primary",processingState:r.processingState,tooltipTitle:r.errorMessage||l.translate("common.errorOccurredText"),dataQa:"ach-continue",trackingElement:"nextButton",children:l.translate("usBankAccountScreen.payButtonLabel")})})]})},[fn.US_BANK_ACCOUNT_DONATE_OPTIONS]:e=>{const{showBadge:t}=e,{state:i,controller:n}=ms(fn.US_BANK_ACCOUNT_DONATE_OPTIONS),a=(0,Fs.Y)(),r=(0,As.S)(),s=(0,Ns.q)();return(0,es.jsxs)("div",{className:s("flow-screen"),"data-qa":"active-screen-link-to-bank",children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenEntered",{screenTitle:`${a.translate("usBankAccountDonateOptionsScreen.title")}`})}),(0,es.jsx)(sc,{title:a.translate("usBankAccountDonateOptionsScreen.title"),showBadge:t}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body justify-content-center align-items-center",r?"pb-3":"py-4"),children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsx)(Bp,{className:"d-block mx-auto",ariaHidden:!0}),(0,es.jsx)("p",{className:"text-center mt-4",children:a.translate("usBankAccountDonateOptionsScreen.description")})]})}),(0,es.jsxs)(zo,{children:[(0,es.jsx)(Lc,{className:"btn-primary",processingState:i.processingState,tooltipTitle:i.loginToBankError,disabled:i.locked,dataQa:"authorize-bank-button",trackingElement:"authorizeBankButton",onClick:()=>n.authorizeToBank(),children:a.translate("usBankAccountDonateOptionsScreen.button.authorize")}),(0,es.jsx)("button",{type:"button",className:"btn btn-default mt-3",disabled:i.locked,"data-qa":"routing-account-button","data-tracking-element-name":"routingAccountButton",onClick:()=>n.fillDetailsManually(),children:a.translate("usBankAccountDonateOptionsScreen.button.routing")})]})]})},[fn.US_BANK_ACCOUNT_CONFIRMATION]:e=>{const{showBadge:t}=e,{state:i,controller:n}=ms(fn.US_BANK_ACCOUNT_CONFIRMATION),a=(0,As.S)(),r=(0,Ns.q)(),s=(0,Fs.Y)();return(0,es.jsxs)("div",{className:r("flow-screen"),children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:s.translate("common.screenEntered",{screenTitle:`${s.translate("usBankAccountConfirmationScreen.title")}`})}),(0,es.jsx)(sc,{title:s.translate("usBankAccountConfirmationScreen.title"),showBadge:t,titleQa:"us-bank-account-confirmation-title"}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body d-flex flex-column",{"py-5":!a}),children:(0,es.jsxs)("div",{className:"fixed-container flex-grow-1 d-flex flex-column min-h-0",children:[(0,es.jsxs)("div",{className:"flex-shrink-0 bg-white border-radius-8",style:Fy,children:[(0,es.jsxs)("div",{className:"px-3 py-2",style:Uy,children:[(0,es.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:s.translate("usBankAccountConfirmationScreen.agreementDate")}),(0,es.jsx)("p",{className:"label-3 text-truncate","data-qa":"agreement-date-label",children:i.usBankAccount.agreementDate})]}),(0,es.jsxs)("div",{className:"px-3 py-2",style:Uy,children:[(0,es.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:s.translate("usBankAccountConfirmationScreen.accountHolderName")}),(0,es.jsx)("p",{className:"label-3 text-truncate","data-qa":"account-holder-name-label",children:i.usBankAccount.accountHolderName})]}),(0,es.jsxs)("div",{className:"px-3 py-2",style:Uy,children:[(0,es.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:s.translate("usBankAccountConfirmationScreen.financialInstitution")}),(0,es.jsx)("p",{className:"label-3 text-truncate","data-qa":"financial-institution-label",children:i.usBankAccount.financialInstitution})]}),(0,es.jsxs)("div",{className:"px-3 py-2",style:Uy,children:[(0,es.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:s.translate("usBankAccountConfirmationScreen.routingNumber")}),(0,es.jsx)("p",{className:"label-3 text-truncate","data-qa":"routing-number-label",children:i.usBankAccount.routingNumber})]}),(0,es.jsxs)("div",{className:"px-3 py-2",children:[(0,es.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:s.translate("usBankAccountConfirmationScreen.accountNumber")}),(0,es.jsxs)("p",{className:"label-3 d-flex align-items-flex-start text-truncate",children:[(0,es.jsx)("span",{className:"font-size-18 flex-shrink-0 me-1 font-weight-400",style:By,children:""}),(0,es.jsx)("span",{className:"flex-shrink-0","data-qa":"account-number-last4-label",children:i.usBankAccount.accountNumberLast4})]})]})]}),(0,es.jsx)("div",{className:a?"mt-5":"flex-grow-1 min-h-0 p-rel mt-4",children:(0,es.jsx)("div",{className:(0,Cs.Z)({"p-abs top-left bottom-right text-scrollable":!a}),children:(0,es.jsx)("p",{className:(0,Cs.Z)("body-4 text-gray-80 text-ellipsis",{"px-3 py-2-5":!a,"pointer-events-none":i.locked}),children:i.isRecurring?s.translate("usBankAccountConfirmationScreen.mandateRecurring",{companyName:i.companyName}):s.translate("usBankAccountConfirmationScreen.mandate",{companyName:i.companyName,payButtonTitle:s.translate("usBankAccountConfirmationScreen.button")})})})})]})}),(0,es.jsx)(zo,{children:(0,es.jsx)(Lc,{className:"btn-primary",processingState:i.processingState,tooltipTitle:i.payErrorMessage,onClick:()=>{n.leave()},dataQa:"us-bank-account-pay-button",trackingElement:"nextButton",children:s.translate("usBankAccountConfirmationScreen.button")})})]})},[fn.US_BANK_ACCOUNT_VERIFICATION_GUIDE]:e=>{const{showBadge:t}=e,i=(0,Fs.Y)(),n=(0,As.S)(),a=(0,Ns.q)(),{state:r,controller:s}=ms(fn.US_BANK_ACCOUNT_VERIFICATION_GUIDE);return(0,es.jsxs)("div",{className:a("flow-screen"),"data-qa":"active-screen-us-bank-account-guide",children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:i.translate("common.screenEntered",{screenTitle:`${i.translate("usBankAccountGuideScreen.title")}`})}),(0,es.jsx)(sc,{title:i.translate("usBankAccountGuideScreen.title"),showBadge:t}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",{"pt-6":!n}),children:(0,es.jsx)(Zy,{statementDescriptor:r.statementDescriptor,amountExample:s.amountExample,descriptorCodeExample:s.descriptorCodeExample,showAmountExample:"amounts"===r.verificationType,showDescriptorCodeExample:"descriptor_code"===r.verificationType})}),(0,es.jsx)(zo,{children:(0,es.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{s.leave()},"data-qa":"us-bank-account-micro-dep-continue-button",children:i.translate("usBankAccountGuideScreen.button")})})]})},[fn.CREDIT_CARD]:wh,[fn.UK_BACS]:e=>{var t,i,n;const{showBadge:a}=e,{state:r,controller:s}=ms(fn.UK_BACS),o=(0,As.S)(),c=(0,Ns.q)(),l=(0,Fs.Y)(),u=(0,is.useRef)(null),d=(0,is.useRef)(null),h=(0,is.useRef)(null),[m,p]=(0,is.useState)(!1),[g,f]=(0,is.useState)(!1),y=Xc(r.shakeKey,0!==r.shakeKey),v=oc();Hc(u,!0),(0,is.useEffect)((()=>{if(r.sortCode||r.accountNumber||r.accountHolderName)return;if(r.livemode||!v)return;if(!u.current||!d.current||!h.current)throw new Error("Input fields refs are not defined");const e=s.fillDemoData({sortCode:u,accountNumber:d,accountHolderName:h});return()=>{e()}}),[v,s,r.livemode]);const S=(0,is.useCallback)((e=>{const t=e.target.value;s.changeSortCode(t),d.current&&6===t.length&&d.current.focus()}),[s]),C=(0,is.useCallback)((e=>{const t=e.target.value;s.changeAccountNumber(t),h.current&&17===t.length&&h.current.focus()}),[s]);return(0,es.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.leave()},className:c("flow-screen"),"data-qa":"uk-bacs-title",children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:l.translate("common.screenEntered",{screenTitle:`${l.translate("ukBacsScreen.title")}`})}),(0,es.jsx)(sc,{showBadge:a,children:(0,es.jsx)("h2",{className:(0,Cs.Z)("title-2",{"py-2":o}),"aria-label":l.translate("ukBacsScreen.title"),children:(0,es.jsx)("span",{className:"icon-slot d-block","aria-hidden":"true",children:(0,es.jsx)("span",{className:"p-abs centered",children:(0,es.jsx)(by,{className:"d-block text-black",width:87,height:28})})})})}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",{"py-5":!o,"animation-shake":y}),children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsx)(Ad,{children:(0,es.jsxs)("div",{className:"d-flex align-items-center text-sans-serif",dir:"ltr",children:[(0,es.jsx)("div",{className:(0,Cs.Z)("body-4 px-1 py-0-5 border-radius-2 me-2",{"text-white bg-primary":m}),style:m?Ay:void 0,children:"119562"}),(0,es.jsx)("div",{className:(0,Cs.Z)("body-4 px-1 py-0-5 border-radius-2",{"text-white bg-primary":g}),style:g?Ay:void 0,children:"89156282"})]})}),(0,es.jsxs)("div",{className:"group-stacked-vertical mt-5",children:[(0,es.jsxs)("div",{className:"group",children:[(0,es.jsx)("label",{className:"sr-only",children:l.translate("ukBacsScreen.sortCode")}),(0,es.jsx)("input",{ref:u,type:"text",name:"sortCode",className:(0,Cs.Z)("form-control text-sans-serif",{"has-error":r.errors.sortCode}),placeholder:l.translate("ukBacsScreen.sortCode"),value:null!==(t=r.sortCode)&&void 0!==t?t:"",disabled:r.locked,onKeyPress:fy,onChange:S,onFocus:()=>p(!0),onBlur:()=>p(!1),"data-qa":"sort-code"}),r.errors.sortCode&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:l.translate("ukBacsScreen.sortCodeError")})]}),(0,es.jsxs)("div",{className:"group",children:[(0,es.jsx)("label",{className:"sr-only",children:l.translate("ukBacsScreen.accountNumber")}),(0,es.jsx)("input",{ref:d,type:"text",name:"ukBacsAccountNumber",className:(0,Cs.Z)("form-control text-sans-serif",{"has-error":r.errors.accountNumber}),placeholder:l.translate("ukBacsScreen.accountNumber"),value:null!==(i=r.accountNumber)&&void 0!==i?i:"",disabled:r.locked,onKeyPress:fy,onChange:C,onFocus:()=>f(!0),onBlur:()=>f(!1),"data-qa":"account-number"}),r.errors.accountNumber&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:l.translate("ukBacsScreen.accountNumberError")})]})]}),(0,es.jsxs)("div",{className:"p-rel mt-4",children:[(0,es.jsx)("label",{className:"sr-only",children:l.translate("ukBacsScreen.accountHolderName")}),(0,es.jsx)("input",{ref:h,type:"text",name:"ukBacsAccountHolderName",className:(0,Cs.Z)("form-control text-sans-serif",{"has-error":r.errors.accountHolderName}),placeholder:l.translate("ukBacsScreen.accountHolderName"),minLength:1,value:null!==(n=r.accountHolderName)&&void 0!==n?n:"",disabled:r.locked,onChange:e=>s.changeAccountHolderName(e.target.value),"data-qa":"account-holder-name"}),r.errors.accountHolderName&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:l.translate("ukBacsScreen.accountHolderNameError")})]}),(0,es.jsxs)("div",{className:"mt-4",children:[(0,es.jsx)(al,{customLabelClasses:"line-height-18 text-gray-80",checked:r.termsChecked,error:r.errors.termsChecked,disabled:r.locked,onChange:()=>s.toggleTermsChecked(),"data-qa":"uk-bacs-legal-checkbox",children:(0,es.jsx)("span",{className:(0,Cs.Z)("body-4",{"text-line-clamp-8":!o}),"data-qa":"uk-bacs-legal-text-label",children:l.translate("ukBacsScreen.legalInformation",{companyName:r.companyName})})}),r.errors.termsChecked&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:l.translate("ukBacsScreen.legalInformationError")})]})]})}),(0,es.jsx)(zo,{children:(0,es.jsx)(Lc,{type:"submit",className:"btn-primary",processingState:r.processingState,tooltipTitle:r.payErrorMessage||l.translate("common.errorOccurredText"),dataQa:"uk-bacs-continue-button",trackingElement:"nextButton",children:l.translate("ukBacsScreen.continueButton")})})]})},[fn.UK_BACS_CONFIRMATION]:e=>{const{showBadge:t}=e,{state:i,controller:n}=ms(fn.UK_BACS_CONFIRMATION),a=(0,As.S)(),r=(0,Ns.q)(),s=(0,Fs.Y)(),o=Mi(i.ukBacs.sortCode.match(/(\d{2})/g)||[],"-");return(0,es.jsxs)("div",{className:r("flow-screen"),children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:s.translate("common.screenEntered",{screenTitle:`${s.translate("ukBacsConfirmationScreen.title")}`})}),(0,es.jsx)(sc,{title:s.translate("ukBacsConfirmationScreen.title"),showBadge:t,titleQa:"uk-bacs-confirmation-title"}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",{"pt-5 pb-3":!a}),children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsx)("p",{className:"text-center text-truncate",children:s.translate("ukBacsConfirmationScreen.description")}),(0,es.jsxs)("div",{className:(0,Cs.Z)("bg-white border-radius-8",a?"mt-5":"mt-4"),style:Ey,children:[(0,es.jsxs)("div",{className:"px-3 py-2",style:xy,children:[(0,es.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:s.translate("ukBacsConfirmationScreen.email")}),(0,es.jsx)("p",{className:"label-3 text-truncate",children:i.email})]}),(0,es.jsxs)("div",{className:"px-3 py-2",style:xy,children:[(0,es.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:s.translate("ukBacsConfirmationScreen.name")}),(0,es.jsx)("p",{className:"label-3 text-truncate",children:i.ukBacs.accountHolderName})]}),(0,es.jsxs)("div",{className:"px-3 py-2",children:[(0,es.jsx)("p",{className:"caption-1 text-truncate text-gray-60",children:s.translate("ukBacsConfirmationScreen.accountDetails")}),(0,es.jsxs)("div",{className:"d-flex text-sans-serif",children:[(0,es.jsx)("p",{className:"label-3 text-truncate me-3",children:o}),(0,es.jsx)("p",{className:"label-3 text-truncate",children:i.ukBacs.accountNumber})]})]})]}),(0,es.jsx)(Ol,{className:(0,Cs.Z)("body-4",a?"text-ellipsis mt-4":"text-line-clamp-7 mt-2"),as:"p",token:"ukBacsConfirmationScreen.legalInformation",params:{statementDescriptor:i.company.stripe.ukBacsDisplayName,email:i.email}}),(0,es.jsx)("hr",{className:"my-3"}),(0,es.jsxs)("div",{className:"d-flex align-items-center",children:[(0,es.jsx)(Ol,{className:(0,Cs.Z)("body-4",a?"text-ellipsis":"line-height-16 text-line-clamp-2 p-1 m-minus-1",{"pointer-events-none":i.locked}),as:"p",token:"ukBacsConfirmationScreen.guarantee",params:{link:"https://stripe.com/bacs_debit/direct-debit-guarantee"}}),(0,es.jsx)("div",{className:"flex-shrink-0 ms-3","aria-hidden":"true",children:(0,es.jsx)(by,{className:"d-block text-gray-60",width:67,height:22})})]})]})}),(0,es.jsx)(zo,{children:(0,es.jsx)(Lc,{className:"btn-primary",processingState:i.processingState,tooltipTitle:i.payErrorMessage,onClick:()=>{n.leave()},dataQa:"uk-bacs-pay-button",trackingElement:"nextButton",children:pc(s,i.formattedAmount,i.frequency)})})]})},[fn.AU_BECS]:e=>{const{transitionEntered:t,showBadge:i}=e,{state:n,controller:a}=ms(fn.AU_BECS),r=(0,As.S)(),s=(0,Ns.q)(),o=(0,Fs.Y)(),c=mo(),l=(0,as.R)(),[d,h]=(0,is.useState)(),m=(0,is.useRef)(null),p=Xc(n.shakeKey,0!==n.shakeKey),[g,f]=(0,is.useState)(!1),y=(0,is.useRef)(!1);return(0,is.useEffect)((()=>{(0,u.mG)(void 0,void 0,void 0,(function*(){if(!m.current)throw new Error("auBankAccountContainerRef is not provided");const{stripeElements:e}=yield a.initiateAuBECS(m.current);h(e)}))}),[a]),(0,is.useEffect)((()=>{if(y.current=!1,!d||!t)return;const e=d.getElement("auBankAccount");if(!e){if(c)return;throw new Error("auBankAccount element is not initialized")}const i=()=>{y.current?l.document.dispatchEvent(new Event("stripeElementEvent")):y.current=!0,f(!0)},n=()=>{f(!1)};return e.on("focus",i),e.on("blur",n),r||e.focus(),()=>{e.off("focus",i),e.off("blur",n)}}),[a,t,d,c,l,r]),(0,es.jsxs)("form",{className:s("flow-screen"),onSubmit:e=>{e.preventDefault(),a.leave()},children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:o.translate("common.screenEntered",{screenTitle:`${o.translate("auBECSScreen.title")}`})}),(0,es.jsx)(sc,{title:o.translate("auBECSScreen.title"),showBadge:i,titleQa:"au-becs-title"}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",{"pt-5 pb-8":!r}),children:(0,es.jsxs)("div",{className:(0,Cs.Z)("fixed-container",{"flex-grow-1 d-flex flex-column":!r}),children:[(0,es.jsx)("p",{className:(0,Cs.Z)("text-center",r?"text-ellipsis":"text-line-clamp-4"),children:o.translate("auBECSScreen.description")}),(0,es.jsx)(Ad,{className:r?"mt-7":"mt-5",children:(0,es.jsxs)("div",{className:"d-flex align-items-center text-sans-serif",dir:"ltr",children:[(0,es.jsx)("div",{className:(0,Cs.Z)("body-4 px-1 py-0-5 border-radius-2 me-3",{"text-white bg-primary":g}),style:g?Ed:void 0,children:"000-000"}),(0,es.jsx)("div",{className:(0,Cs.Z)("body-4 px-1 py-0-5 border-radius-2",{"text-white bg-primary":g}),style:g?Ed:void 0,children:"000123456"})]})}),(0,es.jsx)("div",{className:(0,Cs.Z)(r?"mt-7":"mt-5",{"animation-shake":p,"pointer-events-none":n.locked}),children:(0,es.jsx)("div",{ref:m})}),(0,es.jsx)("div",{className:r?"mt-5":"flex-grow-1 min-h-0 p-rel mt-4",children:(0,es.jsx)("div",{className:(0,Cs.Z)({"p-abs top-left bottom-right text-scrollable":!r}),children:(0,es.jsx)(Ol,{className:(0,Cs.Z)("body-4 text-gray-80 text-ellipsis",{"px-3 py-2-5":!r,"pointer-events-none":n.locked}),as:"p",token:"auBECSScreen.legalInformation"})})})]})}),(0,es.jsx)(zo,{children:(0,es.jsx)(Lc,{type:"submit",className:"btn-primary",tooltipTitle:n.payErrorMessage,processingState:n.processingState,dataQa:"au-becs-continue-button",trackingElement:"nextButton",children:o.translate("auBECSScreen.continueButton")})})]})},[fn.DOUBLE]:kp,[fn.GIFT_AID]:e=>{const{transitionEntered:t,showBadge:i}=e,{state:n,controller:a}=ms(fn.GIFT_AID),r=(0,Fs.Y)(),s=(0,As.S)(),o=(0,Ns.q)(),c=mo(),l=(0,is.useCallback)((e=>{a.changeGiftAid(e),a.leave()}),[a]),u=(0,is.useCallback)((()=>{l(!1)}),[l]);return(0,is.useEffect)((()=>{c||t&&a.setShown()}),[t,a,c]),(0,es.jsxs)("div",{className:o("flow-screen"),"data-qa":"active-screen-gift-aid",children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:r.translate("common.screenEntered",{screenTitle:`${r.translate("giftAidScreen.title")}`})}),(0,es.jsx)(sc,{showBadge:i,children:(0,es.jsx)("h2",{className:(0,Cs.Z)("title-2",{"py-2":s}),"aria-label":r.translate("giftAidScreen.title"),children:(0,es.jsx)("span",{className:"icon-slot d-block","aria-hidden":"true",children:(0,es.jsx)("span",{className:"p-abs centered",children:(0,es.jsx)(Ip,{className:"d-block"})})})})}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",s?"pb-2":"pb-4 pt-6"),children:(0,es.jsxs)("div",{className:(0,Cs.Z)("fixed-container",{"flex-grow-1 d-flex flex-column":!s}),children:[(0,es.jsxs)("p",{className:(0,Cs.Z)("text-center",s?"text-ellipsis":"text-line-clamp-6"),children:[r.translate("giftAidScreen.governmentText")," ",r.translate("giftAidScreen.ratioInfo")]}),(0,es.jsx)(Ol,{as:"p",className:(0,Cs.Z)("subtitle-4 text-center mt-4-5",s?"text-ellipsis":"text-line-clamp-3"),token:"giftAidScreen.actionQuestion"}),n.legalText&&(0,es.jsx)("div",{className:"flex-grow-1 mt-4-5 d-flex flex-column",children:(0,es.jsx)(Pp,{})})]})}),(0,es.jsxs)(zo,{children:[(0,es.jsx)("button",{type:"button",className:"btn btn-primary",disabled:n.locked,onClick:()=>l(!0),"data-qa":"gift-aid-continue","data-tracking-element-name":"claimButton",children:r.translate("giftAidScreen.claimButtonTitle")}),(0,es.jsx)("div",{className:"d-flex justify-content-center mt-5",children:(0,es.jsx)(Lc,{buttonType:"link",onClick:u,processingState:n.processingState,tooltipMessage:n.payErrorMessage||r.translate("common.errorOccurredText"),dataQa:"no-gift-aid-and-pay",trackingElement:"dontClaimButton",children:n.isPaymentScreen?wp(r,n.formattedAmount,n.frequency):r.translate("giftAidScreen.refuseButtonTitle")})})]})]})},[Fa.REMIND_ME]:()=>{const{state:e,controller:t}=ms(Fa.REMIND_ME),i=(0,Fs.Y)(),n=(0,As.S)(),a=(0,Ns.q)(),r=(0,is.useId)(),s=(0,is.useRef)(null);return Hc(s,!0),(0,es.jsxs)("div",{className:(0,Cs.Z)(a("flow-screen"),a("remind-me-screen"),"dark-theme text-white"),children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:i.translate("common.screenEntered",{screenTitle:`${i.translate("remindMeScreen.title")}`})}),(0,es.jsx)(sc,{children:(0,es.jsx)("h2",{className:n?"title-1 text-ellipsis":"title-2 text-line-clamp-2",children:i.translate("remindMeScreen.title")})}),(0,es.jsx)(jo,{className:"px-body py-8",children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsxs)("div",{className:"p-rel",children:[(0,es.jsx)(mu,{className:"d-block mx-auto",width:80,height:80,ariaHidden:!0}),(0,es.jsx)(du,{className:"d-block p-abs centered-top mt-1-5",width:50,height:62,ariaHidden:!0}),(0,es.jsx)(lu,{className:"d-block p-abs centered-top ms-4 mt-1",width:24,height:24,ariaHidden:!0})]}),(0,es.jsx)("p",{className:(0,Cs.Z)("text-center mt-6",n?"text-ellipsis":"text-line-clamp-5"),children:i.translate("remindMeScreen.description")}),(0,es.jsxs)("div",{className:(0,Cs.Z)(n?"mt-6":"mt-8",{"animation-shake":!e.email.isValid}),children:[(0,es.jsx)("label",{className:"sr-only",htmlFor:r,children:i.translate("remindMeScreen.emailInput.label")}),(0,es.jsx)("input",{type:"text",ref:s,id:r,className:(0,Cs.Z)("form-control",{"has-error":!e.email.isValid}),placeholder:i.translate("remindMeScreen.emailInput.placeholder"),name:"email",autoComplete:"email",disabled:e.locked,value:e.email.value,onChange:e=>{t.updateEmail(e.target.value)}}),!e.email.isValid&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:i.translate("remindMeScreen.emailInput.errors.required")}),e.isTermsAndConditionsEnabled&&(0,es.jsx)(ou,{className:"mt-4",text:e.termsAndConditions.text,checked:e.termsAndConditions.isAccepted,isValid:e.termsAndConditions.isValid,onTermsAcceptionChange:()=>{t.updateIsTermsAndConditionsAccepted(!e.termsAndConditions.isAccepted)}})]})]})}),(0,es.jsx)(zo,{backButtonClass:"text-white-hover-white",children:(0,es.jsx)(su,{})})]})},[fn.POST_DONATION_UPSELL]:gy,[fn.SEPA]:e=>{const{transitionEntered:t,showBadge:i}=e,{state:n,controller:a}=ms(fn.SEPA),r=(0,Fs.Y)(),s=(0,As.S)(),o=(0,Ns.q)(),c=(0,is.useRef)(null),[l,d]=(0,is.useState)(),h=Xc(n.shakeKey,0!==n.shakeKey),m={maxHeight:s?void 0:"150px"},p=(0,is.useRef)(!1),g=(0,as.R)();return(0,is.useEffect)((()=>{(0,u.mG)(void 0,void 0,void 0,(function*(){if(!c.current)throw new Error("ibanContainerRef is not provided");const{stripeElements:e}=yield a.initiateSepa(c.current);d(e)}))}),[a]),(0,is.useEffect)((()=>{if(p.current=!1,!l||!t)return;const e=l.getElement("iban");if(!e)throw new Error("iban element is not initialized");e.on("focus",(()=>{p.current?g.document.dispatchEvent(new Event("stripeElementEvent")):p.current=!0})),s||e.focus()}),[a,t,l,g,s]),(0,es.jsxs)("form",{className:o("flow-screen"),onSubmit:e=>{e.preventDefault(),a.leave()},children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:r.translate("common.screenEntered",{screenTitle:`${r.translate("sepaScreen.title")}`})}),(0,es.jsx)(sc,{title:r.translate("sepaScreen.title"),showBadge:i,titleQa:"sepa-title"}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",{"py-5":!s}),children:(0,es.jsxs)("div",{className:(0,Cs.Z)("fixed-container",{"flex-grow-1 d-flex flex-column":!s}),children:[(0,es.jsx)("p",{className:(0,Cs.Z)("text-center",s?"text-ellipsis":"text-line-clamp-4"),children:r.translate("sepaScreen.description")}),(0,es.jsx)("div",{className:(0,Cs.Z)("mt-5",{"animation-shake":h,"pointer-events-none":n.locked}),children:(0,es.jsx)("div",{ref:c})}),(0,es.jsx)("div",{className:s?"mt-5":"flex-grow-1 min-h-0 p-rel mt-4",style:m,children:(0,es.jsx)("div",{className:(0,Cs.Z)({"p-abs top-left bottom-right text-scrollable":!s}),children:(0,es.jsx)("p",{className:(0,Cs.Z)("body-4 text-gray-80 text-ellipsis",{"px-3 py-2-5":!s,"pointer-events-none":n.locked}),children:r.translate("sepaScreen.legalInformation")})})})]})}),(0,es.jsx)(zo,{children:(0,es.jsx)(Lc,{type:"submit",className:"btn-primary",tooltipTitle:n.payErrorMessage,processingState:n.processingState,dataQa:"sepa-continue-button",trackingElement:"nextButton",children:r.translate("sepaScreen.continueButton")})})]})},[fn.IDEAL]:e=>{const{showBadge:t}=e,{state:i,controller:n}=ms(fn.IDEAL),a=(0,Fs.Y)(),r=(0,As.S)(),s=(0,Ns.q)(),o=Xc(i.shakeKey,0!==i.shakeKey),c=(0,is.useMemo)((()=>{var e;return T()(e=i.options).call(e,(e=>{let{label:t,id:i}=e;return{id:i,value:t}}))}),[i.options]),l=(0,is.useMemo)((()=>({id:i.bank.id,value:i.bank.label})),[i.bank]),u=(0,is.useCallback)((e=>{n.setBank(e)}),[n]),d=(0,is.useCallback)((()=>n.resetValidation()),[n]),h={maxHeight:r?void 0:"180px"};return(0,es.jsxs)("form",{className:s("flow-screen"),onSubmit:e=>{e.preventDefault(),n.leave()},children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenEntered",{screenTitle:`${a.translate("idealScreen.title")}`})}),(0,es.jsx)(sc,{showBadge:t,children:(0,es.jsxs)("h2",{className:"title-2 d-flex align-items-center justify-content-center",children:[(0,es.jsx)("span",{className:"flex-shrink-0 icon-slot icon-slot-28 me-1","aria-hidden":"true",children:(0,es.jsx)("span",{className:"p-abs centered font-size-28",children:(0,es.jsx)(Wp,{className:"icon d-block"})})}),(0,es.jsx)("span",{className:r?"text-ellipsis":"text-line-clamp-2","data-qa":"ideal-title",children:a.translate("idealScreen.title")})]})}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",{"pt-6 pb-8":!r}),children:(0,es.jsxs)("div",{className:(0,Cs.Z)("fixed-container",{"flex-grow-1 d-flex flex-column":!r}),children:[(0,es.jsx)(Bp,{className:"d-block mx-auto",width:109,height:88,ariaHidden:!0}),(0,es.jsx)("p",{className:(0,Cs.Z)("text-center mt-2",r?"text-ellipsis":"text-line-clamp-3"),children:a.translate("idealScreen.description")}),(0,es.jsxs)("div",{className:(0,Cs.Z)("mt-6",{"animation-shake":o}),children:[(0,es.jsx)(Lp,{className:"search-select-bank",placeholder:i.bank.label||a.translate("idealScreen.selectBankPlaceholder"),selectedOption:l,options:c,onSelect:u,onChange:d,displayName:i.bank.label,clearOnFocus:!0,showIcons:!0,hasError:!i.validation.fields.bank.isValid,showInputPrefix:!!i.bank.id,SelectedIconToRender:Fp,ListItemToRender:jp,disabled:i.locked,qa:"ideal-bank-select"}),!i.validation.fields.bank.isValid&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:a.translate("idealScreen.selectBankError")})]}),i.isSubscription&&(0,es.jsx)("div",{className:r?"mt-5":"flex-grow-1 p-rel mt-4",style:h,children:(0,es.jsx)("div",{className:r?"border-top-1-gray-20":"p-abs top-left bottom-right text-scrollable",children:(0,es.jsx)(Ol,{className:(0,Cs.Z)("body-4 text-gray-80 text-ellipsis",r?"pt-4-5":"px-3 py-2-5",{"pointer-events-none":i.locked}),as:"p",token:"idealScreen.legalInformation"})})})]})}),(0,es.jsx)(zo,{children:(0,es.jsx)(Lc,{type:"submit",className:"btn-primary",processingState:i.processingState,tooltipTitle:i.errorMessage||a.translate("common.errorOccurredText"),dataQa:"ideal-continue-button",trackingElement:"nextButton",children:a.translate("idealScreen.continueButton")})})]})},[fn.IDEAL_CONFIRMATION]:e=>{const{showBadge:t}=e,{state:i,controller:n}=ms(fn.IDEAL_CONFIRMATION),a=(0,As.S)(),r=(0,Ns.q)(),s=(0,Fs.Y)(),o=(0,is.useCallback)((()=>{n.leave()}),[n]),c=(0,is.useCallback)((()=>{n.returnToBankWindow()}),[n]),l=(0,is.useCallback)((()=>{n.back()}),[n]);return(0,es.jsxs)("div",{className:r("flow-screen"),children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:s.translate("common.screenEntered",{screenTitle:`${s.translate("idealConfirmationScreen.title")}`})}),(0,es.jsx)(sc,{backButtonClickHandler:l,title:s.translate("idealConfirmationScreen.title"),showBadge:t,titleQa:"ideal-confirmation-title"}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",{"py-5":!a}),children:i.showReturnBankInfo?(0,es.jsx)(og,{ideal:i.ideal}):(0,es.jsx)(eg,{ideal:i.ideal,email:i.email,name:i.name})}),(0,es.jsx)(zo,{backButtonClickHandler:l,children:i.showReturnBankInfo?(0,es.jsx)(Lc,{className:"btn-primary",processingState:"idle",trackingElement:"nextButton",onClick:c,children:s.translate("idealConfirmationScreen.return.button")}):(0,es.jsxs)(es.Fragment,{children:[n.showNextStepOverview&&(0,es.jsx)("p",{className:"body-4 text-center text-ellipsis mb-4",children:s.translate("idealConfirmationScreen.nextStepOverview",{bank:i.ideal.bank})}),(0,es.jsx)(Lc,{className:"btn-primary",processingState:i.processingState,tooltipTitle:i.errorMessage||s.translate("common.errorOccurredText"),onClick:o,dataQa:"ideal-pay-button",trackingElement:"nextButton",children:pc(s,i.formattedAmount,i.frequency)})]})})]})},[fn.CLICK_TO_PAY_SPLASH]:e=>{const{showBadge:t}=e,{controller:i}=ms(fn.CLICK_TO_PAY_SPLASH),n=(0,Fs.Y)(),a=(0,Vs.S)(),r=(0,As.S)(),s=(0,Ns.q)(),o=mo();(0,is.useEffect)((()=>{if(!o)return i.initiateClickToPay({}),()=>i.destroyClickToPay()}),[i,o]);const c=(0,is.useCallback)((()=>{(0,u.mG)(void 0,void 0,void 0,(function*(){o||(yield i.startClickToPay(),yield i.leave())}))}),[i,o]);return(0,es.jsxs)("div",{className:s("flow-screen"),"data-qa":"active-screen-click-to-pay-splash",children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:n.translate("common.screenEntered",{screenTitle:`${n.translate("clickToPayScreen.title")}`})}),(0,es.jsx)(sc,{showBadge:t,children:(0,es.jsxs)("h2",{className:"title-2 d-flex align-items-center justify-content-center",children:[(0,es.jsx)("span",{className:"flex-shrink-0 icon-slot icon-slot-24 me-2","aria-hidden":"true",children:(0,es.jsx)("div",{className:"p-abs centered font-size-24",children:(0,es.jsx)(Vd,{className:"d-block icon-fill"})})}),(0,es.jsx)("span",{className:r?"text-ellipsis":"text-line-clamp-2",children:n.translate("clickToPayScreen.title")})]})}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",r?"justify-content-center":"pt-8"),children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsxs)("div",{className:"d-flex align-items-start",children:[(0,es.jsx)("div",{className:"flex-shrink-0 me-4","aria-hidden":"true",children:(0,es.jsx)(Rd,{className:(0,Cs.Z)("d-block",{"icon-flip-horizontal":a})})}),(0,es.jsxs)("p",{className:"text-ellipsis",children:[(0,es.jsx)("span",{className:"subtitle-4",children:n.translate("clickToPayScreen.speedSection.title")})," ",n.translate("clickToPayScreen.speedSection.message")]})]}),(0,es.jsxs)("div",{className:"d-flex align-items-start mt-8",children:[(0,es.jsx)("div",{className:"flex-shrink-0 me-4","aria-hidden":"true",children:(0,es.jsx)(lh,{className:"d-block"})}),(0,es.jsxs)("p",{className:"text-ellipsis",children:[(0,es.jsx)("span",{className:"subtitle-4",children:n.translate("clickToPayScreen.securitySection.title")})," ",n.translate("clickToPayScreen.securitySection.message")]})]}),(0,es.jsxs)("div",{className:"d-flex align-items-start mt-8",children:[(0,es.jsx)("div",{className:"flex-shrink-0 me-4","aria-hidden":"true",children:(0,es.jsx)(ah,{className:"d-block"})}),(0,es.jsxs)("p",{className:"text-ellipsis",children:[(0,es.jsx)("span",{className:"subtitle-4",children:n.translate("clickToPayScreen.safetySection.title")})," ",n.translate("clickToPayScreen.safetySection.message")]})]})]})}),(0,es.jsxs)(zo,{children:[(0,es.jsx)("p",{className:"body-3 text-center text-ellipsis",children:n.translate("clickToPayScreen.buttonTitle")}),(0,es.jsxs)("button",{type:"button",onClick:c,className:"btn btn-height d-flex align-items-center justify-content-center text-white bg-black border-radius-24 py-0 mt-3","data-qa":"start-click-to-pay","aria-label":n.translate("common.clickToPayButton"),children:[(0,es.jsx)(Vd,{className:"flex-shrink-0 mx-1",width:30,height:30,"aria-hidden":"true"}),(0,es.jsx)("span",{className:"flex-shrink-0 h-45 border-left-1-white mx-1","aria-hidden":"true"}),(0,es.jsx)(Jd,{className:"flex-shrink-0 mx-1",width:29,height:18,"aria-hidden":"true"}),(0,es.jsx)(mh,{className:"flex-shrink-0 mx-1",width:40,height:14,"aria-hidden":"true"}),(0,es.jsx)(Td,{className:"flex-shrink-0 mx-1",width:20,height:20,"aria-hidden":"true"}),(0,es.jsx)(jd,{className:"flex-shrink-0 mx-1",ariaHidden:!0})]})]})]})},[Fa.QUESTIONS]:au,[Fa.PRIVACY]:e=>{const{showBadge:t}=e,{controller:i,state:n}=ms(Fa.PRIVACY),a=(0,As.S)(),r=(0,Ns.q)(),s=(0,Fs.Y)(),o=Xc(n.shakeKey,0!==n.shakeKey),c=(0,is.useCallback)((e=>{e.preventDefault(),i.leave()}),[i]),l=(0,is.useCallback)((e=>i.changeBrokerageAccountNumber(e)),[i]),u=(0,is.useCallback)((e=>i.changeCustomerTitle(e)),[i]),d=(0,is.useCallback)((e=>i.changeFirstName(e)),[i]),h=(0,is.useCallback)((e=>i.changeLastName(e)),[i]),m=(0,is.useCallback)((e=>i.changeEmail(e)),[i]),p=(0,is.useCallback)((e=>i.changePhone(e)),[i]),g=(0,is.useCallback)((e=>i.changePlainPhone(e)),[i]),f=(0,is.useCallback)((e=>i.changeCountryCode(e)),[i]),y=(0,is.useCallback)((e=>i.changeCompanyName(e)),[i]),v=(0,is.useCallback)((()=>i.toggleOnBehalfOf()),[i]),S=(0,is.useCallback)((()=>i.toggleAnonymousChecked()),[i]),C=(0,is.useCallback)((()=>i.toggleSubscriptionChecked()),[i]),b=(0,is.useCallback)((()=>i.toggleTermsAndConditionsAccepted()),[i]);return(0,es.jsxs)("form",{onSubmit:c,className:r("flow-screen"),"data-qa":"active-screen-privacy","data-testid":"form",children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite","data-testid":"status",children:s.translate("common.screenEntered",{screenTitle:`${s.translate("privacyScreen.title")}`})}),n.isApplePayAlertVisible&&a&&(0,es.jsx)("div",{className:"px-body mt-5 mb-1",children:(0,es.jsx)("div",{className:"fixed-container",children:(0,es.jsxs)("div",{className:"py-2 px-3 border-1-gray-20 bg-blue-10 border-radius-6 text-center",role:"status",children:[(0,es.jsx)("p",{className:"subtitle-5 text-ellipsis",children:s.translate("privacyScreen.alert.title")}),(0,es.jsx)("p",{className:"body-3 text-ellipsis mt-0-5",children:s.translate("privacyScreen.alert.message")})]})})}),(0,es.jsx)(sc,{title:s.translate("privacyScreen.title"),showBadge:t,titleTestId:"title"}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",!a&&(!n.textIsVisible&&n.allOptionsEnabled?"py-3":"py-5"),{"animation-shake":o}),children:(0,es.jsxs)("div",{className:"fixed-container","aria-label":s.translate("privacyScreen.fieldsetAriaLabel"),children:[(n.textIsVisible||a)&&!(n.isApplePayAlertVisible&&a)&&(0,es.jsx)("p",{className:(0,Cs.Z)("text-center",a?"text-ellipsis":"text-line-clamp-2",a||!(n.onBehalfOf.isEnabled&&n.showAnonymous&&n.mailingListSubscription.show&&n.termsAndConditions.isEnabled)?"mb-6":"mb-3"),role:"status",children:s.translate("privacyScreen.description")}),n.brokerageAccountNumber.isEnabled&&(0,es.jsx)(ul,{brokerageAccountNumber:n.brokerageAccountNumber,autoFocus:n.autoFocus.brokerageAccountNumber,locked:n.locked,validation:n.validation,dataTestId:"privacy-brokerage-account-number",onChange:l}),(0,es.jsxs)("div",{className:(0,Cs.Z)("group-stacked-vertical",{"mt-3":!a&&n.brokerageAccountNumber.isEnabled,"mt-4":a&&n.brokerageAccountNumber.isEnabled}),"data-testid":"privacy-personal-information-container",children:[n.customerTitle.isEnabled&&(0,es.jsx)(yl,{customerTitle:n.customerTitle,locked:n.locked,validation:n.validation,autoFocus:n.autoFocus.customerTitle,dataTestId:"privacy-customer-title-select",onChange:u}),(0,es.jsx)(wl,{firstName:n.firstName,autoFocus:n.autoFocus.firstName,locked:n.locked,validation:n.validation,dataTestId:"privacy-first-name-input",onChange:d}),(0,es.jsx)(Pl,{lastName:n.lastName,locked:n.locked,validation:n.validation,dataTestId:"privacy-last-name-input",onChange:h})]}),(0,es.jsxs)("div",{className:(0,Cs.Z)(!a&&n.allOptionsEnabled?"mt-2":"mt-3",{"group-stacked-vertical":n.showPhone,"mt-4":a}),children:[(0,es.jsx)(xl,{email:n.email,emailConsent:n.emailConsent,locked:n.locked,validation:n.validation,dataTestId:"privacy-email-input",onChange:m}),n.showPhone&&(0,es.jsx)(is.Suspense,{fallback:(0,es.jsx)("span",{"data-testid":"privacy-phone-input-fallback"}),children:(0,es.jsx)(Ml,{phone:n.phone,phoneRequired:n.phoneRequired,userCountryCode:n.userCountryCode,showPhoneLegalText:n.showPhoneLegalText,phoneLegalText:n.phoneLegalText,locked:n.locked,validation:n.validation,dataTestId:"privacy-phone-input",onChange:p,onChangeCountryCode:f,onChangePlain:g})})]}),(0,es.jsxs)("div",{className:!a&&n.allOptionsEnabled?"mt-2":"mt-4",children:[n.onBehalfOf.isEnabled&&(0,es.jsx)(Tl,{onBehalfOf:n.onBehalfOf,locked:n.locked,validation:n.validation,dataTestIdCheckbox:"privacy-on-behalf-on-checkbox",dataTestIdInput:"privacy-on-behalf-on-input",onToggleOnBehalfOf:v,onChangeCompanyName:y}),n.showAnonymous&&(0,es.jsx)(cl,{className:"mt-2",anonymousChecked:n.anonymousChecked,locked:n.locked,dataTestId:"privacy-anonymous-checkbox",onToggle:S}),n.mailingListSubscription.show&&(0,es.jsx)(Rl,{className:"mt-2",mailingListSubscription:n.mailingListSubscription,locked:n.locked,dataTestId:"privacy-subscription-checkbox",onToggle:C}),n.termsAndConditions.isEnabled&&(0,es.jsx)(jl,{className:"mt-2",termsAndConditions:n.termsAndConditions,locked:n.locked,validation:n.validation,dataTestId:"privacy-terms-checkbox",onToggle:b})]})]})}),(0,es.jsx)(zo,{children:(0,es.jsx)(Lc,{type:"submit",className:"btn-primary",processingState:n.processingState,onClick:c,tooltipMessage:n.additionalPayErrorMessage||(n.serverErrors.email?s.translate("privacyScreen.emailInput.errors.message"):""),tooltipTitle:n.serverErrors.email?s.translate("privacyScreen.emailInput.errors.popupMessage"):n.payErrorMessage||s.translate("common.errorOccurredText"),dataQa:"privacy-continue",trackingElement:n.isPaymentScreen?"payButton":"nextButton",dataTestId:"pay-button",children:n.isPaymentScreen?pc(s,n.donation.formattedAmount,n.donation.frequency):s.translate("privacyScreen.continueButton")})})]})},[Fa.THANK_YOU]:bd,[Fa.COMMENT]:e=>{const{showBadge:t}=e,{state:i,controller:n}=ms(Fa.COMMENT),a=(0,Fs.Y)(),r=(0,As.S)(),s=mo(),o=(0,Ns.q)(),c=Zs(),l=!s,u=(0,is.useCallback)((e=>{e.preventDefault(),n.submitComment()}),[n]),d=(0,is.useCallback)((e=>{n.setComment(e.target.value)}),[n]);return(0,es.jsxs)("form",{"data-testid":"comment-form",onSubmit:u,className:o("flow-screen"),"data-qa":"active-screen-comment",children:[(0,es.jsx)(cc,{role:"status",autoFocus:r,children:a.translate("common.screenEntered",{screenTitle:`${a.translate("donateForm.commentScreen.title")}`})}),(0,es.jsx)(sc,{title:a.translate("donateForm.commentScreen.title"),showBadge:t}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",{"pt-8 pb-10":!r}),children:(0,es.jsx)("div",{className:(0,Cs.Z)("fixed-container",{"flex-grow-1 d-flex flex-column":!r}),children:(0,es.jsxs)("div",{className:(0,Cs.Z)({"flex-grow-1 d-flex flex-column":!r}),children:[(0,es.jsx)("label",{htmlFor:`comment-${c}`,className:"sr-only",children:a.translate("donateForm.commentScreen.placeholder")}),(0,es.jsx)("textarea",{id:`comment-${c}`,autoFocus:l,className:(0,Cs.Z)("form-control",{"flex-grow-1":!r}),style:lc,onChange:d,value:i.comment,placeholder:a.translate("donateForm.commentScreen.placeholder"),"data-qa":"comment","data-testid":"comment-input",maxLength:Lo.MAX_LENGTH})]})})}),(0,es.jsx)(zo,{children:(0,es.jsx)("button",{type:"submit",className:"btn btn-primary","data-qa":"save-comment","data-tracking-element-name":"nextButton",children:a.translate("donateForm.commentScreen.saveButton")})})]})},[Fa.MAILING_ADDRESS]:e=>{const{showBadge:t}=e,{state:i,controller:n}=ms(Fa.MAILING_ADDRESS),a=(0,Fs.Y)(),r=(0,As.S)(),s=(0,Ns.q)(),o=mo(),c=Zs(),l=(0,is.useCallback)((e=>{e.preventDefault(),n.leave()}),[n]),u=(0,is.useMemo)((()=>function(e){return function(e){const t=e||new dc;return new mc(t)}(new uc(e))}(a)),[a]),d=(0,is.useMemo)((()=>u.getByCountry(i.countryCode)),[u,i.countryCode]),h=Xc(i.shakeKey,0!==i.shakeKey),m=i.showAlternativeLabels?a.translate("addressForm.labels.zipFirst.line1"):a.translate("addressForm.labels.line1"),p=i.showAlternativeLabels?a.translate("addressForm.labels.zipFirst.line2"):a.translate("addressForm.labels.line2"),g=(0,is.useCallback)((e=>{o||n.search(e)}),[n,o]),f=(0,is.useCallback)((e=>n.changeLine1(e)),[n]),y=(0,is.useCallback)((e=>n.changeLine2(e)),[n]),v=(0,is.useCallback)((e=>n.changePostalCode(e)),[n]),S=(0,is.useCallback)((e=>n.changeCity(e)),[n]),C=(0,is.useCallback)(((e,t)=>{const i=n.getPlaceById(e),a=n.shouldFindSubplaces(i);return a?n.retrieveSubplaces(i,t):n.retrieveDetails(i),a}),[n]),b=(0,is.useCallback)((e=>C(e,"line1")),[C]),A=(0,is.useCallback)((e=>C(e,"postal")),[C]),E=(0,is.useMemo)((()=>{var e;return T()(e=i.places).call(e,(e=>{let{description:t,innerId:i}=e;return{id:i,value:t}}))}),[i.places]),x=(0,is.useRef)(null),k=(0,is.useRef)(null);return Hc(i.isZipFirstLayout?k:x,!0),(0,es.jsxs)("form",{className:s("flow-screen"),onSubmit:l,"data-qa":"active-screen-mailing-address",children:[(0,es.jsx)("div",{className:"sr-only",role:"status","aria-live":"polite",children:a.translate("common.screenEntered",{screenTitle:`${a.translate("mailingAddressScreen.title")}`})}),(0,es.jsx)(sc,{title:a.translate("mailingAddressScreen.title"),showBadge:t}),(0,es.jsx)(jo,{className:(0,Cs.Z)("px-body",{"py-8":!r,"animation-shake":h}),children:(0,es.jsxs)("div",{className:"fixed-container",children:[n.isOnBehalfOf&&(0,es.jsx)("p",{className:(0,Cs.Z)("text-center mb-5",r?"text-ellipsis":"text-line-clamp-3"),children:a.translate("mailingAddressScreen.onBehalfOfSubtitle")}),(0,es.jsxs)("div",{role:"group","aria-label":a.translate("mailingAddressScreen.addressGroupAriaLabel"),children:[i.isZipFirstLayout&&(0,es.jsxs)("div",{className:"mb-4",children:[(0,es.jsx)(Vc,{ref:k,inputClasses:"text-sans-serif",options:E,value:i.postal,onChange:v,onSelect:A,onSearch:g,hasError:!i.validation.fields.postal.isValid,placeholder:d.postcode,label:d.postcode,disabled:i.locked,loading:i.isLoadingPlaces,qa:"post-code",maxLength:qi.ZIP}),!i.validation.fields.postal.isValid&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:a.translate("addressForm.validErrorMessage",{field:d.postcode.toLowerCase()})})]}),(0,es.jsxs)("div",{className:"group-stacked-vertical p-rel z-index-5",children:[(0,es.jsxs)("div",{className:(0,Cs.Z)("group",{"has-error":!i.validation.fields.line1.isValid}),children:[!i.validation.fields.line1.isValid&&(0,es.jsx)("div",{role:"alert",className:"sr-only",children:n.getAriaErrorMessage(m)}),(0,es.jsx)(Vc,{ref:x,options:E,value:i.line1,onChange:f,onSelect:b,onSearch:g,placeholder:m,label:m,disabled:i.locked,loading:i.isLoadingPlaces,qa:"street",maxLength:qi.STREET})]}),(0,es.jsx)($c,{id:`address-line2-${c}`,value:i.line2,onChange:y,hasError:!i.validation.fields.line2.isValid,disabled:i.locked,autoComplete:"address-line2",label:p,placeholder:p,className:(0,Cs.Z)("group",{"has-error":!i.validation.fields.line2.isValid}),qa:"apartment-field",maxLength:qi.APARTMENT})]}),(0,es.jsx)($c,{id:`city-${c}`,value:i.city,onChange:S,hasError:!i.validation.fields.city.isValid,disabled:i.locked,autoComplete:"address-level2",label:a.translate("addressForm.city"),placeholder:a.translate("addressForm.city"),className:"mt-4",qa:"city",maxLength:qi.CITY}),!i.isZipFirstLayout&&(0,es.jsxs)("div",{className:"d-flex mt-4",children:[i.hasRegion&&(0,es.jsx)(Wc,{label:d.state}),(0,es.jsx)("div",{className:(0,Cs.Z)(i.hasRegion?"w-50 ps-1":"w-100"),children:(0,es.jsx)($c,{id:`postal-${c}`,inputClassName:"text-sans-serif",value:i.postal,onChange:v,hasError:!i.validation.fields.postal.isValid,disabled:i.locked,autoComplete:"postal-code",label:d.postcode,placeholder:d.postcode,qa:"zip-code",maxLength:qi.ZIP})})]}),(0,es.jsx)(Zc,{})]})]})}),(0,es.jsxs)(zo,{children:[(0,es.jsx)(Lc,{type:"submit",className:"btn-primary",processingState:i.processingState,tooltipMessage:i.additionalPayErrorMessage,tooltipTitle:i.hasServerValidationError?a.translate("mailingAddressScreen.validationError.title"):i.payErrorMessage||a.translate("common.errorOccurredText"),dataQa:"mailing-continue",trackingElement:i.isPaymentScreen&&i.isRequired?"payButton":"nextButton",dataTestId:"mailing-continue-button",children:i.isPaymentScreen&&i.isRequired?pc(a,i.formattedAmount,i.frequency):a.translate("mailingAddressScreen.continueButtonLabel")}),!i.isRequired&&(0,es.jsx)("div",{className:"d-flex justify-content-center mt-5",children:(0,es.jsx)("button",{type:"button",className:"btn-link text-truncate",disabled:i.locked,onClick:()=>n.skip(),"data-qa":"skip-button","data-tracking-element-name":"skipButton","data-testid":"mailing-skip-button",children:a.translate("mailingAddressScreen.skipButtonLabel")})})]})]})}},zy=x()({},$y),Wy=(Dt.MONEY,e=>{var t;let{onScreenEntered:i}=e;const n=(0,As.S)(),a=mo(),r=hs(),s=ws(),[o,c]=(0,is.useState)("next"),[l,u]=(0,is.useState)(r.getCurrentFlow().getCurrentScreen().name),[d,h]=(0,is.useState)(!0),[m,p]=(0,is.useState)([...r.checkoutService.checkoutUIState.alwaysRenderedScreens]),[g,f]=(0,is.useState)(),[y,v]=(0,is.useState)(),[C,b]=(0,is.useState)(),A=(0,is.useCallback)(((e,t,i)=>{s&&!a&&r.checkoutService.trackCheckoutScreenView(r.getCurrentFlow().getCurrentScreen().name,e,t,i)}),[r,a,s]);(0,is.useEffect)((()=>{s&&A()}),[A,s]),(0,is.useEffect)((()=>r.onScreenChanged((e=>{const t=r.getCurrentFlow().getCurrentScreen().name;l!==t&&(f(e.createdAt),v(e.transitionStartedAt),b(e.transitionFinishedAt),h(!1),c((null==e?void 0:e.direction)===bn.BACKWARD?"previous":"next"),u(t),p((e=>{const t=r.checkoutService.checkoutUIState.alwaysRenderedScreens;return e.length!==t.length||S()(t).call(t,(t=>!Be()(e).call(e,t)))?[...t]:e})))}))),[l,r]);const E=(0,is.useCallback)((()=>{if(!g)return;const e=new Date;h(!0),A(y,C,e)}),[A,g,y,C]);return(0,is.useEffect)((()=>{null==i||i(d)}),[i,d]),(0,es.jsx)(Oo,{children:(0,es.jsxs)(To.Provider,{value:d,children:[T()(t=ei()(zy)).call(t,(e=>{let[t,i]=e;return!Be()(m).call(m,t)&&(0,es.jsx)(Ro,{show:t===l,Screen:i,screenDirection:o,currentScreen:l,alwaysMount:!1,animationDisabled:n||a,onScreenEntered:E},t)})),T()(m).call(m,(e=>(0,es.jsx)(Ro,{show:e===l,Screen:zy[e],screenDirection:o,currentScreen:l,alwaysMount:!0,animationDisabled:n||a,onScreenEntered:E},e)))]})})}),Xy=(0,is.memo)(Wy),Qy={enter:400,exit:200},Jy=()=>{!function(){const e=(0,Fs.Y)(),t=hs(),i=mo(),[n,a]=(0,is.useState)((()=>t.getCurrentFlow().getCurrentScreen().name));(0,is.useEffect)((()=>t.onScreenChanged((()=>{a(t.getCurrentFlow().getCurrentScreen().name)}))),[t,n]);const r=(0,is.useCallback)((t=>{const i=e.translate("closeTabDialog.text");var a;if(a=n,!S()(Eo).call(Eo,(e=>e===a)))return(t||window.event).returnValue=i,i}),[e,n]);(0,is.useEffect)((()=>{if(i)return;window.addEventListener("beforeunload",r);const e=()=>window.removeEventListener("beforeunload",r);return t.checkoutService.setRemoveCloseGuard(e),e}),[t.checkoutService,r,i])}();const e=function(){const e=(0,ns.C)(),t=Rs();return!e.infrastructureParams.isMobile||t.showCloseButton}(),t=function(){const e=hs(),t=(0,ns.C)(),i=t.infrastructureParams.isMobile,n=t.infrastructureParams.showcase,[a,r]=(0,is.useState)((()=>!n)),s=(e,t,i)=>{const n=e.getCurrentFlow().getCurrentScreen().name,a=!e.checkoutService.checkoutUIState.isMobileScreenWithoutFaqLinks(n),s=e.checkoutService.checkoutUIState.showFAQLinks;r(t?s&&a:s)};return(0,is.useEffect)((()=>{if(n)return;const t=e.onScreenChanged((()=>{s(e,i)}));return s(e,i),t}),[e,i,n]),a}(),i=(0,as.R)(),n=(0,As.S)(),a=Ms("lg"),r=mo(),s=(0,Ns.q)(),{show:o,entered:c,handleOpenTransitionEntered:l,handleCloseClick:d,handleCloseTransitionExited:h}=function(){const e=(0,As.S)(),[t,i]=(0,is.useState)(!1),[n,a]=(0,is.useState)(!1),r=ys(),[s,o]=(0,is.useState)(!1),c=hs(),l=Rs(),d=(0,is.useCallback)((()=>(0,u.mG)(this,void 0,void 0,(function*(){c.shouldNotifyAbandoned()&&(yield c.checkoutService.abandon());const t=c.getCurrentFlow().getCurrentScreen().name;c.canClose({isMobile:e,isMobileExitScreen:l.isMobileExitScreen(t),isUnrestrictedExitScreen:l.isUnrestrictedExitScreen(t),isRemindMeLaterAvailableScreen:l.isRemindMeLaterAvailableScreen(t)})&&(yield c.checkoutService.saveCheckoutClosePublicParams(),a(!1))}))),[c,l,e]);(0,is.useEffect)((()=>{const e=()=>a(!0),t=e=>(0,u.mG)(this,void 0,void 0,(function*(){i(e.shouldReopen||!1),yield d()}));return r.on("should-show",e),r.on("should-hide",t),()=>{r.removeListener("should-show",e),r.removeListener("should-hide",t)}}),[d,r]);const h=(0,is.useCallback)((()=>{c.checkoutService.trackCheckoutClose(c.getCurrentFlow().getCurrentScreen().name),r.emit("was-hidden",{shouldReopen:t})}),[r,c,t]);return{show:n,entered:s,handleOpenTransitionEntered:(0,is.useCallback)((()=>{o(!0),c.checkoutService.trackCheckoutView()}),[c]),handleCloseTransitionExited:h,handleCloseClick:d}}(),m=(0,is.useRef)(null),p=(0,is.useRef)(null),{handleBlur:g,handleFocus:f,trapStartRef:y,trapStopRef:v}=Ds(m),C=(0,ns.C)(),b=hs(),A=Os(),E=Rs(),x=us(),k=C.getAskPageConfig(),w=k.show||!!C.fundraisingPage,[N,P]=(0,is.useState)(w),D=C.infrastructureParams.livemode,T=k.showLinks,_=(0,is.useRef)(null),[O,I]=(0,is.useState)(!1),[R,L]=(0,is.useState)(!0),{crypto:j,stock:M,money:F}=C.enabledFlows,U=(0,is.useMemo)((()=>{var e;return B()(e=[j,M,F]).call(e,Boolean).length>1&&R&&!O}),[j,R,F,M,O]),G=A.type,q=F&&G!==Dt.MONEY,K=j&&G!==Dt.CRYPTO,V=M&&G!==Dt.STOCK;(0,is.useEffect)((()=>{const e=e=>{"Escape"===e.code&&d()};return i.document.addEventListener("keyup",e),()=>{i.document&&i.document.removeEventListener("keyup",e)}}),[d,i.document]),(0,is.useEffect)((()=>b.onScreenChanged((()=>{const e=b.getCurrentFlow(),t=e.getCurrentScreen().name,a=!E.isMobileScreenWithoutAskPage(t);P(n?a&&w:w),L(e.isCurrentScreenFirst()),I(!1),i.document.body.classList.remove("overflow-hidden")}))),[E,b,n,w,i]);const[H,Y]=(0,is.useState)(!1),Z=(0,is.useCallback)((e=>{Y(e)}),[]),$=(0,is.useCallback)((()=>{if(!r)return;const e=new Event(vs.CLICK_SHOWCASE);i.parent.dispatchEvent(e)}),[i.parent,r]);return(0,is.useEffect)((()=>x.get(xr.UPSELL_CURTAIN_EXPERIMENT).onCurtainOpen((()=>{I(!0)}))),[x]),(0,is.useEffect)((()=>x.get(xr.UPSELL_CURTAIN_EXPERIMENT).onCurtainClose((()=>{I(!1)}))),[x]),(0,es.jsx)(es.Fragment,{children:(0,es.jsx)(ks.Provider,{value:c,children:(0,es.jsx)(Es.p.Provider,{value:c&&H,children:(0,es.jsx)(bs.Z,{in:o,timeout:Qy,classNames:n||r?{}:"modal",nodeRef:m,onEntered:l,onExited:h,unmountOnExit:!0,children:(0,es.jsx)("div",{className:(0,Cs.Z)(s("modal"),{"has-campaign":N,showcase:r}),ref:m,onFocus:f,onBlur:g,onClickCapture:$,children:(0,es.jsxs)(xs.Og.Provider,{value:m,children:[(0,es.jsx)("span",{ref:y,tabIndex:0,"aria-hidden":!0}),e&&(0,es.jsx)(Ao,{onClick:d,className:(0,Cs.Z)({"pointer-events-none":r})}),(0,es.jsxs)("div",{className:(0,Cs.Z)(s("widget"),{"pb-14":!D&&!r,"pointer-events-none":r}),children:[(0,es.jsxs)("div",{className:s("widget-main"),children:[N&&(0,es.jsxs)("div",{className:s("widget-campaign"),"data-testid":"campaign",children:[!n&&!a&&(0,es.jsx)(bs.Z,{nodeRef:_,in:O,classNames:"fade-backdrop",timeout:200,mountOnEnter:!0,unmountOnExit:!0,children:(0,es.jsx)("div",{ref:_,className:(0,Cs.Z)("upsell-curtain-backdrop top-left bottom-right",n?"p-fixed":"p-abs border-top-radius-16"),style:{marginBottom:"-1px"},onClick:()=>{x.get(xr.UPSELL_CURTAIN_EXPERIMENT).closeCurtainOnBackDrop()}})}),(0,es.jsx)(Js,{})]}),(0,es.jsx)("div",{className:(0,Cs.Z)(s("widget-form")),ref:p,children:(0,es.jsx)(xs.pG.Provider,{value:p,children:(0,es.jsx)(Xy,{onScreenEntered:Z})})})]}),(t||U||r)&&(0,es.jsx)("div",{className:s("widget-footer"),"data-qa":"widget-footer-block",children:(0,es.jsxs)("div",{className:"fixed-container",children:[(0,es.jsxs)("div",{className:s("widget-footer-panel"),children:[(0,es.jsx)(ho,{showAskPage:N}),U&&(0,es.jsxs)(es.Fragment,{children:[N&&!n&&a&&(0,es.jsx)("div",{className:"body-4 text-white opacity-80 flex-shrink-0 mx-3","aria-hidden":"true",children:""}),(0,es.jsx)(go,{enabledCrypto:K,enabledStock:V,enabledMoney:q})]})]}),n&&N&&T&&(0,es.jsx)(Gs,{links:k.links,className:"mt-3"})]})})]}),(0,es.jsx)("span",{ref:v,tabIndex:0,"aria-hidden":!0})]})})})})})})},ev=e=>{const{onMounted:t}=e;return(0,is.useEffect)((()=>{t()}),[t]),(0,es.jsx)(is.StrictMode,{children:(0,es.jsx)(rs.E.Provider,{value:e.sentry,children:(0,es.jsx)(ss,{fallback:(0,es.jsx)("div",{children:"fallback content"}),children:(0,es.jsx)(as.E.Provider,{value:e.iframeWindow,children:(0,es.jsx)(ds.Provider,{value:e.flowManager,children:(0,es.jsx)(ns.p.Provider,{value:e.checkoutConfiguration,children:(0,es.jsx)(fs.Provider,{value:e.viewEventEmitter,children:(0,es.jsx)(Ss.f.Provider,{value:e.intl,children:(0,es.jsx)(ps.Provider,{value:e.tracker,children:(0,es.jsx)(ls.Provider,{value:e.experiments,children:(0,es.jsx)(os.Provider,{value:e.currencyService,children:(0,es.jsx)(Jy,{})})})})})})})})})})})})};class tv{constructor(e,t,i,n,a,r){this.container=e,this.iframe=t,this.eventEmitter=i,this.sentry=n,this.debug=a,this.checkoutCore=r,this.renderKey=he()}get iframeNode(){return this.iframe.iframeNode}open(e){var t,i;return(0,u.mG)(this,void 0,void 0,(function*(){if((null==e?void 0:e.preloadFirstScreen)&&(yield this.preloadFirstScreen()),null===(i=null===(t=null==e?void 0:e.abortController)||void 0===t?void 0:t.signal)||void 0===i?void 0:i.aborted)throw new Error("Checkout render aborted");yield this.render(),this.iframe.showDocument(),this.iframe.open(),this.show()}))}close(){this.iframe.close(),this.unmount(),this.iframe.destroy(),this.eventEmitter.removeAllListeners()}onHide(e){return this.eventEmitter.on("was-hidden",e),this}get targetWindow(){const e=this.iframe.iframeWindow;if(!e)throw new Error("No window in iframe");return e}render(){return(0,u.mG)(this,void 0,void 0,(function*(){return new(Fe())(((e,t)=>{try{const t=()=>(this.logCheckoutOpeningTime(),e());this.root.render((0,es.jsx)(ev,{onMounted:t,viewEventEmitter:this.eventEmitter,flowManager:this.checkoutCore.flowManager,intl:this.checkoutCore.intl,sentry:this.sentry,tracker:this.checkoutCore.trackerCheckout,experiments:this.checkoutCore.experiments,iframeWindow:this.targetWindow,currencyService:this.checkoutCore.currencyService,checkoutConfiguration:this.checkoutCore.checkoutConfiguration},this.renderKey))}catch(e){t(e)}}))}))}show(){this.eventEmitter.emit("should-show")}regenerateKey(){return this.renderKey=he(),this.renderKey}get root(){return this._root||(this._root=(0,ts.s)(this.container)),this._root}unmount(){this.root.unmount(),this.debug.log("Checkout UI (React) is unmounted")}logCheckoutOpeningTime(){const e=O()()-this.checkoutCore.trackerCheckout.checkoutOpenTimestamp;this.debug.log("checkout opening time:onMounted",`${e} ms`)}preloadFirstScreen(){return(0,u.mG)(this,void 0,void 0,(function*(){return Fe().resolve()}))}}function iv(e,t){void 0!==t&&function(i){var n,a;function r(){a||(a=!0,i())}Da()(n=["interactive","complete"]).call(n,t.readyState)>=0?i():(a=!1,t.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1))}((function(){var i=!0,n=!1,a=null,r={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){return!!(e&&e!==t&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function o(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function c(e){i=!1}function l(){t.addEventListener("mousemove",u),t.addEventListener("mousedown",u),t.addEventListener("mouseup",u),t.addEventListener("pointermove",u),t.addEventListener("pointerdown",u),t.addEventListener("pointerup",u),t.addEventListener("touchmove",u),t.addEventListener("touchstart",u),t.addEventListener("touchend",u)}function u(e){var n,a;"html"!==(null==e||null===(n=e.target)||void 0===n||null===(a=n.nodeName)||void 0===a?void 0:a.toLowerCase())&&(i=!1,t.removeEventListener("mousemove",u),t.removeEventListener("mousedown",u),t.removeEventListener("mouseup",u),t.removeEventListener("pointermove",u),t.removeEventListener("pointerdown",u),t.removeEventListener("pointerup",u),t.removeEventListener("touchmove",u),t.removeEventListener("touchstart",u),t.removeEventListener("touchend",u))}t.addEventListener("keydown",(function(e){s(t.activeElement)&&o(t.activeElement),i=!0}),!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("focus",(function(e){var t,n,a;s(e.target)&&(i||(n=(t=e.target).type,"INPUT"==(a=t.tagName)&&r[n]&&!t.readOnly||"TEXTAREA"==a&&!t.readOnly||t.isContentEditable))&&o(e.target)}),!0),t.addEventListener("blur",(function(t){var i;s(t.target)&&(t.target.classList.contains("focus-visible")||t.target.hasAttribute("data-focus-visible-added"))&&(n=!0,e.clearTimeout(a),a=P()((function(){n=!1,e.clearTimeout(a)}),100),(i=t.target).hasAttribute("data-focus-visible-added")&&(i.classList.remove("focus-visible"),i.removeAttribute("data-focus-visible-added")))}),!0),t.addEventListener("visibilitychange",(function(e){"hidden"==t.visibilityState&&(n&&(i=!0),l())}),!0),l(),t.body.classList.add("js-focus-visible")}))}class nv{constructor(e){this.onLoadHandlers=[],this.ready=!1,this.localeCode=e.locale,this.node=e.node,this.overrideTemplate=e.overrideTemplate,this.fonts=e.fonts||"",this.styles=e.styles||"",this.id=e.id||"",this.title=e.title,this.initialize=e.initialize,this.scripts=e.scripts||[],this.metaTags=e.metaTags||[],this.isMobile=e.isMobile||!1,this.env=e.env,this.disableRtl=e.disableRtl||!1,this.iframe=document.createElement("iframe"),this.addEventListeners(),e.initialStyles&&this.setStyles(e.initialStyles),this.setIframeAttributes()}resize(e){if(e.height){const t=nv.getSizeInCssUnit(e.height),i=e.minHeight?nv.getSizeInCssUnit(e.minHeight):t,n=e.maxHeight?nv.getSizeInCssUnit(e.maxHeight):t;this.iframe.setAttribute("height",t),this.iframe.style.setProperty("height",t,"important"),this.iframe.style.setProperty("min-height",i,"important"),this.iframe.style.setProperty("max-height",n,"important")}if(e.width){const t=nv.getSizeInCssUnit(e.width),i=e.minWidth?nv.getSizeInCssUnit(e.minWidth):t,n=e.maxWidth?nv.getSizeInCssUnit(e.maxWidth):t;this.iframe.setAttribute("width",t),this.iframe.style.setProperty("width",t,"important"),this.iframe.style.setProperty("min-width",i,"important"),this.iframe.style.setProperty("max-width",n,"important")}}showDocument(){nv.isContentDocumentAvailable(this.iframe.contentDocument)&&this.iframe.contentDocument.body.setAttribute("style","")}setStyles(e){g()(e).call(e,(e=>{let[t,i]=e;this.iframe.style.setProperty(t,String(i),"important")}))}addClass(e){g()(e).call(e,(e=>{this.iframe.className+=` ${e}`}))}removeStyles(e){nv.isContentDocumentAvailable(this.iframe.contentDocument)&&g()(e).call(e,(e=>{this.iframe.style.removeProperty(e)}))}appendElement(e){nv.isContentWindowAvailable(this.iframe.contentWindow)&&nv.isContentDocumentAvailable(this.iframe.contentDocument)&&(iv(this.iframe.contentWindow,this.iframe.contentDocument),this.iframe.contentDocument.body.appendChild(e))}addOnLoadHandler(e){if(this.ready)return e();this.onLoadHandlers.push(e)}addDocumentEventListener(e,t){nv.isContentDocumentAvailable(this.iframe.contentDocument)&&this.iframe.contentDocument.addEventListener(e,t)}removeDocumentEventListener(e,t){nv.isContentDocumentAvailable(this.iframe.contentDocument)&&this.iframe.contentDocument.removeEventListener(e,t)}findElement(e){return nv.isContentDocumentAvailable(this.iframe.contentDocument)?this.iframe.contentDocument.querySelector(e):null}matchMedia(e){return nv.isContentWindowAvailable(this.iframe.contentWindow)?this.iframe.contentWindow.matchMedia(e):null}get iframeNode(){return this.iframe}setGlobalData(e){if(nv.isContentWindowAvailable(this.iframe.contentWindow)){for(const[t,i]of ei()(e))this.iframe.contentWindow[t]=i;return!0}return!1}get iframeWindow(){return this.iframe.contentWindow}get iframeDocument(){return this.iframe.contentDocument}setIframeAttributes(){this.iframe.setAttribute("title",this.title),this.iframe.setAttribute("src","about:blank"),this.iframe.setAttribute("frameborder","0"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("marginwidth","0"),this.iframe.setAttribute("width","1"),this.iframe.setAttribute("height","1"),this.id&&this.iframe.setAttribute("id",this.id)}addEventListeners(){this.iframe.addEventListener("load",(()=>{var e;this.initialize&&this.iframe.contentWindow&&this.iframe.contentDocument&&this.initialize(this.iframe.contentWindow,this.iframe.contentDocument),this.ready=!0,g()(e=this.onLoadHandlers).call(e,(e=>e()))}))}getIframeTemplate(){var e,t;const i=e=>{var t;return T()(t=ze()(e)).call(t,(t=>`${t}="${e[t]}"`)).join(" ")},n=T()(e=this.scripts).call(e,(e=>`<script ${i(e)}><\/script>`)).join(""),a=T()(t=this.metaTags).call(t,(e=>`<meta ${i(e)}>`)).join("");return this.overrideTemplate?this.overrideTemplate({title:this.title,styles:this.styles,fonts:this.fonts,scripts:n,metaTags:a,isMobile:this.isMobile}):`\n      <!DOCTYPE html>\n      <html style="overflow: hidden;" lang="${this.localeCode}" dir="${(0,nn.w0)(this.localeCode,this.disableRtl)}">\n          <head>\n              <meta charset="utf-8">\n              <meta http-equiv="X-UA-Compatible" content="IE=edge">\n              ${a}\n              <title>${this.title}</title>\n              <style>${this.styles}</style>\n              <style>${this.fonts}</style>\n              ${n}\n          </head>\n          <body style="opacity: 0;"></body>\n      </html>\n    `}static isContentDocumentAvailable(e){return!!e||(console.warn("ContentDocument is not available"),!1)}static isContentWindowAvailable(e){return!!e||(console.warn("ContentWindow is not available"),!1)}static getSizeInCssUnit(e){const t=String(e);return/^\d+$/.test(t)?`${t}px`:t}}function av(e,t){if(e.body)return t();P()(y()(av).call(av,null,e,t),10)}class rv extends nv{constructor(e,t){super(e),this.htmlElementStyleManager=t,this.render()}render(){let e=document.documentElement;this.env!==St.CB.PRODUCTION&&this.env!==St.CB.STAGING&&(e=document.body),this.isMobile?(this.containerDiv=document.createElement("div"),this.overlay=document.createElement("div"),this.overlay.setAttribute("id","fun-mobile-overlay-container"),this.containerDiv.setAttribute("id","fun-iframe-container"),this.containerDiv.appendChild(this.iframe),e.appendChild(this.overlay),e.appendChild(this.containerDiv)):this.node?(this.htmlElementStyleManager.setStyle("border: 0 !important; height: 100% !important; width: 100% !important; margin: 0 auto !important; padding: 0 !important; border-radius: 0 !important; display: block !important;",this.iframe),this.node.appendChild(this.iframe)):e.appendChild(this.iframe),this.setParentViewPort(),nv.isContentWindowAvailable(this.iframe.contentWindow)&&(this.iframe.contentWindow.document.open("text/html","replace"),this.iframe.contentWindow.document.write(this.getIframeTemplate()),iv(this.iframe.contentWindow,this.iframe.contentWindow.document),this.iframe.contentWindow.document.close())}open(){this.htmlElementStyleManager.saveDocumentOriginalStyles(),this.node||(this.isMobile&&this.containerDiv&&this.overlay&&(this.htmlElementStyleManager.setStyle("display: block !important;margin: 0 !important;padding: 0 !important;float: none !important;visibility: visible !important;opacity: 1 !important;position: absolute !important;width: 100% !important;height: 100% !important;top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important; background: #f5f5f5 !important;z-index: 2147483647 !important;transform: translateZ(100px) !important;",this.containerDiv),this.htmlElementStyleManager.setStyle("position: fixed !important;top: 0 !important;left: 0 !important;right: 0 !important;bottom: 0 !important;margin: 0 !important;padding: 0 !important;background: #f5f5f5 !important;z-index: 2147483646 !important;transform: translateZ(99px) !important;",this.overlay)),this.htmlElementStyleManager.setStyle(this.isMobile?"display: block !important;border: none !important;margin: 0 !important;padding: 0 !important;width: 100% !important;height: 100% !important;":"display: block !important;margin: 0 !important;padding: 0 !important;border: 0 !important; width: 100% !important; height: 100% !important; position: fixed !important; opacity: 1 !important; top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important; transform: translateZ(100px) !important;z-index: 2147483647 !important;",this.iframe),this.resize({width:"100%",height:"100%"}),this.node||(this.htmlElementStyleManager.appendStyle(this.isMobile?"all: initial !important;position: static !important;margin: 0 !important;padding: 0 !important;min-height: 0 !important;min-width: 0 !important;width: auto !important;height: 100% !important;":"overflow: hidden !important;",document.documentElement),av(document,(()=>{this.htmlElementStyleManager.appendStyle(this.isMobile?"all: initial !important;overflow: auto !important;position: static !important;display: block !important;min-height: 0 !important;min-width: 0 !important;height: 100% !important;width: auto !important;margin: 0 !important;padding: 0 !important;":"padding-right: 0 !important;",document.body)}))),this.setGlobalStyles())}close(){this.htmlElementStyleManager.setStyle("border: 0 !important; width: 1px !important; height: 1px !important; position: fixed !important; opacity: 0 !important;",this.iframe),this.removeGlobalStyles(),this.htmlElementStyleManager.restoreOriginalStyles(document.documentElement),this.htmlElementStyleManager.restoreOriginalStyles(document.body),this.restoreParentViewPort()}destroy(){this.iframe.remove(),this.containerDiv&&(this.containerDiv.remove(),this.containerDiv=void 0),this.overlay&&(this.overlay.remove(),this.overlay=void 0)}setParentViewPort(){if(this.node)return;this.viewport=rv.getViewport("width=device-width, initial-scale=1, shrink-to-fit=no");const e=this.viewport,t=document.querySelector("meta[name=viewport]");t?(this.parentViewport=t,this.parentViewport.remove()):this.parentViewport=rv.getViewport(""),document.head.appendChild(e)}restoreParentViewPort(){this.node||(this.viewport&&(this.viewport.remove(),this.viewport=void 0),this.parentViewport&&(document.head.appendChild(this.parentViewport),this.parentViewport=void 0))}setGlobalStyles(){if(this.isMobile){this.headStyle=document.createElement("style");const e=this.headStyle;e.appendChild(document.createTextNode("body > *:not(#fun-iframe-container){ position: fixed !important; width: 100% !important; display: block !important }")),document.head.appendChild(e)}}removeGlobalStyles(){this.headStyle&&this.headStyle.remove()}setIframeAttributes(){super.setIframeAttributes(),this.iframe.setAttribute("allowpaymentrequest","true"),this.iframe.setAttribute("allow","payment"),or(window)&&this.iframe.setAttribute("src",location.origin)}static getViewport(e){const t=document.createElement("meta");return t.setAttribute("name","viewport"),t.setAttribute("content",e),t}configure(e){if(this.localeCode=e.locale,!nv.isContentWindowAvailable(this.iframe.contentWindow))return;if(this.iframe.contentWindow.document.documentElement.setAttribute("lang",this.localeCode),this.iframe.contentWindow.document.documentElement.setAttribute("dir",(0,nn.w0)(this.localeCode)),void 0===e.styles)return;if(e.showcase){const e=this.iframe.contentWindow.document.getElementById("main-showcase-style");null==e||e.remove()}const t=this.iframe.contentWindow.document.createElement("style");e.showcase&&t.setAttribute("id","main-showcase-style"),this.styles=e.styles||"",t.appendChild(this.iframe.contentWindow.document.createTextNode(this.styles)),this.iframe.contentWindow.document.head.appendChild(t)}}const sv=`\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 300;\n  font-display: swap;\n  src: url(${i(80047)}) format('woff2');\n  }\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: url(${i(54615)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 500;\n  font-display: swap;\n  src: url(${i(17338)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 600;\n  font-display: swap;\n  src: url(${i(51122)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: url(${i(71722)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 300;\n  font-display: swap;\n  src: url(${i(65819)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: url(${i(55976)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 500;\n  font-display: swap;\n  src: url(${i(77070)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 600;\n  font-display: swap;\n  src: url(${i(4351)}) format('woff2');\n}\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: url(${i(21162)}) format('woff2');\n}\n@font-face {\n  font-family: 'Sacramento';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: url(${i(75011)}) format('woff2');\n}\n`;function ov(e){return(0,u.mG)(this,void 0,void 0,(function*(){return new(Fe())((t=>{const i=new rv({node:e.node,fonts:sv,isMobile:e.isMobile,title:"Donation Widget",id:"__checkout2",env:e.env,locale:e.localeCode,overrideTemplate:t=>`\n          <!DOCTYPE html>\n          <html ${(null==t?void 0:t.isMobile)?"":'class="desktop-view"'} lang="${e.localeCode}">\n            <head>\n                <meta charset="utf-8">\n                <meta http-equiv="X-UA-Compatible" content="IE=edge">\n                ${null==t?void 0:t.metaTags}\n                <title>${null==t?void 0:t.title}</title>\n                <style>${null==t?void 0:t.styles}</style>\n                <style>${null==t?void 0:t.fonts}</style>\n                ${null==t?void 0:t.scripts}\n            </head>\n  \n            <body style="opacity: 0;">\n              <div id="root" class="donation-form" role="application" aria-label="Donation Form"></div>\n            </body>\n          </html>\n      `},e.htmlElementStyleManager);i.addOnLoadHandler((()=>{t(i)}))}))}))}function cv(e){return(0,u.mG)(this,void 0,void 0,(function*(){return(yield i.e(6580).then(i.t.bind(i,58203,23))).default}))}class lv{constructor(){this.emitter=new(h())}on(e,t){return this.emitter.on(e,t),()=>this.emitter.off(e,t)}once(e,t){return this.emitter.once(e,t),this}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return this.emitter.emit(e,...i),this}removeAllListeners(){const e=this.emitter.eventNames();return g()(e).call(e,(e=>{this.emitter.removeListener(e)})),this}}class uv{constructor(){this.stack=[]}getCurrent(){return this.stack[this.stack.length-1]||null}getPrevious(){return this.stack[this.stack.length-2]||null}getHistoricalScreens(){return[...this.stack]}goTo(e){var t,i;const n=Da()(t=this.stack).call(t,e);return-1===n?(this.stack.push(e),this):(F()(i=this.stack).call(i,n+1),this)}has(e){var t;return-1!==Da()(t=this.stack).call(t,e)}}class dv extends lv{constructor(e,t,i){super(),this.transitionsCompiler=e,this.settings=t,this.state=i,this.history=new uv,this.locked=!1,this.done=!1,this.screens=e.compile(t.screens,this),this.validate()}get previousScreenName(){return this.history.getPrevious()}get isLocked(){return this.locked}get isExiting(){return this.currentScreen.final||!1}tryExit(){if(this.isExiting)return!1;const e=this.getFinalScreen();if(!e)return!1;const t=this.getScreenByName(e);return!!this.canEnterToScreen(t)&&(this.goTo(t.name),!0)}start(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=new Date,t=this.getScreenByName(this.settings.defaultInitial()),i=this.getScreenByName(this.settings.initial());return this.firstScreen=this.getFirstScreen(i),t!==i&&(yield t.instance.beforeEnter({isSynthetic:!0}),this.history.goTo(t.name),yield t.instance.beforeLeave({isSynthetic:!0})),this.history.goTo(this.firstScreen.name),this.currentScreen.instance.beforeEnter().then((()=>{this.emitScreenChanged({transitionStartedAt:e}),this.checkFlowCompleted()}))}))}next(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=new Date;if(!(null==e?void 0:e.omitBeforeLeave)&&!(yield this.currentScreen.instance.beforeLeave({direction:null==e?void 0:e.direction})))return;let i=this.getNextScreen(this.currentScreen),n=null==e?void 0:e.direction;if((null==e?void 0:e.getMandatoryAllowance)&&e.getMandatoryAllowance()){const e=this.getFirstMandatoryScreen();e&&(i=e,n=bn.BACKWARD)}return this.goTo(i.name,{direction:n||bn.FORWARD,transitionStartedAt:t})}))}prev(){const e=new Date,t=this.history.getPrevious();return t?this.goTo(t,{direction:bn.BACKWARD,transitionStartedAt:e}):Fe().reject(new Error(`Cannot go to the previous screen. Current screen: ${this.currentScreen.name}`))}getHistoricalScreens(){return this.history.getHistoricalScreens()}predictNextScreen(){return this.getNextScreen(this.currentScreen).name}goTo(e,t){return this.throwErrorIfCannotChangeScreen(e,null==t?void 0:t.direction).then((()=>this.currentScreen.instance.dispose())).then((()=>(this.history.goTo(e),this.currentScreen.instance=this.transitionsCompiler.createScreenInstance(e,this),this.currentScreen.instance.beforeEnter()))).then((()=>{this.emitScreenChanged({direction:null==t?void 0:t.direction,transitionStartedAt:null==t?void 0:t.transitionStartedAt}),this.checkFlowCompleted()}))}lock(){return this.locked=!0,this.emit(An.LOCKED),this}unlock(){return this.locked=!1,this.emit(An.UNLOCKED),this}getCurrentScreen(){return this.currentScreen.instance}getScreen(e){const t=this.screens.get(e);if(!t)throw new Error(`FormFlow Screen with name ${e} not found.`);return t.instance}checkHasScreen(e){return this.screens.has(e)}isCurrentScreenFirst(){var e;return this.currentScreen.name===(null===(e=this.firstScreen)||void 0===e?void 0:e.name)}isCurrentScreenLast(){return void 0===this.currentScreen.next}dispose(){this.removeAllListeners()}get canGoBack(){return!this.locked&&!this.done&&!!this.history.getPrevious()}get currentScreen(){const e=this.history.getCurrent();if(!e)throw new Error("Cannot identify current screen");const t=this.screens.get(e);if(!t)throw new Error("Cannot get current screen");return t}throwErrorIfCannotChangeScreen(e,t){return this.locked?Fe().reject(new Error(`Cannot change screen while flow is locked. Current screen: ${e}. Direction: ${t}. Viewed screens: ${this.history.getHistoricalScreens().join(", ")}`)):this.done?Fe().reject(new Error("Cannot change screen because flow is completed")):Fe().resolve()}checkFlowCompleted(){this.isCurrentScreenLast()&&!this.isExiting&&(this.done=!0,this.emit(An.DONE))}emitScreenChanged(e){this.emit(An.SCREEN_CHANGED,{screen:this.currentScreen.name,instance:this.currentScreen.instance,direction:null==e?void 0:e.direction,transitionStartedAt:(null==e?void 0:e.transitionStartedAt)||new Date,transitionFinishedAt:new Date,createdAt:new Date})}getScreenByName(e){const t=this.screens.get(e);if(!t)throw new Error(`Cant get "${e}" screen`);return t}canEnterToScreen(e){return!e.guard||!e.guard(this.state)}getFirstScreen(e){var t;if(!this.canEnterToScreen(e)){const i=null===(t=e.next)||void 0===t?void 0:t.call(e,this.state,this.history);if(!i)throw new Error('Unable to determine first screen, reached a screen without "next" function');const n=this.getScreenByName(i);return this.getFirstScreen(n)}return e}getNextScreen(e){var t;const i=null===(t=e.next)||void 0===t?void 0:t.call(e,this.state,this.history);if(!i)throw new Error("Cant go to the next screen");const n=this.getScreenByName(i);return this.canEnterToScreen(n)?n:this.getNextScreen(n)}getFirstMandatoryScreen(){const e=this.getPredictedScreens();return vt()(e).call(e,(e=>{var t;return null===(t=null==e?void 0:e.mandatory)||void 0===t?void 0:t.call(e,this.state)}))||null}getPredictedScreens(){const e=[],t=this.getScreenByName(this.settings.initial());let i=this.getFirstScreen(t);for(e.push(i);void 0!==i.next;)i=this.getNextScreen(i),e.push(i);return e}validate(){var e;const t=[...be()(e=this.screens).call(e)];if(B()(t).call(t,(e=>e.final)).length>1)throw new Error("Invalid screens configuration: multiple final screens are not allowed")}getFinalScreen(){var e;const t=[...Pr()(e=this.screens).call(e)],i=vt()(t).call(t,(e=>e[1].final));return i?i[0]:null}}class hv{constructor(e){this.screenFactory=e}createScreenInstance(e,t){return this.screenFactory.create(e,t)}compile(e,t){const i=new(wi()),n=ze()(e);return g()(n).call(n,(n=>{const a=e[n];i.set(n,{name:n,next:a.next,guard:a.guard,mandatory:a.mandatory,final:a.final,instance:this.screenFactory.create(n,t)})})),i}}class mv{constructor(){this._promise=new(Fe())(((e,t)=>{this._resolver=e,this._rejector=t}))}get promise(){return this._promise}resolve(e){this.resolver(e)}reject(e){this.rejector(e)}get resolver(){if(!this._resolver)throw new Error("_resolver is undefined");return this._resolver}get rejector(){if(!this._rejector)throw new Error("_rejector is undefined");return this._rejector}}class pv{constructor(){this.storage=[]}enqueue(e){this.storage.push(e)}dequeue(){return this.storage.shift()}size(){return this.storage.length}toArray(){return[...this.storage]}front(){return this.storage[0]}clear(){this.storage=[]}isEmpty(){return!this.storage.length}}class gv{constructor(e){this.debounce=e,this.queue=new pv,this.currentRequestPromise=null}request(e){let{promise:t,allowDelay:i,allowMerge:n}=e;const a=new mv;return this.queue.enqueue({promise:t,deferredPromise:a,allowMerge:n,allowDelay:i}),this.performRequest(),a.promise}getRequestBatch(){var e;const t=this.queue.dequeue();if(!t)return[];if(!(null==t?void 0:t.allowMerge))return[t];const i=[t];for(;null===(e=this.queue.front())||void 0===e?void 0:e.allowMerge;)i.push(this.queue.dequeue());return i}getRequestBatches(){const e=[];for(;!this.queue.isEmpty();)e.push(this.getRequestBatch());return e}executeBatch(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=e[e.length-1];if(t)try{const i=yield t.promise();g()(e).call(e,(e=>e.deferredPromise.resolve(i)))}catch(t){g()(e).call(e,(e=>e.deferredPromise.reject(t)))}}))}performDelayedRequest(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.queue.front();if(!e)return;e.allowDelay&&(yield pr(this.debounce));const t=this.getRequestBatches();for(const e of t)yield this.executeBatch(e)}))}performRequest(){return(0,m.mG)(this,void 0,void 0,(function*(){for(;null===this.currentRequestPromise&&!this.queue.isEmpty();)try{this.currentRequestPromise=this.performDelayedRequest(),yield this.currentRequestPromise}finally{this.currentRequestPromise=null}}))}}Error;class fv extends Error{constructor(){super("Amount is required")}}class yv extends Error{constructor(){super("Intent secret is not provided")}}Error;class vv extends Error{constructor(){super("Could not retrieve iDEAL payment intent")}}Error;class Sv{static handleError(e){return"validation_error"===e.type?xi.fail({}):xi.fail({message:e.message})}constructor(e,t,i,n,a){this.stripe=e,this.paymentOptionsDataPoint=t,this.intl=i,this.sentry=n,this.paymentAPI=a,this.name=St.GZ.ACSS,this.intentSecret=null,this.params=null}initiateFlow(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.params=e,!0}))}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.hold({clientPaymentMethod:St.GZ.ACSS});if(xi.isFailure(e))return e;const{intentSecret:t}=e.successResult;if(!t)throw new yv;return this.intentSecret=t,xi.success(void 0)}))}startFlow(){var e,t,i,n,a;return(0,m.mG)(this,void 0,void 0,(function*(){if(this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.ACSS),yield this.hold(),!this.intentSecret)return xi.fail({});const r=yield this.stripe.retrieveSetupIntent(this.intentSecret);if((null===(e=r.setupIntent)||void 0===e?void 0:e.status)===J.OQ.SUCCEEDED)return xi.success(void 0);let s;try{null===(i=null===(t=this.params)||void 0===t?void 0:t.onPopupOpen)||void 0===i||i.call(t),s=yield this.stripe.confirmAcssDebitSetup(this.intentSecret,{payment_method:{billing_details:{name:at,email:rt}}},{skipMandate:!1})}catch(o){return this.sentry.captureException(o),xi.fail({message:this.commonErrorText})}finally{null===(a=null===(n=this.params)||void 0===n?void 0:n.onPopupClose)||void 0===a||a.call(n)}const o=s.error;return o?Sv.handleError(o):xi.success(void 0)}))}pay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return xi.isSuccess(e)?e:xi.fail({shouldLeave:!1,message:e.failureResult.message})}))}get commonErrorText(){return this.intl.translate("common.errorOccurredText")}}var Cv;!function(e){e.PAYMENT_METHOD_MICRODEPOSIT_VERIFICATION_DESCRIPTOR_CODE_MISMATCH="payment_method_microdeposit_verification_descriptor_code_mismatch",e.PAYMENT_METHOD_MICRODEPOSIT_VERIFICATION_ATTEMPTS_EXCEEDED="payment_method_microdeposit_verification_attempts_exceeded",e.BANK_ACCOUNT_UNUSABLE="bank_account_unusable",e.ACCOUNT_NUMBER_INVALID="account_number_invalid",e.PAYMENT_INTENT_AUTHENTICATION_FAILURE="payment_intent_authentication_failure"}(Cv||(Cv={}));class bv{static handleCardError(e,t,i){return{message:t?e.translate("creditCardScreen.cardError.title"):i,additionalMessage:t?e.translate("creditCardScreen.cardError.message"):void 0}}static handle3DsAuthResult(e){return e?e.code===Cv.PAYMENT_INTENT_AUTHENTICATION_FAILURE?xi.fail({message:e.message}):xi.fail({}):xi.success({})}constructor(e,t,i){this.stripe=e,this.stripePaymentMethod=t,this.paymentAPI=i}perform(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay({paymentMethod:this.stripePaymentMethod});if(xi.isSuccess(e))return e;const t=e.failureResult.errors,i=null==t?void 0:t.customCode,n=null==t?void 0:t.intentSecret;return t?i&&n&&"requires_action"===t.customCode?this.initiate3DS(t.intentSecret,this.stripePaymentMethod):xi.fail({}):xi.fail({hasBaseErrorMessage:!!e.failureResult.message})}))}initiate3DS(e,t){return(0,m.mG)(this,void 0,void 0,(function*(){const i=yield this.stripe.handleCardAction(e),n=bv.handle3DsAuthResult(i.error);if(xi.isFailure(n))return n;const a=yield this.paymentAPI.pay({paymentMethod:t});return xi.isFailure(a)?xi.fail({}):a}))}}class Av{constructor(e){this.params=e}init(){return this.makePaymentRequest().then((e=>{let{canMakePaymentResult:t}=e;return!!(null==t?void 0:t.applePay)}))}create(e){return this.makePaymentRequest().then((t=>{let{paymentRequest:i}=t;const n=new(Fe())(((e,t)=>{i.once("token",(t=>{t.complete("success"),e({token:t.token,payerName:t.payerName,payerEmail:t.payerEmail})})).once("cancel",(()=>{t()}))})),{total:a,displayItems:r}=this.params.request;return i.update({total:{label:a.label,amount:e.amount},displayItems:r,currency:e.currency}),i.show(),n.finally((()=>{i.off("token").off("cancel")}))})).then((e=>({stripeVerifier:e})))}makePaymentRequest(){let e;return e=this.paymentRequest?Fe().resolve(this.paymentRequest):this.params.stripe().then((e=>{const t=x()(x()({},this.params.request),{requestPayerEmail:!0,requestPayerName:!0,wallets:["applePay"]});return this.paymentRequest=e.paymentRequest(t),this.paymentRequest})),e.then((e=>new(Fe())(((t,i)=>{e.canMakePayment().then((i=>{t({canMakePaymentResult:i,paymentRequest:e})})).catch((e=>{i(e)}))}))))}}class Ev{constructor(e,t,i,n,a,r,s,o,c){this.config=e,this.applePayStripeLoadingPromise=t,this.donationDataPoint=i,this.paymentOptionsDataPoint=n,this.donorNameDataPoint=a,this.donorEmailDataPoint=r,this.sentry=s,this.intl=o,this.paymentAPI=c,this.name=St.GZ.APPLE_PAY,this.cardToken=null,this.applePayPaymentMethodService=new Av({request:e,stripe:this.applePayStripeLoadingPromise})}checkAvailability(){return(0,m.mG)(this,void 0,void 0,(function*(){try{return yield this.applePayPaymentMethodService.init()}catch(e){return this.sentry.captureException(e),!1}}))}initiateFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return!0}))}startFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.APPLE_PAY),this.cardToken=yield this.createToken(),!this.cardToken)return xi.fail({});const e=yield this.hold();return xi.isFailure(e)?xi.fail({message:this.intl.translate("common.errorOccurredText")}):xi.success(void 0)}))}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){try{const e=yield this.paymentAPI.hold({clientPaymentMethod:St.GZ.APPLE_PAY});if(xi.isFailure(e))return e}catch(e){return xi.fail({shouldLeave:!1})}return xi.success(void 0)}))}pay(){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.cardToken||(this.cardToken=yield this.createToken()),!this.cardToken)return xi.fail({shouldLeave:!1});const e=yield this.createStripePaymentMethod(this.cardToken);if(xi.isFailure(e))return this.cardToken=null,xi.fail({shouldLeave:!1,message:e.failureResult.message});const t=yield this.initiatePayment(e.successResult);if(this.cardToken=null,xi.isSuccess(t))return t;const{message:i,additionalMessage:n}=bv.handleCardError(this.intl,t.failureResult.hasBaseErrorMessage,t.failureResult.message);return xi.fail({shouldLeave:!1,message:i,additionalMessage:n})}))}initiatePayment(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.applePayStripeLoadingPromise();return new bv(t,e,this.paymentAPI).perform()}))}createStripePaymentMethod(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.applePayStripeLoadingPromise();let i;try{i=yield t.createPaymentMethod({type:St.Ey.CARD,card:{token:e}})}catch(e){return this.sentry.captureException(e),xi.fail({})}return i.error?xi.fail({message:i.error.message}):i.paymentMethod?xi.success(i.paymentMethod):xi.fail({})}))}createToken(){var e,t;return(0,m.mG)(this,void 0,void 0,(function*(){let i;try{i=yield this.applePayPaymentMethodService.create({amount:this.donationDataPoint.total,currency:this.donationDataPoint.currency.toLowerCase()}),i.stripeVerifier&&this.setDonorInfo(i.stripeVerifier)}catch(e){return this.sentry.captureException(e),null}return(null===(t=null===(e=i.stripeVerifier)||void 0===e?void 0:e.token)||void 0===t?void 0:t.id)||null}))}setDonorInfo(e){var t;const i=e.payerEmail;i&&(this.donorEmailDataPoint.email=i);const n=e.payerName||(null===(t=e.token.card)||void 0===t?void 0:t.name)||"";n&&(this.donorNameDataPoint.fullName=n)}}Error,Error;class xv extends Error{constructor(){super("AU BECS intent secret not found")}}class kv extends Error{constructor(){super("AU BECS personal information required")}}class wv{constructor(e,t,i,n,a,r,s){this.stripe=e,this.stripeElements=t,this.donorNameDataPoint=i,this.donorEmailDataPoint=n,this.sentry=a,this.paymentAPI=r,this.params=s,this.name=St.GZ.AU_BECS,this.intentSecret=null,this.completed=!1,this.elementReady=!1,this.hasElementError=!1,this.onElementChange=e=>{this.completed=e.complete,this.hasElementError=!!e.error}}initiateFlow(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.auBankAccountElement||(this.auBankAccountElement=this.createElement(),this.auBankAccountElement.once("ready",(()=>{this.elementReady=!0})),this.auBankAccountElement.on("change",this.onElementChange),this.auBankAccountElement.mount(e)),!0}))}startFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.elementReady?!this.completed&&!(yield this.validatePayment())||this.hasElementError?xi.fail({}):xi.success(void 0):xi.fail({})}))}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.hold({clientPaymentMethod:St.GZ.AU_BECS});if(xi.isFailure(e))return e;const{intentSecret:t}=e.successResult;if(!t)throw new xv;return this.intentSecret=t,xi.success(void 0)}))}pay(){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.intentSecret)throw new xv;const{firstName:e,lastName:t}=this.donorNameDataPoint.toObject(),{email:i}=this.donorEmailDataPoint.toObject();if(!i||!e||!t)throw new kv;const n=yield this.retrieveSetupIntent(this.intentSecret);if(!n)return xi.fail({shouldLeave:!1});if(n.status===J.OQ.SUCCEEDED)return this.requestPay();const a=yield this.confirmDebitSetup(this.intentSecret);return xi.isFailure(a)?xi.fail({shouldLeave:!1,message:a.failureResult.message}):a.successResult.status===J.OQ.SUCCEEDED?this.requestPay():xi.fail({shouldLeave:!1})}))}destroy(){var e;return(0,m.mG)(this,void 0,void 0,(function*(){null===(e=this.auBankAccountElement)||void 0===e||e.destroy()}))}requestPay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return xi.isSuccess(e)?e:xi.fail({shouldLeave:!1,message:e.failureResult.message})}))}confirmDebitSetup(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=this.getElement(),{firstName:i,lastName:n}=this.donorNameDataPoint.toObject(),{email:a}=this.donorEmailDataPoint.toObject();let r;try{r=yield this.stripe.confirmAuBecsDebitSetup(e,{payment_method:{au_becs_debit:t,billing_details:{name:Mi([i,n]),email:a}}})}catch(e){return this.sentry.captureException(e),xi.fail({shouldLeave:!1})}return r.error?"validation_error"===r.error.type||r.error.code===Cv.ACCOUNT_NUMBER_INVALID?xi.fail({shouldLeave:!1,message:r.error.message}):xi.fail({shouldLeave:!1}):xi.success(r.setupIntent)}))}retrieveSetupIntent(e){return(0,m.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.stripe.retrieveSetupIntent(e)}catch(e){return this.sentry.captureException(e),null}return t.error?null:t.setupIntent}))}validatePayment(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.getElement();let t;try{t=yield this.stripe.createPaymentMethod({type:St.Ey.AU_BECS,au_becs_debit:e,billing_details:{name:"customer",email:"test@test.ru"}})}catch(e){return this.sentry.captureException(e),!1}return!!t.paymentMethod&&!t.error}))}getElement(){if(!this.auBankAccountElement)throw new Error("auBankAccountElement is not initialized");return this.auBankAccountElement}createElement(){return this.stripeElements.create("auBankAccount",{iconStyle:"default",disabled:!1,hideIcon:!1,style:this.params.stripe.elementStyles,classes:this.params.stripe.elementClasses})}}class Nv extends Error{constructor(){super("Click to pay is not initialized")}}var Pv=i(56642);function Dv(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,m.mG)(this,void 0,void 0,(function*(){try{return yield e()}catch(n){if(i>=t.retries)throw n;return yield new(Fe())((e=>P()(e,t.delay))),Dv(e,t,++i)}}))}class Tv extends Error{constructor(e){super(`ClickToPay is not initialized: ${e}`)}}class _v{constructor(e,t){this.params=e,this.currencyService=t,this.sdkLoadWindow=null,this.verifierResolve=()=>{},this.verifierReject=()=>{},this.messageListener=e=>{try{const t=JSON.parse(e.data);if("clickToPayCallbackTransfer"!==t.type)return;const i=Pv.parse(t.query);"success"===i.mpstatus&&this.verifierResolve({clickToPayVerifier:i.oauth_verifier}),this.initializeTransferIframe().catch((e=>console.error(e)))}catch(e){console.error(e)}}}init(){return this.initializeTransferIframe()}create(e){const t=new(Fe())(((e,t)=>{this.verifierResolve=e,this.verifierReject=t}));return this.initializeTransferIframe().then((()=>{var i;if(!this.sdkLoadWindow)throw new Error("ClickToPay is not initialized");this.showIframe(),this.sdkLoadWindow.addEventListener("beforeunload",y()(i=this.hideIframe).call(i,this),{once:!0});try{this.sdkLoadWindow.masterpass.checkout(this.buildCheckoutParams(e))}catch(e){this.hideIframe(),this.verifierReject(e)}return t}))}destroy(){window.removeEventListener("message",this.messageListener)}get callbackUrl(){return this.params.env===St.CB.DEVELOPMENT?`${window.location.protocol}//checkout.funstaging.com:9001/callbacks/click-to-pay`:this.params.env===St.CB.STAGING?"https://checkout.funstaging.com/callbacks/click-to-pay":"https://checkout.fundraiseup.com/callbacks/click-to-pay"}get scriptUrl(){var e;return!this.params.livemode||Be()(e=[St.CB.DEVELOPMENT,St.CB.STAGING]).call(e,this.params.env)?"https://sandbox.src.mastercard.com/srci/integration/merchant.js":"https://src.mastercard.com/srci/integration/merchant.js"}testAccessToClickToPayFrame(){if(!this.sdkLoadWindow)return!1;try{this.sdkLoadWindow.masterpass}catch(e){if("SecurityError"===e.name)return!1;throw e}return!0}initializeTransferIframe(){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.testAccessToClickToPayFrame())return!0;if(this.clickToPayIframe&&window.document.documentElement.removeChild(this.clickToPayIframe),window.removeEventListener("message",this.messageListener),this.clickToPayIframe=document.createElement("iframe"),!this.clickToPayIframe)throw new Error("IFRAME is not initialized");this.clickToPayIframe.src=window.location.origin,this.clickToPayIframe.setAttribute("frameborder","0"),this.hideIframe(),window.document.documentElement.appendChild(this.clickToPayIframe),this.sdkLoadWindow=this.clickToPayIframe.contentWindow,this.sdkLoadWindow.document.open("text/html","replace"),this.sdkLoadWindow.document.write("<html><head></head><body></body></html>"),this.sdkLoadWindow.document.close(),window.addEventListener("message",this.messageListener);const e=function(e){const t=e=>e.toLowerCase().replace(/-/g,"_");return Be()(qe).call(qe,e)?t(e):t(Ge.c0.EN_US)}(this.params.locale);return Dv((()=>{if(!this.sdkLoadWindow)throw new Tv("no contentWindow in iframe");return nt(`${this.scriptUrl}?locale=${e}&checkoutid=${this.params.clickToPayCheckoutId}`,this.params.deferred,this.sdkLoadWindow)}),{retries:5,delay:1500})}))}buildCheckoutParams(e){const{amount:t,currency:i}=e;return{checkoutId:this.params.clickToPayCheckoutId,allowedCardTypes:["master","amex","diners","discover","jcb","maestro","visa"],amount:this.currencyService.toFloatUnformattedStr(t,i),currency:i.toLowerCase(),cartId:Math.random().toString(36).substring(2,15),callbackUrl:this.callbackUrl}}hideIframe(){var e,t;this.getIframe().setAttribute("style","display:none; width:0; height:0; z-index: 2147483647"),null===(t=(e=this.params).onHide)||void 0===t||t.call(e)}showIframe(){var e,t;this.getIframe().setAttribute("style","position: fixed; top: 0; left: 0; width:100%; height:100%; z-index: 2147483647"),null===(t=(e=this.params).onShow)||void 0===t||t.call(e)}getIframe(){if(!this.clickToPayIframe)throw new Error("clickToPayIframe is not initialized");return this.clickToPayIframe}}var Ov,Iv=i(95209);class Rv{constructor(e,t,i,n,a,r,s){this.config=e,this.currencyService=t,this.stripe=i,this.donationDataPoint=n,this.sentry=a,this.intl=r,this.paymentAPI=s,this.name=St.GZ.CLICK_TO_PAY,this.clickToPayPaymentMethodService=null}initiateFlow(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.clickToPayPaymentMethodService=new _v(x()(x()({},this.config),e),this.currencyService),this.clickToPayPaymentMethodService.init()}))}startFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.donationDataPoint.amount)throw new fv;if(!this.clickToPayPaymentMethodService)throw new Nv;const e=yield this.clickToPayPaymentMethodService.create({amount:this.donationDataPoint.amount,currency:this.donationDataPoint.currency});return this.clickToPayVerifier=e.clickToPayVerifier,this.clickToPayVerifier?xi.success(void 0):xi.fail({message:this.intl.translate("common.errorOccurredText")})}))}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.hold({clientPaymentMethod:St.GZ.CLICK_TO_PAY});return xi.isFailure(e)?e:xi.success(void 0)}))}pay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.createStripePaymentMethod();if(xi.isFailure(e))return xi.fail({shouldLeave:!1,message:e.failureResult.message});const t=yield this.initiatePayment(e.successResult);return xi.isSuccess(t)?t:xi.fail({shouldLeave:!1,message:t.failureResult.message})}))}destroy(){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.clickToPayPaymentMethodService)throw new Nv;this.clickToPayPaymentMethodService.destroy()}))}initiatePayment(e){return(0,m.mG)(this,void 0,void 0,(function*(){return new bv(this.stripe,e,this.paymentAPI).perform()}))}createStripePaymentMethod(){return(0,m.mG)(this,void 0,void 0,(function*(){let e;try{const t={type:St.Ey.CARD,card:{masterpass:{cart_id:(0,Iv.x0)(),transaction_id:this.clickToPayVerifier}}};e=yield this.stripe.createPaymentMethod(t)}catch(e){return this.sentry.captureException(e),xi.fail({})}return e.error?xi.fail({message:e.error.message}):e.paymentMethod?xi.success(e.paymentMethod):xi.fail({})}))}}class Lv extends Error{constructor(){super("Card element not found")}}class jv{constructor(e,t,i,n,a,r,s){this.stripe=e,this.stripeElements=t,this.sentry=i,this.intl=n,this.failureHandler=a,this.paymentAPI=r,this.params=s,this.name=St.GZ.CARD,this.initiated=!1,this.elementsState={cardNumber:{ready:!1,completed:!1,hasError:!1},cardExpiry:{ready:!1,completed:!1,hasError:!1},cardCvc:{ready:!1,completed:!1,hasError:!1}},this.handleElementChange=(e,t)=>{this.elementsState[e].completed=t.complete,this.elementsState[e].hasError=!!t.error},this.handleElementReady=e=>{this.elementsState[e].ready=!0}}initiateFlow(e){return(0,m.mG)(this,void 0,void 0,(function*(){var t,i,n,a,r,s;const{cardCvcContainer:o,cardExpiryContainer:c,cardNumberContainer:l}=e;if(this.initiated)return!0;const u=this.stripeElements.create("cardNumber",{iconStyle:"default",showIcon:!0,style:this.params.stripe.elementStyles,classes:this.params.stripe.elementClasses,placeholder:this.intl.translate("creditCardScreen.cardForm.numberInput.placeholder")}),d=this.stripeElements.create("cardExpiry",{style:this.params.stripe.elementStyles,classes:this.params.stripe.elementClasses}),h=this.stripeElements.create("cardCvc",{style:this.params.stripe.elementStyles,classes:this.params.stripe.elementClasses});return u.on("change",y()(t=this.handleElementChange).call(t,this,"cardNumber")),d.on("change",y()(i=this.handleElementChange).call(i,this,"cardExpiry")),h.on("change",y()(n=this.handleElementChange).call(n,this,"cardCvc")),u.once("ready",y()(a=this.handleElementReady).call(a,this,"cardNumber")),d.once("ready",y()(r=this.handleElementReady).call(r,this,"cardExpiry")),h.once("ready",y()(s=this.handleElementReady).call(s,this,"cardCvc")),u.mount(l),d.mount(c),h.mount(o),this.initiated=!0,!0}))}startFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.elementsReady?!this.elementsCompleted||this.hasElementsError?(yield this.stripe.createToken(this.getCardNumberElement()),xi.fail({})):xi.success(void 0):xi.fail({})}))}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.paymentAPI.hold({clientPaymentMethod:St.GZ.CARD})}))}destroy(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.stripeElements.getElement("cardNumber"),t=this.stripeElements.getElement("cardExpiry"),i=this.stripeElements.getElement("cardCvc");null==e||e.destroy(),null==t||t.destroy(),null==i||i.destroy()}))}pay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.createStripePaymentMethod();if(xi.isFailure(e))return this.failureHandler(),xi.fail({shouldLeave:!0,message:e.failureResult.message});const t=yield this.initiatePayment(e.successResult);return xi.isFailure(t)?(this.failureHandler(),xi.fail({shouldLeave:!0,message:t.failureResult.message})):t}))}get elementsReady(){var e;return wr()(e=ft()(this.elementsState)).call(e,(e=>{let{ready:t}=e;return t}))}get elementsCompleted(){var e;return wr()(e=ft()(this.elementsState)).call(e,(e=>{let{completed:t}=e;return t}))}get hasElementsError(){var e;return S()(e=ft()(this.elementsState)).call(e,(e=>{let{hasError:t}=e;return t}))}getCardNumberElement(){const e=this.stripeElements.getElement("cardNumber");if(!e)throw new Lv;return e}initiatePayment(e){return(0,m.mG)(this,void 0,void 0,(function*(){return new bv(this.stripe,e,this.paymentAPI).perform()}))}createStripePaymentMethod(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.getCardNumberElement();let t;try{t=yield this.stripe.createPaymentMethod({type:St.Ey.CARD,card:e})}catch(e){return this.sentry.captureException(e),xi.fail({})}return t.error?xi.fail({message:t.error.message}):t.paymentMethod?xi.success(t.paymentMethod):xi.fail({})}))}}!function(e){e.CANCELED="CANCELED"}(Ov||(Ov={}));class Mv{constructor(e,t,i,n,a,r,s,o,c,l,u,d,h){this.config=e,this.livemode=t,this.env=i,this.stripe=n,this.currencyService=a,this.donationDataPoint=r,this.paymentOptionsDataPoint=s,this.donorNameDataPoint=o,this.donorEmailDataPoint=c,this.sentry=l,this.intl=u,this.paymentAPI=d,this.googlePayAPI=h,this.name=St.GZ.GOOGLE_PAY,this.cardToken=null,this.googlePayJwt=null,this.client=null,this.googlePaySdkEnv="TEST",this.stripeLivemode="test",this.livemode&&this.env===St.CB.PRODUCTION&&(this.googlePaySdkEnv="PRODUCTION",this.stripeLivemode="live")}checkAvailability(){return(0,m.mG)(this,void 0,void 0,(function*(){try{if(!this.client)return!1;const e=this.makeReadyToPayRequest();return(yield this.client.isReadyToPay(e)).result}catch(e){return this.sentry.captureException(new Error(e.statusMessage),e),!1}}))}initiateFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){try{this.googlePayJwt=yield this.getJwt()}catch(e){return!1}return this.client=yield this.loadClient(),!0}))}startFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.GOOGLE_PAY),this.cardToken=yield this.createToken(),!this.cardToken)return xi.fail({});const e=yield this.hold();return xi.isFailure(e)?xi.fail({message:this.intl.translate("common.errorOccurredText")}):xi.success(void 0)}))}pay(){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.cardToken||(this.cardToken=yield this.createToken()),!this.cardToken)return xi.fail({shouldLeave:!1});const e=yield this.createStripePaymentMethod(this.cardToken);if(xi.isFailure(e))return this.cardToken=null,xi.fail({shouldLeave:!1,message:e.failureResult.message});const t=yield this.initiatePayment(e.successResult);if(this.cardToken=null,xi.isSuccess(t))return t;const{message:i,additionalMessage:n}=bv.handleCardError(this.intl,t.failureResult.hasBaseErrorMessage,t.failureResult.message);return xi.fail({shouldLeave:!1,message:i,additionalMessage:n})}))}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){try{const e=yield this.paymentAPI.hold({clientPaymentMethod:St.GZ.GOOGLE_PAY});if(xi.isFailure(e))return e}catch(e){return xi.fail({shouldLeave:!1})}return xi.success(void 0)}))}get merchantInfo(){if(!this.googlePayJwt)throw new Error("GPay token is required");return{merchantId:this.config.googlePayInfo.merchantId,merchantName:this.config.companyName,merchantOrigin:window.location.hostname,authJwt:this.googlePayJwt}}initiatePayment(e){return(0,m.mG)(this,void 0,void 0,(function*(){return new bv(this.stripe,e,this.paymentAPI).perform()}))}createStripePaymentMethod(e){return(0,m.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.stripe.createPaymentMethod({type:St.Ey.CARD,card:{token:e}})}catch(e){return this.sentry.captureException(e),xi.fail({})}return t.error?xi.fail({message:t.error.message}):t.paymentMethod?xi.success(t.paymentMethod):xi.fail({})}))}create(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.client)throw new Error("GPay client not found");const t=this.makePaymentRequest(e),i=yield this.client.loadPaymentData(t);if(i.errorCode)throw new Error("GPay payment data is not loaded");return{token:JSON.parse(i.paymentMethodData.tokenizationData.token),email:i.email}}))}makePaymentRequest(e){const{amount:t,currency:i}=e;return{apiVersion:2,apiVersionMinor:0,emailRequired:!0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:this.config.googlePayInfo.allowedAuthMethods,allowedCardNetworks:this.config.googlePayInfo.allowedCardNetworks},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"stripe",gatewayMerchantId:this.merchantInfo.merchantId,"stripe:version":this.config.googlePayInfo.stripeAPIVersion,"stripe:publishableKey":this.config.stripePublicKey[this.stripeLivemode]+"/"+this.config.stripeAccount}}}],transactionInfo:{countryCode:this.config.countryCode,currencyCode:i.toUpperCase(),totalPriceStatus:"FINAL",totalPrice:this.currencyService.toFloatUnformattedStr(t,i.toUpperCase())},merchantInfo:this.merchantInfo}}makeReadyToPayRequest(){return{allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:this.config.googlePayInfo.allowedAuthMethods,allowedCardNetworks:this.config.googlePayInfo.allowedCardNetworks}}],apiVersion:2,apiVersionMinor:0}}getJwt(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.googlePayAPI.getToken(window.location.hostname)}))}loadClient(){return(0,m.mG)(this,void 0,void 0,(function*(){return yield nt("https://pay.google.com/gp/p/js/pay.js",!1,window),new window.google.payments.api.PaymentsClient({environment:this.googlePaySdkEnv})}))}createToken(){var e;return(0,m.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.create({currency:this.donationDataPoint.currency,amount:this.donationDataPoint.total}),t.token&&this.setDonorInfo(t)}catch(e){return(null==e?void 0:e.statusCode)!==Ov.CANCELED&&this.sentry.captureException(e),null}return(null===(e=t.token)||void 0===e?void 0:e.id)||null}))}setDonorInfo(e){var t,i;const n=e.email;n&&(this.donorEmailDataPoint.email=n);const a=(null===(i=null===(t=e.token)||void 0===t?void 0:t.card)||void 0===i?void 0:i.name)||"";a&&(this.donorNameDataPoint.fullName=a)}}var Fv=i(43028),Uv=i.n(Fv);class Bv{static removeAuthorizePaymentHandler(e){e&&window.removeEventListener("message",e)}constructor(e,t,i,n,a,r,s,o,c,l){this.sessionAPI=e,this.stripe=t,this.env=i,this.donorNameDataPoint=n,this.donorEmailDataPoint=a,this.donationDataPoint=r,this.idealDataPoint=s,this.intl=o,this.sentry=c,this.paymentAPI=l,this.name=J.GZ.IDEAL,this.intentSecret=null,this.paymentIntent=null,this.popup=null,this.popupParams={},this.counter=0}initiateFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return!0}))}startFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return xi.success(void 0)}))}hold(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{initOnly:!0};return(0,m.mG)(this,void 0,void 0,(function*(){let t;try{if(t=yield this.paymentAPI.hold({clientPaymentMethod:J.GZ.IDEAL,token:{initOnly:e.initOnly}}),xi.isFailure(t))return t}catch(e){return xi.fail({message:this.commonErrorText})}const{intentSecret:i}=t.successResult;if(!i){if(e.initOnly)return xi.success(void 0);throw new yv}this.intentSecret=i;const n=yield this.confirmPaymentIntent(i);return xi.isSuccess(n)?(this.paymentIntent=n.successResult,xi.success(void 0)):n}))}pay(){var e;return(0,m.mG)(this,void 0,void 0,(function*(){if(this.intentSecret){const e=yield this.retrievePaymentIntent(this.intentSecret);if((null==e?void 0:e.status)===J.OQ.SUCCEEDED)return this.closePopup(),this.requestPay()}const t=yield this.hold({initOnly:!1});if(xi.isFailure(t))return this.closePopup(),t;if(!this.paymentIntent||!this.intentSecret)throw this.closePopup(),new yv;if(this.paymentIntent.status===J.OQ.SUCCEEDED)return this.closePopup(),this.requestPay();const i=this.paymentIntent.next_action;return"redirect_to_url"===(null==i?void 0:i.type)&&(null===(e=i.redirect_to_url)||void 0===e?void 0:e.url)?this.handleAction(this.intentSecret,i.redirect_to_url.url):(this.closePopup(),this.requestPay())}))}openConfirmationWindow(e){var t;if(this.popup)return this.popup;(null===(t=this.paymentIntent)||void 0===t?void 0:t.status)!==J.OQ.SUCCEEDED?(this.popupParams=e,this.popup=window.open(this.popupPreLoadingPage,"_blank"),this.assertPopup(this.popup)):e.onClose&&e.onClose()}focusConfirmationWindow(){this.popup&&(this.popup.blur(),this.popup.focus())}destroy(){return(0,m.mG)(this,void 0,void 0,(function*(){}))}isPaid(){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.paymentIntent)return!1;if(this.paymentIntent.status===J.OQ.SUCCEEDED)return!0;this.assert(this.paymentIntent.client_secret);const e=yield this.retrievePaymentIntent(this.paymentIntent.client_secret);return(null==e?void 0:e.status)===J.OQ.SUCCEEDED}))}get commonErrorText(){return this.intl.translate("common.errorOccurredText")}get paymentErrorText(){return this.intl.translate("common.paymentNotAuthorizedError")}get popupPreLoadingPage(){switch(this.env){case Oe.C.PRODUCTION:return"https://checkout.fundraiseup.com/ideal";case Oe.C.STAGING:return"https://checkout.funstaging.com/ideal";case Oe.C.TESTING:return"http://checkout.fun.internal/ideal";default:return"https://checkout.localtest.me/ideal"}}confirmPaymentIntent(e){var t;return(0,m.mG)(this,void 0,void 0,(function*(){const i=this.donorNameDataPoint.toObject(),n=this.donorEmailDataPoint.toObject(),a=this.idealDataPoint.toObject().bank.id;if(!a)throw new Error("Bank should be provided");try{const r=yield this.stripe.confirmIdealPayment(e,{payment_method:{ideal:{bank:a},billing_details:{name:Mi([i.firstName,i.lastName]),email:n.email}},return_url:this.popupPreLoadingPage},{handleActions:!1});return r.error?(null===(t=r.error.payment_intent)||void 0===t?void 0:t.status)===J.OQ.SUCCEEDED?xi.success(r.error.payment_intent):xi.fail({message:r.error.message}):xi.success(r.paymentIntent)}catch(e){return xi.fail({message:e.message})}}))}handleAction(e,t){var i;return(0,m.mG)(this,void 0,void 0,(function*(){switch(yield this.authorizePayment(t),this.paymentIntent=yield this.retrievePaymentIntent(e),null===(i=this.paymentIntent)||void 0===i?void 0:i.status){case J.OQ.SUCCEEDED:return this.requestPay();case J.OQ.REQUIRES_PAYMENT_METHOD:{const t=yield this.confirmPaymentIntent(e);return xi.isSuccess(t)&&(this.paymentIntent=t.successResult),xi.fail({message:this.paymentErrorText})}case J.OQ.REQUIRES_ACTION:return xi.fail({message:this.paymentErrorText});default:return this.notifyAboutError(new Error("Unexpected payment intent status"),{paymentIntent:this.paymentIntent}),this.closePopup(),xi.fail({message:this.paymentErrorText})}}))}retrievePaymentIntent(e){return(0,m.mG)(this,void 0,void 0,(function*(){try{return yield this.retrievePaymentIntentWithRetry(e)}catch(e){return e instanceof vv&&this.notifyAboutWarning(e,{stripeError:e.resultError}),null}}))}retrievePaymentIntentWithRetry(e){return(0,m.mG)(this,void 0,void 0,(function*(){return Dv((()=>(0,m.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.stripe.retrievePaymentIntent(e)}catch(e){return this.sentry.captureException(e),null}if(t.error)throw new vv;return t.paymentIntent?t.paymentIntent:null}))),{retries:2,delay:500})}))}authorizePayment(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=this.popup;let i,n,a;return this.assertPopup(t),this.focusConfirmationWindow(),t.location=e,new(Fe())((e=>{a=this.authorizePaymentHandlerFn(e),i=Uv()((()=>{if(t.closed)return this.closePopup(),e()}),20),window.addEventListener("message",a),P()((()=>{this.resetCounter(),n=Uv()((()=>this.waitWhileIntentWillUpdated(e,1e3,n)),1e3)}),5e3)})).then((()=>{clearInterval(i),clearInterval(n),Bv.removeAuthorizePaymentHandler(a)}))}))}authorizePaymentHandlerFn(e){const t=new(Ai())(this.popupPreLoadingPage).origin;return i=>{if(i.origin===t)return this.closePopup(),e()}}waitWhileIntentWillUpdated(e,t,i){var n;return(0,m.mG)(this,void 0,void 0,(function*(){this.assert(this.intentSecret);const a=Math.round(9e5/t);if(this.counter>=a&&i)return clearInterval(i),this.closePopup(),e();this.counter++;const r=yield this.retrievePaymentIntent(this.intentSecret);return r&&r.status!==(null===(n=this.paymentIntent)||void 0===n?void 0:n.status)?(this.closePopup(),e()):void 0}))}resetCounter(){this.counter=0}requestPay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return xi.isSuccess(e)?e:xi.fail({shouldLeave:!1,message:e.failureResult.message})}))}closePopup(){this.popup&&(this.popup.close(),this.popupParams.onClose&&this.popupParams.onClose(),this.resetPopup())}resetPopup(){this.popup=null,this.popupParams={}}assertPopup(e){var t;const i=new Error(this.commonErrorText);if(!e)throw this.notifyAboutError(new Error("Can not create iDEAL popup"),{intent:null===(t=this.paymentIntent)||void 0===t?void 0:t.id}),i}assert(e){const t=new Error(this.commonErrorText);if(!e)throw t}notifyAboutError(e,t){this.sentry.captureException(e,{extra:x()(x()({},t),{widgetSession:this.sessionAPI.sessionToken})})}notifyAboutWarning(e,t){this.sentry.captureException(e,{level:"warning",extra:x()(x()({},t),{widgetSession:this.sessionAPI.sessionToken})})}}class Gv extends Error{constructor(){super("Paypal hold payload is invalid")}}const qv=["Component closed","Detected container element removed from DOM"];class Kv{constructor(e,t,i,n){this.config=e,this.sentry=t,this.locale=i,this.iframeWindow=n,this.scriptParams=null,this.buttonParams=null,this.actions=null,this.rendered=!1,this.paypalButtons=null,this.shouldLoadScript=!1}setCurrency(e,t){var i;const{paypalMerchantId:n,paypalClientId:a,subscriptionsEnabled:r}=this.config;if(!n){const e=new Error("Paypal merchant ID is not provided");throw this.sentry.captureException(e),e}const s={"client-id":a,"merchant-id":n,currency:this.getPaypalCurrency(e,t).toUpperCase(),"disable-funding":"venmo",locale:"automatic",intent:"capture",vault:"false"},o=He(this.locale);return o&&(s.locale=o),r&&(s.intent="tokenize",s.vault="true"),s.currency!==(null===(i=this.scriptParams)||void 0===i?void 0:i.currency)&&(this.shouldLoadScript=!0),this.scriptParams=s,this}setButtonParams(e){let{onCreate:t,onApprove:i,onButtonClick:n,buttonColor:a,onCancel:r}=e;return this.buttonParams={fundingSource:St.GZ.PAYPAL,style:{color:a,tagline:!1,shape:"rect",height:48,size:"responsive"},[this.paypalIdentifierMethod]:()=>t(this.clientPaymentMethod),onApprove:e=>(0,m.mG)(this,void 0,void 0,(function*(){const t=e[this.paypalIdentifierKey];if(!t)return this.handleEmptyTokenError(e);yield i(this.clientPaymentMethod,t)})),onInit:(e,t)=>{this.actions=t},onClick:()=>{n&&n(St.GZ.PAYPAL)},onError:e=>{const t=e.message;if(!t||!Be()(t).call(t,"popup close")&&!Be()(t).call(t,"cross-domain"))throw e},onCancel:()=>{null==r||r()}},this}disable(){var e;null===(e=this.actions)||void 0===e||e.disable()}enable(){var e;null===(e=this.actions)||void 0===e||e.enable()}preloadPayPalScript(){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.scriptParams)throw new Error("Call `setCurrency` before you mount");this.shouldLoadScript&&(yield nt(`https://www.paypal.com/sdk/js?${(0,jt.f0)(this.scriptParams)}`,!1,this.iframeWindow),this.shouldLoadScript=!1)}))}mount(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.buttonParams)throw new Error("Call `setHandlers` before you mount");if(e&&this.checkAvailability()){this.paypalButtons=this.iframeWindow.paypal.Buttons(this.buttonParams);try{yield this.paypalButtons.render(e),this.rendered=!0}catch(e){if(Be()(qv).call(qv,null==e?void 0:e.message))return;throw e}}}))}destroy(){return(0,m.mG)(this,void 0,void 0,(function*(){this.rendered&&this.paypalButtons&&(yield this.paypalButtons.close(),this.rendered=!1,this.actions=null)}))}checkAvailability(){return!0}get clientPaymentMethod(){return St.GZ.PAYPAL}get paypalIdentifierMethod(){return this.config.subscriptionsEnabled?"createBillingAgreement":"createOrder"}get paypalIdentifierKey(){return this.config.subscriptionsEnabled?"billingToken":"orderID"}getPaypalCurrency(e,t){const i=this.config.paypalCurrencies;return Be()(i).call(i,e)?e:Be()(i).call(i,t)?t:"USD"}handleEmptyTokenError(e){this.sentry.captureException(new Error(`Got an undefined token by paypalIdentifierKey: ${this.paypalIdentifierKey}`),{extra:{paypalIdentifierKey:this.paypalIdentifierKey,paypalData:e}})}}class Vv{constructor(e,t,i,n,a,r,s,o,c,l,u,d,h,m){this.config=e,this.sentry=t,this.locale=i,this.iframeWindow=n,this.paymentOptionsDataPoint=a,this.donorNameDataPoint=r,this.donorEmailDataPoint=s,this.phoneNumberDataPoint=o,this.mailingAddressDataPoint=c,this.donationDataPoint=l,this.updateSession=u,this.paypalAPI=d,this.paymentAPI=h,this.paymentFailureHandler=m,this.name=J.GZ.PAYPAL,this.paypalButtonBuilder=new Kv(this.config,this.sentry,this.locale,this.iframeWindow)}initiateFlow(e){let{element:t,holdDone:i,onFail:n,buttonColor:a,onButtonClick:r,onCancel:s}=e;return(0,m.mG)(this,void 0,void 0,(function*(){return yield this.paypalButtonBuilder.setCurrency(this.donationDataPoint.currency,this.donationDataPoint.defaultCurrency).setButtonParams({buttonColor:a,onCreate:e=>(0,m.mG)(this,void 0,void 0,(function*(){yield this.updateSession();const t=yield this.paypalAPI.createOrder(e);if(!xi.isFailure(t))return t.successResult;n(t.failureResult)})),onApprove:(e,t)=>(0,m.mG)(this,void 0,void 0,(function*(){this.paymentOptionsDataPoint.setPaymentMethod(e),this.clientPaymentMethod=e,this.token=t;const a=yield this.hold();xi.isFailure(a)?n(a.failureResult):i()})),onButtonClick:r,onCancel:s}).mount(t),!0}))}preloadPayPalScript(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.paypalButtonBuilder.setCurrency(this.donationDataPoint.currency,this.donationDataPoint.defaultCurrency).preloadPayPalScript()}))}checkAvailability(){return this.paypalButtonBuilder.checkAvailability()}startFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return xi.success(void 0)}))}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.token||!this.clientPaymentMethod)throw new Gv;const e={token:this.token,clientPaymentMethod:this.clientPaymentMethod};try{const t=yield this.paymentAPI.hold(e);return xi.isFailure(t)?t:(this.setDonorInfo(t.successResult),xi.success(void 0))}catch(e){return xi.fail({})}}))}pay(){var e,t,i;return(0,m.mG)(this,void 0,void 0,(function*(){const n=yield this.paymentAPI.pay();return xi.isSuccess(n)?n:(null===(e=n.failureResult.errors)||void 0===e?void 0:e.code)===J.xB.ORDER_EXPIRED?(this.paymentFailureHandler(),xi.fail({shouldLeave:!0,message:null===(t=n.failureResult.errors)||void 0===t?void 0:t.message})):xi.fail({shouldLeave:!1,message:null===(i=n.failureResult.errors)||void 0===i?void 0:i.message})}))}closePaypal(){this.paypalButtonBuilder.destroy()}togglePaypalActions(e){return e?this.paypalButtonBuilder.enable():this.paypalButtonBuilder.disable()}setDonorInfo(e){var t,i,n;this.donorNameDataPoint.firstName=e.firstName||"",this.donorNameDataPoint.lastName=e.lastName||"",this.donorEmailDataPoint.email=e.email||"",this.phoneNumberDataPoint.phone=e.phone||"",(null===(t=e.address)||void 0===t?void 0:t.countryCode)&&(this.phoneNumberDataPoint.countryCode=null===(i=e.address)||void 0===i?void 0:i.countryCode),e.address&&(e.address.countryCode&&(this.mailingAddressDataPoint.countryCode=e.address.countryCode),this.mailingAddressDataPoint.city=e.address.city||"",this.mailingAddressDataPoint.line1=e.address.line1||"",this.mailingAddressDataPoint.line2=e.address.line2||"",this.mailingAddressDataPoint.region=e.address.region||"",this.mailingAddressDataPoint.postal=(null===(n=e.address.postal)||void 0===n?void 0:n.toString())||"")}}class Hv{constructor(e,t,i,n,a,r,s,o,c,l,u,d,h){this.stripe=e,this.stripeElements=t,this.donorNameDataPoint=i,this.donorEmailDataPoint=n,this.mailingAddressDataPoint=a,this.paymentOptionsDataPoint=r,this.sentry=s,this.paymentMethodManager=o,this.checkoutConfiguration=c,this.mailingAddressFailureHandler=l,this.makeMailingAddressMetaSnapshot=u,this.paymentAPI=d,this.params=h,this.name=J.GZ.SEPA,this.intentSecret=null,this.completed=!1,this.elementReady=!1,this.ibanElement=null,this.hasElementError=!1,this.onElementChange=e=>{this.paymentOptionsDataPoint.paymentMethodCountry=e.country,this.completed=e.complete,this.hasElementError=!!e.error}}initiateFlow(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.ibanElement||(this.ibanElement=this.createElement(),this.ibanElement.once("ready",(()=>{this.elementReady=!0})),this.ibanElement.on("change",this.onElementChange),this.ibanElement.mount(e)),!0}))}startFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.elementReady?!this.completed&&!(yield this.validatePayment())||this.hasElementError?xi.fail({}):xi.success(void 0):xi.fail({})}))}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.hold({clientPaymentMethod:J.GZ.SEPA});if(xi.isFailure(e))return xi.fail(e.failureResult);const{intentSecret:t}=e.successResult;if(this.paymentMethodManager.isRequired("address",{ibanCountry:this.country})&&this.makeMailingAddressRequired(),!t)throw new yv;return this.intentSecret=t,xi.success(void 0)}))}pay(){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.intentSecret)throw new yv;const{isValid:e}=this.mailingAddressDataPoint.validate();if(this.paymentMethodManager.isRequired("address",{ibanCountry:this.country})&&!e)throw new Error(`Wrong address format for ${this.country} IBAN`);const t=yield this.retrieveSetupIntent(this.intentSecret);if(!t)return xi.fail({shouldLeave:!1});if(t.status===J.OQ.SUCCEEDED)return this.requestPay();const i=yield this.confirmSepaDebitSetup(this.intentSecret);if(xi.isFailure(i))return i;const n=i.successResult;return n&&n.status===J.OQ.SUCCEEDED?this.requestPay():xi.fail({shouldLeave:!1})}))}destroy(){var e;return(0,m.mG)(this,void 0,void 0,(function*(){try{null===(e=this.ibanElement)||void 0===e||e.destroy()}catch(e){}}))}get country(){if(!this.paymentOptionsDataPoint.paymentMethodCountry)throw new Error("Country is not set");return this.paymentOptionsDataPoint.paymentMethodCountry}retrieveSetupIntent(e){return(0,m.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.stripe.retrieveSetupIntent(e)}catch(e){return this.sentry.captureException(e),null}return t.setupIntent?t.setupIntent:null}))}confirmSepaDebitSetup(e){var t;return(0,m.mG)(this,void 0,void 0,(function*(){var i;const n=this.getElement();if(!this.country)throw new Error("country was not set");const a=this.donorNameDataPoint.toObject(),r=this.donorEmailDataPoint.toObject(),s=this.mailingAddressDataPoint.toObject();let o;try{o=yield this.stripe.confirmSepaDebitSetup(e,{payment_method:{sepa_debit:n,billing_details:{name:Mi([a.firstName,a.lastName]),email:r.email,address:{line1:s.line1,city:s.city,country:s.countryCode,postal_code:s.postal}}}})}catch(e){return this.sentry.captureException(e),xi.fail({})}return o.error?"validation_error"===o.error.type?xi.fail({shouldLeave:!1,message:o.error.message}):Be()(i=["invalid_owner_address","country-code-invalid"]).call(i,null!==(t=o.error.message)&&void 0!==t?t:"")?(this.mailingAddressFailureHandler(),xi.fail({shouldLeave:!0,message:o.error.message})):xi.fail({shouldLeave:!1}):xi.success(o.setupIntent)}))}requestPay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return xi.isSuccess(e)?e:xi.fail({shouldLeave:!1,message:e.failureResult.message})}))}getElement(){if(!this.ibanElement)throw new Error("ibanElement is not initialized");return this.ibanElement}createElement(){return this.stripeElements.create("iban",{iconStyle:"default",disabled:!1,hideIcon:!1,placeholderCountry:this.checkoutConfiguration.company.country,style:x()(x()({},this.params.stripe.elementStyles),{base:x()(x()({},this.params.stripe.elementStyles.base),{fontSize:"14px"})}),classes:this.params.stripe.elementClasses,supportedCountries:["SEPA"]})}validatePayment(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.getElement();let t;try{t=yield this.stripe.createPaymentMethod({type:St.Ey.SEPA,sepa_debit:e,billing_details:{name:at,email:rt}})}catch(e){return this.sentry.captureException(e),!1}return!!t.paymentMethod&&!t.error}))}makeMailingAddressRequired(){this.makeMailingAddressMetaSnapshot(2),this.mailingAddressDataPoint.isEnabled=!0,this.mailingAddressDataPoint.isRequired=!0}}class Yv{constructor(e,t,i,n,a,r,s,o,c,l){this.stripe=e,this.donorEmailDataPoint=t,this.mailingAddressDataPoint=i,this.ukBacsDataPoint=n,this.sentry=a,this.intl=r,this.mailingAddressFailureHandler=s,this.ukBacsFailureHandler=o,this.makeMailingAddressMetaSnapshot=c,this.paymentAPI=l,this.name=St.GZ.UK_BACS,this.intentSecret=null}initiateFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return!0}))}startFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return xi.success(void 0)}))}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.hold({clientPaymentMethod:St.GZ.UK_BACS});if(xi.isFailure(e))return e;const{intentSecret:t}=e.successResult;if(!t)throw new yv;return this.makeMailingAddressRequired(),this.intentSecret=t,xi.success(void 0)}))}pay(){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.intentSecret)throw new yv;const e=yield this.retrieveSetupIntent(this.intentSecret);if(!e)return xi.fail({shouldLeave:!1});if(e.status===J.OQ.SUCCEEDED)return this.requestPay();const t=yield this.confirmBacsDebitSetup(this.intentSecret);if(xi.isFailure(t))return t;const i=t.successResult;return i&&i.status===J.OQ.SUCCEEDED?this.requestPay():xi.fail({shouldLeave:!0})}))}retrieveSetupIntent(e){return(0,m.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.stripe.retrieveSetupIntent(e)}catch(e){return this.sentry.captureException(e),null}return t.setupIntent?t.setupIntent:null}))}confirmBacsDebitSetup(e){var t,i,n;return(0,m.mG)(this,void 0,void 0,(function*(){var a,r;let s;const o=this.donorEmailDataPoint.toObject(),c=this.mailingAddressDataPoint.toObject(),l=this.ukBacsDataPoint.toObject();try{s=yield this.stripe.confirmBacsDebitSetup(e,{payment_method:{bacs_debit:{sort_code:l.sortCode,account_number:l.accountNumber},billing_details:{name:l.accountHolderName,email:o.email,address:{line1:c.line1,city:c.city,country:c.countryCode,postal_code:c.postal}}}})}catch(e){return this.sentry.captureException(e),xi.fail({})}return s.error?Be()(a=["invalid_owner_address","country-code-invalid"]).call(a,null!==(i=s.error.code)&&void 0!==i?i:"")?(this.mailingAddressFailureHandler(),xi.fail({shouldLeave:!0,additionalMessage:s.error.message,message:this.intl.translate("mailingAddressScreen.validationError.title")})):(this.ukBacsFailureHandler(),Be()(r=["invalid_bank_account_account_number","invalid_bank_account"]).call(r,null!==(n=s.error.code)&&void 0!==n?n:"")?xi.fail({shouldLeave:!0,message:s.error.message}):s.error.message?xi.fail({shouldLeave:!1,message:s.error.message}):xi.fail({shouldLeave:!0})):xi.success(null!==(t=s.setupIntent)&&void 0!==t?t:null)}))}requestPay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return xi.isSuccess(e)?e:xi.fail({shouldLeave:!1,message:e.failureResult.message})}))}makeMailingAddressRequired(){this.makeMailingAddressMetaSnapshot(3),this.mailingAddressDataPoint.isEnabled=!0,this.mailingAddressDataPoint.isRequired=!0}}const Zv="venmo";class $v{constructor(e,t,i,n){this.config=e,this.sentry=t,this.locale=i,this.iframeWindow=n,this.available=!0,this.scriptParams=null,this.buttonParams=null,this.actions=null,this.rendered=!1}init(){const{paypalMerchantId:e,paypalClientId:t}=this.config;if(!e){const e=new Error("Paypal merchant ID is not provided");throw this.sentry.captureException(e),e}const i={"client-id":t,"merchant-id":e,currency:"USD","enable-funding":Zv,"disable-funding":"card"},n=He(this.locale);return n&&(i.locale=n),this.scriptParams=i,this}setHandlers(e){let{onCreate:t,onApprove:i,onButtonClick:n,onCancel:a}=e;return this.buttonParams={fundingSource:Zv,style:{tagline:!1,shape:"rect",height:48,size:"responsive"},createOrder:()=>t(St.GZ.VENMO),onApprove:e=>(0,m.mG)(this,void 0,void 0,(function*(){if(!this.venmoButtons)throw new Error("Venmo Buttons not initialized");const t=e.orderID;if(!t)return this.handleEmptyTokenError(e);yield i(this.clientPaymentMethod,t)})),onInit:(e,t)=>{this.actions=t},onClick:()=>{n&&n(St.GZ.VENMO)},onError:e=>{const t=e.message;if(!t||!Be()(t).call(t,"popup close")&&!Be()(t).call(t,"cross-domain"))throw e},onCancel:()=>{null==a||a()}},this}disable(){var e;null===(e=this.actions)||void 0===e||e.disable()}enable(){var e;null===(e=this.actions)||void 0===e||e.enable()}mount(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.scriptParams)throw new Error("Call `setCurrency` before you mount");if(!this.buttonParams)throw new Error("Call `setHandlers` before you mount");if(yield nt(`https://www.paypal.com/sdk/js?${(0,jt.f0)(this.scriptParams)}`,!1,this.iframeWindow,{"data-namespace":"venmo"}),e)if(this.venmoButtons=this.iframeWindow.venmo.Buttons(this.buttonParams),this.venmoButtons.isEligible())try{yield this.venmoButtons.render(e),this.rendered=!0}catch(e){var t;if(Be()(t=["Component closed","Detected container element removed from DOM"]).call(t,null==e?void 0:e.message))return;throw e}else this.available=!1}))}destroy(){return(0,m.mG)(this,void 0,void 0,(function*(){this.rendered&&this.venmoButtons&&(yield this.venmoButtons.close(),this.rendered=!1)}))}get clientPaymentMethod(){return St.GZ.VENMO}handleEmptyTokenError(e){this.sentry.captureException(new Error("Got an undefined token"),{extra:{data:e}})}}class zv{constructor(e,t,i,n,a,r,s,o,c,l,u,d,h,m){this.livemode=e,this.showcase=t,this.config=i,this.sentry=n,this.locale=a,this.iframeWindow=r,this.paymentOptionsDataPoint=s,this.donorNameDataPoint=o,this.donorEmailDataPoint=c,this.phoneNumberDataPoint=l,this.mailingAddressDataPoint=u,this.updateSession=d,this.paypalAPI=h,this.paymentAPI=m,this.name=J.GZ.VENMO,this.venmoButtonBuilder=new $v(this.config,this.sentry,this.locale,this.iframeWindow)}checkAvailability(){return this.venmoButtonBuilder.available}initiateFlow(e){let{element:t,holdDone:i,onFail:n,onButtonClick:a,onCancel:r}=e;return(0,m.mG)(this,void 0,void 0,(function*(){return yield this.venmoButtonBuilder.init().setHandlers({onCreate:e=>(0,m.mG)(this,void 0,void 0,(function*(){yield this.updateSession();const t=yield this.paypalAPI.createOrder(e);if(!xi.isFailure(t))return t.successResult;n(t.failureResult)})),onApprove:(e,t)=>(0,m.mG)(this,void 0,void 0,(function*(){this.paymentOptionsDataPoint.setPaymentMethod(e),this.clientPaymentMethod=e,this.token=t;const a=yield this.hold();xi.isFailure(a)?n(a.failureResult):i()})),onButtonClick:a,onCancel:()=>{null==r||r()}}).mount(t),this.venmoButtonBuilder.available}))}startFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){return xi.success(void 0)}))}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.token||!this.clientPaymentMethod)throw new Gv;const e={token:this.token,clientPaymentMethod:this.clientPaymentMethod},t=yield this.paymentAPI.hold(e);return xi.isFailure(t)?xi.fail(t.failureResult):(this.setDonorInfo(t.successResult),xi.success(void 0))}))}pay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return xi.isSuccess(e)?e:xi.fail({shouldLeave:!1})}))}closeButton(){this.venmoButtonBuilder.destroy()}setDonorInfo(e){var t,i,n;this.donorNameDataPoint.firstName=e.firstName||"",this.donorNameDataPoint.lastName=e.lastName||"",this.donorEmailDataPoint.email=e.email||"",this.phoneNumberDataPoint.phone=e.phone||"",(null===(t=e.address)||void 0===t?void 0:t.countryCode)&&(this.phoneNumberDataPoint.countryCode=null===(i=e.address)||void 0===i?void 0:i.countryCode),e.address&&(e.address.countryCode&&(this.mailingAddressDataPoint.countryCode=e.address.countryCode),this.mailingAddressDataPoint.city=e.address.city||"",this.mailingAddressDataPoint.line1=e.address.line1||"",this.mailingAddressDataPoint.line2=e.address.line2||"",this.mailingAddressDataPoint.region=e.address.region||"",this.mailingAddressDataPoint.postal=(null===(n=e.address.postal)||void 0===n?void 0:n.toString())||"")}}class Wv{constructor(e){this.sessionAPI=e}getToken(e){return(0,m.mG)(this,void 0,void 0,(function*(){try{return yield this.sessionAPI.get("googlePay/token",{merchantOrigin:e},{retries:5,delay:200,rejectsOnInvalid:!0})}catch(e){throw Error("Error while receiving google pay token")}}))}}class Xv{constructor(e){this.sessionAPI=e}pay(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.sessionAPI.post("pay",{paymentMethod:null==e?void 0:e.paymentMethod})}))}hold(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=x()({},e);return this.sessionAPI.post("hold",t,{rejectsOnInvalid:!0})}))}status(){return(0,m.mG)(this,void 0,void 0,(function*(){try{return(yield this.sessionAPI.get("status",{},{retries:5,delay:200,rejectsOnInvalid:!0})).completed}catch(e){throw new Error("Payment was not started")}}))}}class Qv{constructor(e){this.sessionAPI=e}createOrder(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.sessionAPI.post("paypal/order",{clientPaymentMethod:e})}))}}var Jv,eS,tS,iS,nS,aS,rS,sS;function oS(e,t,i){if("USD"!==i)return t;const n=function(e){switch(e){case"ASBGJCET":return 150;case"AFLRJKTK":return 200;default:return null}}(e);return null===n?t:t<9500&&t>=n?9500:t}function cS(e){return e.instant&&!e.microdeposits.enabled}function lS(e){return!e.instant&&e.microdeposits.enabled&&e.microdeposits.type===sS.AUTOMATIC}function uS(e){return!e.instant&&e.microdeposits.enabled&&e.microdeposits.type===sS.MICRODEPOSITS}function dS(e){return e.instant&&e.microdeposits.enabled&&e.microdeposits.type===sS.MICRODEPOSITS}function hS(e){return e.instant&&e.microdeposits.enabled&&e.microdeposits.type===sS.AUTOMATIC}function mS(e){return e>=9500}!function(e){e.DONOR_PORTAL_SUBSCRIPTION_EDITOR="donorPortalSubscriptionEditor",e.DASHBOARD_SUBSCRIPTION_EDITOR="dashboardSubscriptionEditor",e.WIDGET="widget",e.VIRTUAL_TERMINAL="virtualTerminal"}(Jv||(Jv={})),function(e){e.NOWHERE="nowhere",e.WIDGET="widget",e.URL="url"}(eS||(eS={})),function(e){e.THE_ADVENTURE_PROJECT="5a8b26d4f9891300017cc0fc"}(tS||(tS={})),function(e){e[e.MONEY_LEGACY_MIN=0]="MONEY_LEGACY_MIN",e[e.MONEY_MIN=200]="MONEY_MIN",e[e.MONEY_MAX=500]="MONEY_MAX",e[e.MONEY_DEFAULT=200]="MONEY_DEFAULT",e[e.STOCK_MIN=200]="STOCK_MIN",e[e.STOCK_MAX=1e3]="STOCK_MAX",e[e.STOCK_DEFAULT=500]="STOCK_DEFAULT",e[e.CRYPTO_MIN=200]="CRYPTO_MIN",e[e.CRYPTO_MAX=1e3]="CRYPTO_MAX",e[e.CRYPTO_DEFAULT=500]="CRYPTO_DEFAULT"}(iS||(iS={})),function(e){e.ALWAYS="always",e.NEVER="never"}(nS||(nS={})),function(e){e.PER_INSTALLMENT="perInstallment",e.NONE="none"}(aS||(aS={})),function(e){e.UPPER="upper",e.PROPER="proper"}(rS||(rS={})),function(e){e.AUTOMATIC="automatic",e.MICRODEPOSITS="microdeposits"}(sS||(sS={}));class pS{constructor(e,t,i,n,a,r,s,o){this.stripe=e,this.usBankAccountDataPoint=t,this.donationDataPoint=i,this.sentry=n,this.paymentAPI=a,this.intl=r,this.params=s,this.paymentFailureHandler=o,this.name=J.GZ.US_BANK_ACCOUNT,this.intentSecret=null,this.initiateParams=null}initiateFlow(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.initiateParams=e,!0}))}startFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.usBankAccountDataPoint.usBankAccountVerificationSetup;if(e.isMicroDepositOnly||e.isAbavOnly)return xi.success(void 0);const t=yield this.hold();if(xi.isFailure(t))return xi.fail({message:t.failureResult.message||this.commonErrorText});if(!this.intentSecret)return xi.fail({message:this.commonErrorText});const i=yield this.collectBankAccountForSetup(this.intentSecret);if(xi.isFailure(i))return i;const n=i.successResult;if(n.status===J.OQ.REQUIRES_PAYMENT_METHOD)return xi.fail({});const a=n.payment_method;return this.assertUSBankAccountPaymentMethod(a),this.paymentMethod=a,this.usBankAccountDataPoint.financialInstitution=a.us_bank_account.bank_name,this.usBankAccountDataPoint.accountNumber=a.us_bank_account.last4,this.usBankAccountDataPoint.routingNumber=a.us_bank_account.routing_number,this.usBankAccountDataPoint.accountType=a.us_bank_account.account_holder_type,xi.success(void 0)}))}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.shouldCreatePaymentMethod){const e=yield this.createPaymentMethod();if(xi.isFailure(e))return e}const e=yield this.paymentAPI.hold({clientPaymentMethod:J.GZ.US_BANK_ACCOUNT,token:{verificationType:this.verificationType}});if(xi.isFailure(e))return xi.fail(e.failureResult);const{intentSecret:t}=e.successResult;if(!t)throw new yv;return this.intentSecret=t,xi.success(void 0)}))}pay(){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.intentSecret)throw new yv;const e=yield this.retrieveSetupIntent(this.intentSecret);if(xi.isFailure(e))return e;if(e.successResult.status===J.OQ.SUCCEEDED)return this.requestPay();const t=yield this.confirmUsBankAccountSetup(this.intentSecret);if(xi.isFailure(t))return t;const i=t.successResult;return!i||i.status!==J.OQ.SUCCEEDED&&i.status!==J.OQ.REQUIRES_ACTION?xi.fail({shouldLeave:!0}):(i.next_action&&(this.assertUSBankAccountNextAction(i.next_action),this.usBankAccountDataPoint.verificationType=i.next_action.verify_with_microdeposits.microdeposit_type),this.requestPay())}))}get verificationType(){var e;if(null===(e=this.initiateParams)||void 0===e?void 0:e.verificationType)return this.initiateParams.verificationType;const t=this.usBankAccountDataPoint.usBankAccountVerificationSetup;return t.isAbavOnly?"instant_or_skip":t.isInstantOnly?"instant":t.isInstantAndMicroDeposit?mS(oS(this.params.companyKey,this.donationDataPoint.total,this.donationDataPoint.currency))?"automatic":"instant":t.isInstantAndAbav?"instant_or_skip":"microdeposits"}get shouldCreatePaymentMethod(){return"microdeposits"===this.verificationType||"instant_or_skip"===this.verificationType}get commonErrorText(){return this.intl.translate("common.errorOccurredText")}get captureErrorContext(){return{extra:{widgetSession:this.params.sessionToken}}}createPaymentMethod(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.usBankAccountDataPoint.toObject();let t;try{t=yield this.stripe.createPaymentMethod({type:J.Ey.US_BANK_ACCOUNT,billing_details:{name:this.usBankAccountDataPoint.accountHolderName},us_bank_account:{account_number:e.accountNumber,routing_number:e.routingNumber,account_holder_type:e.accountType}})}catch(e){return this.sentry.captureException(e,this.captureErrorContext),xi.fail({shouldLeave:!1})}if(t.error)return xi.fail({shouldLeave:!1,message:t.error.message||this.commonErrorText});const i=t.paymentMethod;return this.assertUSBankAccountPaymentMethod(i),this.paymentMethod=i,this.usBankAccountDataPoint.financialInstitution=i.us_bank_account.bank_name,xi.success(i)}))}retrieveSetupIntent(e){return(0,m.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.stripe.retrieveSetupIntent(e)}catch(e){return this.sentry.captureException(e,this.captureErrorContext),xi.fail({shouldLeave:!1})}return t.setupIntent?xi.success(t.setupIntent):xi.fail({shouldLeave:!1})}))}confirmUsBankAccountSetup(e){var t;return(0,m.mG)(this,void 0,void 0,(function*(){var i;let n;this.assertUSBankAccountPaymentMethod(this.paymentMethod);try{n=yield this.stripe.confirmUsBankAccountSetup(e,{payment_method:this.paymentMethod.id,expand:["payment_method"]})}catch(e){return this.sentry.captureException(e,this.captureErrorContext),xi.fail({shouldLeave:!1})}return n.setupIntent?xi.success(n.setupIntent):(this.paymentFailureHandler(),Be()(i=["invalid_bank_account_account_number","invalid_bank_account"]).call(i,null!==(t=n.error.code)&&void 0!==t?t:"")||n.error.message?xi.fail({shouldLeave:!0,message:n.error.message}):xi.fail({shouldLeave:!0}))}))}collectBankAccountForSetup(e){var t,i,n,a;return(0,m.mG)(this,void 0,void 0,(function*(){let r;try{null===(i=null===(t=this.initiateParams)||void 0===t?void 0:t.onPopupOpen)||void 0===i||i.call(t),r=yield this.stripe.collectBankAccountForSetup({clientSecret:e,params:{payment_method_type:J.Ey.US_BANK_ACCOUNT,payment_method_data:{billing_details:{name:at}}},expand:["payment_method"]})}catch(e){return this.sentry.captureException(e,this.captureErrorContext),xi.fail({shouldLeave:!1})}finally{null===(a=null===(n=this.initiateParams)||void 0===n?void 0:n.onPopupClose)||void 0===a||a.call(n)}return r.setupIntent?xi.success(r.setupIntent):r.error?xi.fail({shouldLeave:!1,message:r.error.message||this.commonErrorText}):xi.fail({shouldLeave:!1})}))}requestPay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentAPI.pay();return xi.isSuccess(e)?e:xi.fail({shouldLeave:!1,message:e.failureResult.message})}))}assertUSBankAccountPaymentMethod(e){if("us_bank_account"!==e.type)throw this.sentry.captureException(new Error(`Expected us_bank_account payment method, but ${e.type} has been retrieved`),this.captureErrorContext),new Error(this.commonErrorText)}assertUSBankAccountNextAction(e){if("verify_with_microdeposits"!==e.type)throw this.sentry.captureException(new Error(`Expected verify_with_microdeposits next action, but ${e.type} has been retrieved`),this.captureErrorContext),new Error(this.commonErrorText)}}class gS{constructor(e,t,i,n){this.sentry=e,this.intl=t,this.paymentMethodAvailabilityManagerRepository=i,this.params=n,this.paymentFlows={}}destroy(){return(0,m.mG)(this,void 0,void 0,(function*(){for(const e of ft()(this.paymentFlows))e.destroy&&(yield e.destroy())}))}resolveClickToPay(e){let{env:t,currencyService:i,stripe:n,livemode:a,locale:r,clickToPayCheckoutId:s,sessionAPI:o,donationDataPoint:c}=e;return this.getOrCreatePaymentFlow(St.GZ.CLICK_TO_PAY,(()=>{if(!n)throw new Error("Click to pay dependencies are not provided");return new Rv({env:t,livemode:a,clickToPayCheckoutId:s,deferred:!1,locale:r},i,n,c,this.sentry,this.intl,new Xv(o))}))}resolveCard(e){let{sessionAPI:t,stripe:i,stripeElements:n,failureHandler:a}=e;return this.getOrCreatePaymentFlow(St.GZ.CARD,(()=>{if(!i||!n)throw new Error("Credit card dependencies are not provided");return new jv(i,n,this.sentry,this.intl,a,new Xv(t),{stripe:{elementClasses:this.params.stripe.elementClasses,elementStyles:this.params.stripe.elementStyles}})}))}resolvePaypal(e){let{sessionAPI:t,locale:i,iframeWindow:n,paypalClientId:a,paypalMerchantId:r,paypalCurrencies:s,subscriptionsEnabled:o,paymentOptionsDataPoint:c,donorNameDataPoint:l,donorEmailDataPoint:u,phoneNumberDataPoint:d,donationDataPoint:h,mailingAddressDataPoint:m,updateSession:p,paymentFailureHandler:g}=e;return this.getOrCreatePaymentFlow(St.GZ.PAYPAL,(()=>new Vv({paypalClientId:a,paypalMerchantId:r,paypalCurrencies:s,subscriptionsEnabled:o},this.sentry,i,n,c,l,u,d,m,h,p,new Qv(t),new Xv(t),g)))}resolveGooglePay(e){let{sessionAPI:t,livemode:i,env:n,googlePayInfo:a,stripeAccount:r,companyName:s,stripePublicKey:o,countryCode:c,stripe:l,currencyService:u,donationDataPoint:d,paymentOptionsDataPoint:h,donorNameDataPoint:m,donorEmailDataPoint:p}=e;return this.getOrCreatePaymentFlow(St.GZ.GOOGLE_PAY,(()=>{if(!r)throw new Error("Stripe account is required for GPay");return new Mv({googlePayInfo:a,stripeAccount:r,stripePublicKey:o,companyName:s,countryCode:c},i,n,l,u,d,h,m,p,this.sentry,this.intl,new Xv(t),new Wv(t))}))}resolveUkBacs(e){let{sessionAPI:t,stripe:i,donorEmailDataPoint:n,mailingAddressDataPoint:a,ukBacsDataPoint:r,mailingAddressFailureHandler:s,ukBacsFailureHandler:o,makeMailingAddressMetaSnapshot:c}=e;return this.getOrCreatePaymentFlow(St.GZ.UK_BACS,(()=>new Yv(i,n,a,r,this.sentry,this.intl,s,o,c,new Xv(t))))}resolveApplePay(e){let{sessionAPI:t,companyName:i,applePayStripeLoadingPromise:n,donationDataPoint:a,paymentOptionsDataPoint:r,donorNameDataPoint:s,donorEmailDataPoint:o}=e;return this.getOrCreatePaymentFlow(St.GZ.APPLE_PAY,(()=>{const e={country:St.C9.UNITED_STATES,currency:a.currency.toLowerCase(),total:{label:i,amount:a.total||0}};return new Ev(e,n,a,r,s,o,this.sentry,this.intl,new Xv(t))}))}resolveAuBECS(e){let{sessionAPI:t,stripe:i,stripeElements:n,donorNameDataPoint:a,donorEmailDataPoint:r}=e;return this.getOrCreatePaymentFlow(St.GZ.AU_BECS,(()=>{if(!i||!n)throw new Error("Elements are not provided");return new wv(i,n,a,r,this.sentry,new Xv(t),{stripe:{elementClasses:this.params.stripe.elementClasses,elementStyles:this.params.stripe.elementStyles}})}))}resolveSepa(e){let{sessionAPI:t,stripe:i,stripeElements:n,mailingAddressDataPoint:a,donorNameDataPoint:r,donorEmailDataPoint:s,paymentOptionsDataPoint:o,checkoutConfiguration:c,mailingAddressFailureHandler:l,makeMailingAddressMetaSnapshot:u}=e;return this.getOrCreatePaymentFlow(St.GZ.SEPA,(()=>{if(!i||!n)throw new Error("Elements are not provided");const e=this.paymentMethodAvailabilityManagerRepository.getManager(St.GZ.SEPA,Jv.WIDGET);return new Hv(i,n,r,s,a,o,this.sentry,e,c,l,u,new Xv(t),{stripe:{elementClasses:this.params.stripe.elementClasses,elementStyles:this.params.stripe.elementStyles}})}))}resolveIDEAL(e){let{sessionAPI:t,stripe:i,stripeElements:n,donorNameDataPoint:a,donorEmailDataPoint:r,donationDataPoint:s,idealDataPoint:o,env:c}=e;return this.getOrCreatePaymentFlow(St.GZ.IDEAL,(()=>{if(!i||!n)throw new Error("Elements are not provided");return new Bv(t,i,c,a,r,s,o,this.intl,this.sentry,new Xv(t))}))}resolveUSBankAccount(e){let{stripe:t,usBankAccountDataPoint:i,donationDataPoint:n,sessionAPI:a,checkoutConfiguration:r,paymentFailureHandler:s}=e;return this.getOrCreatePaymentFlow(St.GZ.US_BANK_ACCOUNT,(()=>new pS(t,i,n,this.sentry,new Xv(a),this.intl,{companyKey:r.company.key,sessionToken:a.sessionToken},s)))}resolveACSS(e){let{sessionAPI:t,stripe:i,paymentOptionsDataPoint:n}=e;return this.getOrCreatePaymentFlow(St.GZ.ACSS,(()=>new Sv(i,n,this.intl,this.sentry,new Xv(t))))}resolveVenmo(e){let{sessionAPI:t,livemode:i,showcase:n,locale:a,iframeWindow:r,paypalClientId:s,paypalMerchantId:o,paymentOptionsDataPoint:c,donorNameDataPoint:l,donorEmailDataPoint:u,phoneNumberDataPoint:d,mailingAddressDataPoint:h,updateSession:m}=e;return this.getOrCreatePaymentFlow(St.GZ.VENMO,(()=>new zv(i,n,{paypalClientId:s,paypalMerchantId:o},this.sentry,a,r,c,l,u,d,h,m,new Qv(t),new Xv(t))))}getPaymentFlow(e){return this.paymentFlows[e]}getOrCreatePaymentFlow(e,t){return this.paymentFlows[e]||(this.paymentFlows[e]=t()),this.paymentFlows[e]}}var fS,yS,vS,SS,CS=i(36065),bS=i.n(CS);!function(e){e[e.MIN=80]="MIN",e[e.MAX=250]="MAX"}(fS||(fS={})),function(e){e.EMAIL="email",e.ADDRESS="address",e.NOT_SHARE="not_share"}(yS||(yS={})),function(e){e.NONE="none",e.HONOR="honor",e.MEMORY="memory"}(vS||(vS={})),function(e){e.POSTAL_CARD="card",e.LETTER="letter"}(SS||(SS={}));const AS={[vS.MEMORY]:"In Memory",[vS.HONOR]:"In Honor",[vS.NONE]:""};vS.MEMORY,vS.HONOR,vS.NONE,i(45214);var ES,xS=i(782);i(7815);class kS{static get emptyAmountOptions(){return{once:[],every4weeks:[],monthly:[],daily:[],weekly:[],biweekly:[],bimonthly:[],quarterly:[],semiannual:[],annual:[]}}static get emptyDefaultAmounts(){return{once:0,monthly:0,daily:0,weekly:0,biweekly:0,bimonthly:0,quarterly:0,semiannual:0,annual:0}}constructor(e,t,i,n,a,r,s,o,c,l,u,d,h,m,p,g,f,y,v,S){var C;this.dataPointRegistry=e,this._checkoutConfiguration=t,this.checkoutState=i,this._checkoutUIState=n,this.sessionService=a,this.sessionAPI=r,this.tracker=s,this.currencyService=o,this.intl=c,this.iframeWindow=l,this.sentry=u,this.paymentScreen=d,this.eventEmitter=h,this.checkoutAPIBridge=m,this.debug=p,this.experiments=g,this.paymentAPI=f,this.logger=y,this._redirectApi=v,this.params=S,this.shouldFindMandatoryScreen=!1,this._closeSessionPromise=null,(null===(C=this.checkoutConfiguration.fundraisingPage)||void 0===C?void 0:C.key)&&(this.checkoutUIState.askPageActiveTab="fundraiser")}get redirectApi(){return this._redirectApi}get checkoutUIState(){return this._checkoutUIState}get checkoutConfiguration(){return this._checkoutConfiguration}get campaignConfig(){return this.checkoutConfiguration.campaign.config}get defaultAmountOptions(){return this.checkoutConfiguration.defaultAmountOptions}get company(){return this.checkoutConfiguration.company}get queryParams(){return this.checkoutConfiguration.queryParams}get hasPaymentAttempt(){return this.getState().hasPaymentAttempt}get canGoBack(){return this.checkoutState.canGoBack}get livemode(){return this.checkoutConfiguration.infrastructureParams.livemode}get isPaid(){var e;return!!(null===(e=this.getState().donationResultState)||void 0===e?void 0:e.donationId)}reloadCheckout(e){return(0,m.mG)(this,void 0,void 0,(function*(){this.trackCheckoutClose(e),yield pr(20),window.location.reload()}))}initialize(e){this.sessionService.updateSession(),this.checkoutUIState.preloadComponents()}dispose(){return(0,m.mG)(this,void 0,void 0,(function*(){}))}collectDataPoint(e,t){for(const t of e)this.checkoutState.setCollectedFor(t),t.collectTo(this.checkoutState);if(t)return this.onDataPointCollect(e);this.onDataPointCollect(e)}updateSession(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.sessionService.updateSession()}))}getDataPoint(e){return this.dataPointRegistry.getDataPoint(e)}resetDataPoint(e){const t=this.getDataPoint(e);t.reset(this.checkoutState),this.checkoutState.unsetCollectedFor(t)}enableDataPoint(e){return this.checkoutState.setEnabledFor(e),this}disableDataPoint(e){return this.checkoutState.unsetEnabledFor(e),this}makeDataPointRequired(e){return this.checkoutState.setRequiredFor(e),this}makeDataPointOptional(e){return this.checkoutState.unsetRequiredFor(e),this}getState(){return this.checkoutState.get()}tryCloseSession(){return(0,m.mG)(this,void 0,void 0,(function*(){if(this._closeSessionPromise)return this._closeSessionPromise;if(this.canCloseSession){this._closeSessionPromise=this.closeSession();try{yield this._closeSessionPromise}finally{this._closeSessionPromise=null}}}))}abandon(){const e=this.getDataPoint("RemindMeLater").toObject();return this.sessionAPI.abandon({remindMeLater:e})}setCanGoBack(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.checkoutState.setCanGoBack(e),this}onStateUpdate(e){return this.checkoutState.onStateUpdate(e)}syncUpdateCheckoutState(){this.checkoutState.syncUpdate()}thankYouShown(){this.logger.showThankYouScreen(this.checkoutConfiguration.campaign.key)}setRemoveCloseGuard(e){this._removeCloseGuard=e}disarmCloseGuard(){this._removeCloseGuard&&this._removeCloseGuard()}updateSessionWidgetDefaults(){this.sessionService.updateSessionWidgetDefaults()}get canCloseSession(){return!this.sessionService.closed&&this.isPaid}setPaymentAttempt(){return this.checkoutState.setPaymentAttempt(),this}handlePaymentRedirect(e){return(0,m.mG)(this,void 0,void 0,(function*(){e===this.params.screenSet.thankYou&&this.canRedirect&&(this.debug.log("simulating additional pay delay before redirect"),yield pr(kS.ADDITIONAL_PAY_DELAY),this.debug.log("redirecting"),yield this.tryCloseSession(),yield this.redirectApi.tryRedirect(this))}))}getCommonPublicCheckoutDonationParams(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=this.getDataPoint("MailingListSubscription"),i=this.getDataPoint("DonorName"),n=this.getDataPoint("DonorEmail"),a=this.getDataPoint("Tribute"),r=this.getDataPoint("DTD"),s=this.getDataPoint("OnBehalfOf"),o=this.getDataPoint("DonateAnonymous"),c=this.getDataPoint("Designation"),l=this.checkoutConfiguration.campaign.config,u=a.toObject(),d=i.toObject(),h=n.toObject(),m=this.getDonationParams(),p=u.isActive&&!!u.inHonorOf;return{supporter:e.payResult&&this.isPaid?{id:e.payResult.customerId,email:h.email,firstName:d.firstName,lastName:d.lastName,anonymous:l.showAnonymous&&o.anonymousChecked,mailingListSubscribed:l.showSubscription&&t.checked,employer:r.employer.name||null,onBehalfOf:s.isOnBehalfOf?s.companyName:null}:null,donation:e.payResult&&this.isPaid?{id:e.payResult.donationId,paymentMethod:(g=e.clientPaymentMethod,{[xS.G.CARD]:"CreditCard",[xS.G.APPLE_PAY]:"ApplePay",[xS.G.GOOGLE_PAY]:"GooglePay",[xS.G.PAYPAL]:"PayPal",[xS.G.VENMO]:"Venmo",[xS.G.ACH]:"ACH",[xS.G.US_BANK_ACCOUNT]:"ACH",[xS.G.PLAID]:"Plaid",[xS.G.CLICK_TO_PAY]:"ClickToPay",[xS.G.AU_BECS]:"BECS",[xS.G.UK_BACS]:"Bacs",[xS.G.ACSS]:"PAD",[xS.G.SEPA]:"SEPA",[xS.G.IDEAL]:"iDEAL",[xS.G.CRYPTO]:"Crypto",[xS.G.STOCK]:"Stock"}[g]||""),amount:this.currencyService.toFloat(m.total,m.currency),feesCovered:this.currencyService.toFloat(m.publicFee,m.currency),currency:m.currency,recurring:m.frequency!==J.EK.ONCE,frequency:m.frequency}:null,designation:c.goalKey&&this.isPaid?{id:c.goalKey,name:c.goalName,code:c.goalCode}:null,tribute:p?{type:(f=u.type,f&&AS[f]||"")}:null,recurring:e.payResult&&this.isPaid&&e.payResult.recurringId?{id:e.payResult.recurringId}:null};var g,f}))}getCommonPublicCheckoutIntentParams(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.getDataPoint("Tribute"),t=this.getDataPoint("DonorName"),i=this.getDataPoint("DonorEmail"),n=this.getDataPoint("Designation"),a=this.getDataPoint("Comment"),r=this.getDataPoint("RemindMeLater"),s=e.toObject(),o=t.toObject(),c=i.toObject(),l=this.getDonationParams(),u=s.isActive&&!!s.inHonorOf;return this.isPaid?null:{flowType:this.checkoutState.flowType,checkoutSettings:{modifyAmount:l.canModifyAmount,designation:n.goalKey,modifyDesignation:n.modifyDesignation},comment:a.comment,donation:{amount:l.amount,currency:l.currency,recurring:l.frequency!==J.EK.ONCE,frequency:l.frequency},supporter:{email:c.email,firstName:o.firstName,lastName:o.lastName},tribute:u?{type:s.type,labelType:s.labelType,inHonorOf:s.inHonorOf}:null,isSavedEmailOnExit:r.used,feeCovered:l.feeCovered}}))}capturePayErrorToSentry(e){e&&(e instanceof Li&&0===e.statusCode||this.sentry.captureException(e))}emitAnalyticsChargeSuccess(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.getAnalyticsEventPayload(),{sessionId:t}=e,i=(0,m._T)(e,["sessionId"]);this.logger.chargeSuccess({key:this.checkoutConfiguration.campaign.key,name:this.checkoutConfiguration.campaign.name},i,t)}))}emitDonationComplete(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.getPublicCheckoutDonationParams();this.checkoutAPIBridge.emitDonationComplete(e),this.logger.donationComplete({key:this.checkoutConfiguration.campaign.key,name:this.checkoutConfiguration.campaign.name},x()(x()({},e),this.checkoutAPIBridge.getOpenParams()))}))}handleDonationCompleted(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=[this.emitDonationComplete(),this.emitAnalyticsChargeSuccess(),this.trackCheckoutCharge(e)];yield Fe().all(t)}))}setDonationResultState(e){this.checkoutState.setDonationResultState({donationId:e.donationId,customerId:e.customerId,tributeId:e.tributeId,tributeDonorPortalLink:e.tributeDonorPortalLink,recurringId:e.recurringId})}onDataPointCollect(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.sessionService.updateSession()}))}getOpeningTime(){switch(this.checkoutConfiguration.checkoutType){case w.PAGE:return Math.round(window.performance.now());case w.MODAL:return O()()-this.tracker.checkoutOpenTimestamp;default:throw new X(this.checkoutConfiguration.checkoutType,"Unexpected checkout type")}}get canRedirect(){return this.redirectApi.canRedirect(this.getState())}closeSession(){return(0,m.mG)(this,void 0,void 0,(function*(){yield this.sessionService.updateSession(),yield this.sessionService.closeSession()}))}}kS.ADDITIONAL_PAY_DELAY=1e3,function(e){e.NONE="none",e.RANDOM="random"}(ES||(ES={}));class wS extends fe{constructor(e){super(),this.merge({customEventType:e.customEventType,customEventData:pe()(e.customEventData)})}get eventType(){return ge}}class NS extends xa{constructor(e,t,i,n,a,r){super(e,t),this.merge({checkoutScreen:i,chargeKey:n.chargeKey,chargeInUSDAmount:n.chargeInUSDAmount,chargeInDefaultCurrencyAmount:n.chargeInDefaultCurrencyAmount,chargeAmount:n.chargeAmount,chargeCurrency:n.chargeCurrency,chargeFeeCovered:n.chargeFeeCovered?1:0,chargePaymentMethod:n.chargePaymentMethod,chargeIsRecurring:n.chargeIsRecurring?1:0,chargeHasComment:n.chargeHasComment?1:0,chargeHasTribute:n.chargeHasTribute?1:0,chargeGoal:n.chargeGoal,chargeCampaignKey:n.chargeCampaignKey,duration:a,eventComment:r})}get eventType(){return"checkoutCharge"}}class PS extends xa{constructor(e,t,i){super(e,t),this.merge({checkoutScreen:i})}get eventType(){return"checkoutClose"}}class DS extends xa{constructor(e,t,i,n,a,r){super(e,t),this.merge({checkoutScreen:i,checkoutError:n,chargePaymentMethod:a,duration:r})}get eventType(){return"checkoutError"}}class TS extends xa{constructor(e,t,i,n){super(e,t),this.merge({checkoutScreen:i,eventComment:n})}get eventType(){return"checkoutScreenView"}}class _S extends xa{constructor(e,t,i,n){super(e,t),this.merge({duration:i,eventComment:n})}get eventType(){return"checkoutView"}}class OS extends kS{constructor(e,t,i,n,a,r,s,o,c,l,u,d,h,m,p,g,f,y,v,S,C,b,A){super(e,t,i,s,n,a,o,c,l,u,d,m,p,g,f,y,v,C,b,A),this.dataPointRegistry=e,this._checkoutConfiguration=t,this.checkoutState=i,this.sessionService=n,this.sessionAPI=a,this.paymentService=r,this._checkoutUIState=s,this.tracker=o,this.currencyService=c,this.intl=l,this.iframeWindow=u,this.sentry=d,this.paymentFlowManager=h,this.paymentScreen=m,this.eventEmitter=p,this.checkoutAPIBridge=g,this.debug=f,this.experiments=y,this.paymentAPI=v,this.postDonationUpsellAPI=S,this.logger=C,this._redirectApi=b,this.params=A,this.shouldFindMandatoryScreen=!1}get isReadyToRetryPay(){return this.getState().isReadyToRetryPay}get paymentScreenName(){return this.paymentScreen.get()}get type(){return this.checkoutState.flowType}get checkoutUIState(){return this._checkoutUIState}getState(){return this.checkoutState.get()}hasPaymentError(e){return this.getState().paymentErrors[e]}dispose(){return this.paymentFlowManager.destroy()}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.checkoutConfiguration.infrastructureParams.showcase)return xi.fail({});const e=this.getDataPoint("PaymentOptions").clientPaymentMethod,t=yield this.resolvePaymentFlow(e);let i;try{yield this.sessionService.updateSession(),i=yield t.hold()}catch(e){return xi.fail({shouldLeave:!1})}return xi.isFailure(i)?(this.payErrorMessage=i.failureResult.message,xi.fail({shouldLeave:!1})):xi.success(void 0)}))}pay(e){let{screen:t,predictedNextScreen:i}=e;return(0,m.mG)(this,void 0,void 0,(function*(){if(this.checkoutConfiguration.infrastructureParams.showcase)return xi.fail({});this.setPaymentError(J.GZ.CARD,!1),this.setPaymentError(J.GZ.UK_BACS,!1),this.setPaymentError(J.GZ.US_BANK_ACCOUNT,!1),this.setPaymentError(J.GZ.PAYPAL,!1),this.setMailingAddressError(!1),this.payErrorMessage=void 0,this.additionalPayErrorMessage=void 0,this.setPaymentAttempt();const e=this.getDataPoint("PaymentOptions").clientPaymentMethod,n=yield this.resolvePaymentFlow(e),a=O()(),r=yield this.sessionService.updateSession();if(xi.isFailure(r))return this.payErrorMessage=this.intl.translate("common.errorOccurredText"),xi.fail({});let s;try{s=yield n.pay()}catch(e){return this.shouldFindMandatoryScreen=!0,this.payErrorMessage=this.intl.translate("common.errorOccurredText"),this.capturePayErrorToSentry(e),yield this.trackError(this.payErrorMessage,a-O()(),t),xi.fail({shouldLeave:this.hasPaymentError(J.GZ.CARD)})}if(xi.isFailure(s)){this.shouldFindMandatoryScreen=!0,this.payErrorMessage=s.failureResult.message,this.additionalPayErrorMessage=s.failureResult.additionalMessage;const i=this.payErrorMessage||(e===J.GZ.CARD?this.intl.translate("creditCardScreen.cardError.title"):this.intl.translate("common.errorOccurredText"));return yield this.trackError(i,a-O()(),t),xi.fail({shouldLeave:s.failureResult.shouldLeave})}return s.successResult.data?(this.setDonationResultState(s.successResult.data),this.handleDonationCompleted({donationId:s.successResult.data.donationId,clientPaymentMethod:e||J.GZ.CARD,duration:a-O()(),screen:t}),yield this.handlePaymentRedirect(i),xi.success(void 0)):xi.fail({shouldLeave:!1})}))}saveCheckoutClosePublicParams(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.getDataPoint("Designation"),t=this.getDataPoint("RemindMeLater"),i=e.toObject(),n=t.toObject(),a=yield this.getPublicCheckoutDonationParams(),r=yield this.getCommonPublicCheckoutIntentParams();r&&(r.checkoutSettings.modifyDesignation=e.modifyDesignation,r.checkoutSettings.designation=i.goalKey,r.isSavedEmailOnExit=n.used),this.checkoutAPIBridge.setDonationParams(a),this.checkoutAPIBridge.setIntentParams(r)}))}trackCurrencyChange(e){this.tracker.track(new wS({customEventType:"selectCurrency",customEventData:{currency:e}}))}trackCheckoutCharge(e){const t=this.getDataPoint("FiatDonation"),i=t.toObject(),n=this.getDataPoint("Tribute"),a=this.getDataPoint("Comment"),r=this.getDataPoint("Designation"),s=this.checkoutConfiguration.campaign,o=this.checkoutConfiguration.element,c={[i.frequency]:i.amountOptions},l=i.hintAmounts[i.frequency].length?i.hintAmounts:c,u={};t.currentHint&&(u.hintAmount=t.currentHint.amount,u.hintDescription=t.currentHint.description,u.default=t.currentHint.default,u.amountUsd=t.currentHint.amountUsd,u.hintVariantName=t.hintsVariantName),this.tracker.track(new NS({frequency:i.frequency,currency:i.currency,amount:i.amount||0,amountOptions:l},{elementType:o.type,elementKey:o.key,elementReminderKey:o.reminderKey},e.screen,{chargeKey:e.donationId,chargeInUSDAmount:t.totalInUSD||0,chargeInDefaultCurrencyAmount:t.totalInDefaultCurrency,chargeAmount:t.total,chargeCurrency:t.currency,chargeFeeCovered:t.isFeeCovered,chargePaymentMethod:e.clientPaymentMethod,chargeIsRecurring:t.frequency!==J.EK.ONCE,chargeHasComment:Boolean(a.comment),chargeHasTribute:n.isFilled,chargeGoal:r.goalKey||void 0,chargeCampaignKey:s.key},e.duration,u))}trackCheckoutView(){var e,t;const i=this.getDataPoint("FiatDonation").toObject(),n=this.checkoutConfiguration.element,a={[i.frequency]:i.amountOptions},r=i.hintAmounts[i.frequency].length?i.hintAmounts:a,s=this.checkoutConfiguration.externalConfig,o=Boolean((null===(e=s.launcher)||void 0===e?void 0:e.elementKey)&&(null===(t=s.checkoutData)||void 0===t?void 0:t.amount)),c=this.getOpeningTime();this.debug.log("checkout opening time:eventCheckoutView",`${c} ms`),this.logger.widgetView({key:this.checkoutConfiguration.campaign.key,name:this.checkoutConfiguration.campaign.name}),this.tracker.track(new _S({frequency:i.frequency,currency:i.currency,amount:i.amount,amountOptions:r},{elementType:n.type,elementKey:n.key,elementReminderKey:n.reminderKey},c,{isAmountFromElement:o}))}trackCheckoutClose(e){const t=this.getDataPoint("FiatDonation").toObject(),i=this.checkoutConfiguration.element,n={[t.frequency]:t.amountOptions},a=t.hintAmounts[t.frequency].length?t.hintAmounts:n;this.logger.widgetClose({key:this.checkoutConfiguration.campaign.key,name:this.checkoutConfiguration.campaign.name}),this.tracker.track(new PS({frequency:t.frequency,currency:t.currency,amount:t.amount,amountOptions:a},{elementType:i.type,elementKey:i.key,elementReminderKey:i.reminderKey},e))}trackCheckoutScreenView(e,t,i,n){const a=this.getDataPoint("FiatDonation").toObject(),r=this.getDataPoint("PaymentOptions"),s=ze()(r.allowedPaymentMethods),o=B()(s).call(s,(e=>{var t;return!Be()(t=[J.GZ.STOCK,J.GZ.CRYPTO]).call(t,e)&&r.allowedPaymentMethods[e].available&&r.allowedPaymentMethods[e].show})),c=this.checkoutConfiguration.element,l={[a.frequency]:a.amountOptions},u=a.hintAmounts[a.frequency].length?a.hintAmounts:l,d={paymentMethods:o,renderDuration:null};t&&i&&(d.transitionDuration=i.getTime()-t.getTime()),n&&i&&(d.renderDuration=n.getTime()-i.getTime()),this.tracker.track(new TS({frequency:a.frequency,currency:a.currency,amount:a.amount,amountOptions:u},{elementType:c.type,elementKey:c.key,elementReminderKey:c.reminderKey},e,d))}getCheckoutTrackerData(){const e=this.getDataPoint("FiatDonation"),t=this.getDataPoint("Tribute");return{donation:{amount:e.amount,currency:e.currency,frequency:e.frequency,defaultAmount:e.defaultAmount,amountOptions:e.amountOptions,currentHint:e.currentHint,hintOptions:e.hintOptions,hintVariantName:e.hintsVariantName===ES.NONE?null:e.hintsVariantName},tribute:{isActive:t.isActive}}}setPaymentError(e,t){return this.checkoutState.setPaymentError(e,t)}acceptPostDonationUpsell(){const e=this.getDataPoint("PostDonationUpsell").toObject();return this.postDonationUpsellAPI.update({donation:{total:e.recurring.total,tip:e.recurring.tip,amount:e.recurring.amount,currency:e.currency},goalKey:e.goalKey,firstChargeAt:e.firstChargeAt,period:e.period})}restoreMailingAddressFromSnapshot(e){this.checkoutState.restoreMailingAddressFromSnapshot(e)}restoreDTDUpsellFromSnapshot(){this.checkoutState.restoreDTDUpsellFromSnapshot()}ensureFrequencyEnabled(e){const t=this.dataPointRegistry.getDataPoint("FiatDonation"),i=this.dataPointRegistry.getDataPoint("PreDonationUpsell");if(t.isFrequencyEnabled(e))return;let n,a;i.isAccepted?(n=i.donationFrequency,a=i.donationAmount):(n=t.defaultFrequency,a=t.getDefaultAmountsInCurrency(n)),t.frequency=n,t.amount=a}initialize(e){super.initialize(e);const t=this.checkoutConfiguration.externalConfig.checkoutIntent;t&&!e.shouldRestoreFromIntent&&this.applyCheckoutIntent(t),this.paymentService.ensurePaymentMethodsInitialized()}getDonationParams(){const e=this.getDataPoint("FiatDonation"),t=e.toObject();return{amount:t.amount,total:t.total,currency:t.currency,frequency:t.frequency,publicFee:t.publicFee,canModifyAmount:e.canModifyAmount,feeCovered:e.isFeeCovered}}getAnalyticsEventPayload(){var e;const t=this.getDataPoint("FiatDonation"),i=t.toObject(),n=this.getDataPoint("DonorEmail").toObject(),a=this.getDataPoint("PaymentOptions").toObject(),r=this.getDataPoint("Designation").toObject();return{amount:i.amount,total:i.total,currency:i.currency,_goal:r.goalKey||"",frequency:i.frequency,method:a.clientPaymentMethod,email:n.email,donationId:null===(e=this.checkoutState.get().donationResultState)||void 0===e?void 0:e.donationId,sessionId:this.tracker.checkoutViewId,amountOptions:t.allAmountOptions,defaultAmount:t.defaultAmounts}}getPublicCheckoutDonationParams(){return this.getCommonPublicCheckoutDonationParams({clientPaymentMethod:this.getDataPoint("PaymentOptions").clientPaymentMethod,payResult:this.checkoutState.get().donationResultState})}applyCheckoutIntent(e){var t,i,n;const a=this.getDataPoint("FiatDonation");if(e.donation){if(e.donation.currency&&(a.currency=e.donation.currency),e.donation.frequency){const{enabled:t}=this._checkoutConfiguration.campaign.config.frequencies[e.donation.frequency];t&&(a.frequency=e.donation.frequency)}e.donation.amount&&(a.amount=e.donation.amount)}if("boolean"==typeof e.feeCovered&&(a.isFeeCovered=e.feeCovered,this.checkoutUIState.feeCoveringTouched=!0),e.supporter){const t=this.getDataPoint("DonorName"),i=this.getDataPoint("DonorEmail");e.supporter.firstName&&(t.firstName=e.supporter.firstName),e.supporter.lastName&&(t.lastName=e.supporter.lastName),e.supporter.email&&(i.email=e.supporter.email)}if(e.comment&&(this.getDataPoint("Comment").comment=e.comment),e.tribute){const i=this.getDataPoint("Tribute");e.tribute.inHonorOf&&(i.tributeeName=null===(t=e.tribute)||void 0===t?void 0:t.inHonorOf),i.isActive=!0}(null===(i=e.checkoutSettings)||void 0===i?void 0:i.designation)&&(this.getDataPoint("Designation").goalKey=null===(n=e.checkoutSettings)||void 0===n?void 0:n.designation),this.checkoutState.filledFromIntent=!0}onDataPointCollect(e){const t=bS()(null,{onDataPointCollect:{get:()=>super.onDataPointCollect}});return(0,m.mG)(this,void 0,void 0,(function*(){return t.onDataPointCollect.call(this)}))}setMailingAddressError(e){this.checkoutState.hasMailingAddressError=e}trackError(e,t,i){const n=this.getDataPoint("PaymentOptions"),a=this.getDataPoint("FiatDonation"),r=a.toObject(),s=this.checkoutConfiguration.element,o={[r.frequency]:r.amountOptions},c=r.hintAmounts[r.frequency].length?r.hintAmounts:o;this.tracker.track(new DS({frequency:a.frequency,currency:a.currency,amount:a.amount||0,amountOptions:c},{elementType:s.type,elementKey:s.key,elementReminderKey:s.reminderKey},i,e,n.clientPaymentMethod||J.GZ.CARD,t))}resolvePaymentFlow(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.paymentService.resolvePaymentFlow(e)}))}}class IS{}class RS extends IS{isEnabled(e,t){return t.showMailing?e>=t.showMailingFromAmount:t.showMailing}isRequired(e,t){return t.showMailing&&t.mailingRequired?e>=t.mailingRequiredFromAmount:!!t.showMailing&&t.mailingRequired}}class LS extends IS{isEnabled(){return!0}isRequired(){return!0}}function jS(e){return e.isException&&e.country===St.C9.CANADA?new LS:new RS}const MS=[St.C9.CANADA,St.C9.GERMANY];class FS{constructor(e){this.widget=e.widget}}class US extends FS{get currency(){return this.widget.defaultCurrency}}class BS extends FS{get currency(){return"EUR"}}class GS{constructor(e,t){this.checkoutScreenLogic=e,this.params=t}isEnabled(e,t){return this.checkoutScreenLogic.isEnabled(e,t)||this.mailingAddressForceRequired(t)}isRequired(e,t){return this.checkoutScreenLogic.isRequired(e,t)||this.mailingAddressForceRequired(t)}mailingAddressForceRequired(e){return e.paymentMethodAvailabilityManagerRepository.getManager(e.paymentMethod,Jv.VIRTUAL_TERMINAL).isRequired("address",{ibanCountry:e.paymentMethodCountry})}}const qS={showMailing:!0,showMailingFromAmount:0,mailingRequired:!0,mailingRequiredFromAmount:3e4},KS={showMailing:!0,showMailingFromAmount:0,mailingRequired:!0,mailingRequiredFromAmount:0},VS={showMailing:!1,showMailingFromAmount:0,mailingRequired:!1,mailingRequiredFromAmount:0};class HS{}class YS extends HS{getDefaults(){return VS}}class ZS extends HS{getDefaults(){return KS}}class $S extends HS{getDefaults(){return qS}}class zS{constructor(e){this.validator=e,this.legalText=""}getValidAmounts(e,t){return this.validator.isValid(e).isValid?{showMailingFromAmount:e.showMailingFromAmount,mailingRequiredFromAmount:e.mailingRequiredFromAmount}:{showMailingFromAmount:t,mailingRequiredFromAmount:t}}}class WS extends zS{constructor(){super(...arguments),this.shouldHideEditor=!1,this.showMailingShouldAlwaysEnabled=!1,this.mailingRequiredShouldAlwaysEnabled=!1}}class XS extends zS{constructor(){super(...arguments),this.shouldHideEditor=!0,this.showMailingShouldAlwaysEnabled=!1,this.mailingRequiredShouldAlwaysEnabled=!1}}const QS=3e4;class JS extends zS{constructor(){super(...arguments),this.shouldHideEditor=!1,this.showMailingShouldAlwaysEnabled=!0,this.mailingRequiredShouldAlwaysEnabled=!0,this.legalText="We recommend leaving address optional if possible; requiring it prior to checkout may cause you to lose donations. Due to German receipt regulations, an address must be required on donations over 300 euros."}getValidAmounts(e,t){const i=super.getValidAmounts(e,t);let n=i.showMailingFromAmount,a=i.mailingRequiredFromAmount;const r=this.validator.isValid({showMailingFromAmount:i.showMailingFromAmount,mailingRequiredFromAmount:i.mailingRequiredFromAmount,showMailing:e.showMailing,mailingRequired:e.mailingRequired}),s=r.meta.isShowMailingFromAmountValid,o=r.meta.isMailingRequiredFromAmountValid;return e.showMailing&&!s&&(n=JS.MAX_SHOW_MAILING_FROM_AMOUNT),e.mailingRequired&&!o&&(a=JS.MAX_MAILING_REQUIRED_FROM_AMOUNT),{showMailingFromAmount:n,mailingRequiredFromAmount:a}}}JS.MAX_SHOW_MAILING_FROM_AMOUNT=QS,JS.MAX_MAILING_REQUIRED_FROM_AMOUNT=3e4;class eC{isValid(e){if(e.showMailing&&e.mailingRequired){const t=e.showMailingFromAmount<=e.mailingRequiredFromAmount;return{isValid:t,meta:{isMailingRequiredFromAmountValid:t,isShowMailingFromAmountValid:t}}}return{isValid:!0,meta:{isMailingRequiredFromAmountValid:!0,isShowMailingFromAmountValid:!0}}}}class tC extends eC{isValid(e){const t=super.isValid(e),i=e.showMailingFromAmount<=QS,n=e.mailingRequiredFromAmount<=QS;return{isValid:t.isValid&&n&&i,meta:{isMailingRequiredFromAmountValid:n,isShowMailingFromAmountValid:i}}}}class iC{constructor(e){var t;this.company=iC.resolveCompanyConfig(e),this.isDevMode=null!==(t=e.isDevMode)&&void 0!==t&&t}get isExceptionLogic(){return this.company.nonProfit&&Be()(MS).call(MS,this.company.country)}static resolveCompanyConfig(e){return e.company.useParentPaymentAccounts&&e.parentCompany?{nonProfit:e.parentCompany.nonProfit,country:e.parentCompany.country}:{nonProfit:e.company.nonProfit,country:e.company.country}}getWidgetDefaultsLogic(){return function(e){if(e.isException)switch(e.country){case St.C9.GERMANY:return new $S;case St.C9.CANADA:return new ZS;default:return new YS}return new YS}({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode})}getCurrencyLogic(e){return function(e){return e.isException&&e.country===St.C9.GERMANY?new BS(e):new US(e)}({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode,widget:e.widget})}getWidgetEditorLogic(){return function(e){if(e.isException)switch(e.country){case St.C9.GERMANY:return new JS(e.validator);case St.C9.CANADA:return new XS(e.validator);default:return new WS(e.validator)}return new WS(e.validator)}({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode,validator:this.getValidator()})}getCheckoutScreenLogic(){return jS({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode})}getVirtualTerminalLogic(){return function(e){const t=jS(e);return new GS(t,e)}({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode,nonProfit:this.company.nonProfit})}getValidator(){return(e={country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode}).isException&&e.country===St.C9.GERMANY?new tC:new eC;var e}}class nC extends class{constructor(e,t,i,n){this.campaignConfig=e,this.debug=t,this.checkoutConfiguration=i,this.dataPointRegistry=n,this.hasMailingAddressError=!1,this.filledFromIntent=!1,this.collectedDataPoints=new(q()),this.hasPaymentAttempt=!1,this._canGoBack=!1,this.donationResultState=null,this.updateListeners=new(q())}get isCollected(){const e=this.getDataPointsToCollect();return this.debug.log("isCollected:dataPointsToCollect",e),wr()(e).call(e,(e=>this.collectedDataPoints.has(e)))}get canGoBack(){return this._canGoBack}setCollectedFor(e){return this.collectedDataPoints.add(e),this}unsetCollectedFor(e){return this.collectedDataPoints.delete(e),this}setEnabledFor(e){return this.dataPointRegistry.getDataPoint(e).isEnabled=!0,this}unsetEnabledFor(e){return this.dataPointRegistry.getDataPoint(e).isEnabled=!1,this}setRequiredFor(e){return this.dataPointRegistry.getDataPoint(e).isRequired=!0,this}unsetRequiredFor(e){return this.dataPointRegistry.getDataPoint(e).isRequired=!1,this}setPaymentAttempt(){return this.hasPaymentAttempt=!0,this}setCanGoBack(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._canGoBack=e}setDonationResultState(e){this.donationResultState=e}onStateUpdate(e){return this.updateListeners.add(e),()=>this.updateListeners.delete(e)}syncUpdate(){this.triggerUpdate()}configureMailingAddress(e,t){const i=new iC({company:this.checkoutConfiguration.company,parentCompany:this.checkoutConfiguration.parentCompanyConfig,isDevMode:gn()}),n=i.getCheckoutScreenLogic(),a=i.getCurrencyLogic({widget:this.campaignConfig}).currency,r=e.getTotalInCustomCurrency(a);t.isEnabled=n.isEnabled(r,this.campaignConfig),t.isRequired=n.isRequired(r,this.campaignConfig)}getDataPointsToCollect(){var e;return B()(e=this.dataPointRegistry.list).call(e,(e=>e.isRequired&&e.isEnabled))}triggerUpdate(){var e;g()(e=this.updateListeners).call(e,(e=>e()))}}{constructor(e,t,i,n,a){super(e,t,i,n),this.campaignConfig=e,this.debug=t,this.dataPointRegistry=n,this.experiments=a,this.flowType=Dt.MONEY,this.paymentErrors={[St.GZ.CARD]:!1,[St.GZ.UK_BACS]:!1,[St.GZ.US_BANK_ACCOUNT]:!1,[St.GZ.PAYPAL]:!1},this.mailingAddressMetaSnapshots={1:null,2:null,3:null},this.dtdUpsellSnapshots=null}get isReadyToRetryPay(){var e;if(!this.hasPaymentAttempt)return!1;const t=this.dataPointRegistry.getDataPoint("PaymentOptions").clientPaymentMethod;return!!t&&Be()(e=[St.GZ.CARD,St.GZ.UK_BACS]).call(e,t)}get isPaypalCurrencyConversionApplied(){return this.dataPointRegistry.getDataPoint("PaypalConversion").isCurrencyConversionApplied}get designationAllowsRecurring(){return this.dataPointRegistry.getDataPoint("Designation").allowRecurring}get(){var e;return{hasPaymentAttempt:this.hasPaymentAttempt,isReadyToRetryPay:this.isReadyToRetryPay,hasMailingAddressError:this.hasMailingAddressError,donation:this.donationState,personalInformation:this.personalInformationState,mailingListSubscription:this.mailingListSubscriptionState,paymentErrors:this.paymentErrors,giftAid:this.giftAidState,tribute:this.tributeState,comment:this.commentState,donateAnonymous:this.donateAnonymousState,designation:this.designationState,paymentOptions:this.paymentOptionsState,mailingAddress:this.mailingAddressState,preDonationUpsell:this.preDonationUpsellState,phoneNumber:this.phoneNumberState,onBehalfOf:this.onBehalfOfState,termsAndConditions:this.termsAndConditionsState,remindMeLater:this.remindMeLaterState,postDonationUpsell:this.postDonationUpsellState,questions:this.questionsState,doubleDonation:this.doubleDonationState,isPaypalCurrencyConversionApplied:this.isPaypalCurrencyConversionApplied,donationResultState:this.donationResultState,isPaid:Boolean(null===(e=this.donationResultState)||void 0===e?void 0:e.donationId),designationAllowsRecurring:this.designationAllowsRecurring}}onGiftAidAccepted(){return this.makeMailingAddressMetaSnapshot(1),this.forceMailingAddress(),this}resetGiftAid(){return this.dataPointRegistry.getDataPoint("GiftAid").reject(),this.restoreMailingAddressFromSnapshot(1),this}makeMailingAddressMetaSnapshot(e){const t=this.dataPointRegistry.getDataPoint("MailingAddress");this.mailingAddressMetaSnapshots[e]={isEnabled:t.isEnabled,isRequired:t.isRequired,isCollected:this.collectedDataPoints.has(t)}}restoreMailingAddressFromSnapshot(e){const t=this.dataPointRegistry.getDataPoint("MailingAddress");this.mailingAddressMetaSnapshots[e]?(t.isEnabled=this.mailingAddressMetaSnapshots[e].isEnabled,t.isRequired=this.mailingAddressMetaSnapshots[e].isRequired,this.mailingAddressMetaSnapshots[e].isCollected?this.collectedDataPoints.add(t):this.collectedDataPoints.delete(t),this.mailingAddressMetaSnapshots[e]=null):this.debug.log(`No mailingAddressMeta snapshots for ${e}.`)}makeDTDUpsellSnapshot(){const e=this.dataPointRegistry.getDataPoint("FiatDonation"),t=this.dataPointRegistry.getDataPoint("DTD");this.dtdUpsellSnapshots?this.debug.log("A snapshot for DTD Upsell is already created"):this.dtdUpsellSnapshots={isCollected:this.collectedDataPoints.has(t),amount:e.amount}}restoreDTDUpsellFromSnapshot(){if(!this.dtdUpsellSnapshots)return void this.debug.log("No snapshot for DTD Upsell is created");const e=this.dtdUpsellSnapshots,t=this.dataPointRegistry.getDataPoint("FiatDonation"),i=this.dataPointRegistry.getDataPoint("DTD");t.amount=e.amount,e.isCollected?this.collectedDataPoints.add(i):this.collectedDataPoints.delete(i),this.dtdUpsellSnapshots=null}onDonationDataPointCollected(){const e=this.dataPointRegistry.getDataPoint("FiatDonation"),t=this.dataPointRegistry.getDataPoint("PostDonationUpsell"),i=this.dataPointRegistry.getDataPoint("DTD"),n=this.dataPointRegistry.getDataPoint("PreDonationUpsell"),a=this.dataPointRegistry.getDataPoint("Tribute"),r=e.amount||0,s=e.total,o=e.frequency,c=e.getMinAmount(e.highFrequency),l=e.currency;if(t.setDonationAmount(r),t.setMinAmount(c),t.setPaymentFrequency(o),t.setCurrency(l),i.setCurrency(l),i.amount=s,o===St.EK.ONCE){if(n.used=!1,!n.canShowUpsellScreen(e.toObject(),a.toObject()))return;n.setCurrency(l),n.setDonationAmount(r),n.setDonationFrequency(o)}}onTributeDataPointCollected(){const e=this.dataPointRegistry.getDataPoint("Tribute");this.dataPointRegistry.getDataPoint("PostDonationUpsell").setTributeName(e.tributeeName)}onPaymentOptionsDataPointCollected(){const e=this.dataPointRegistry.getDataPoint("PaymentOptions"),t=this.dataPointRegistry.getDataPoint("PostDonationUpsell"),i=this.dataPointRegistry.getDataPoint("FiatDonation"),n=this.dataPointRegistry.getDataPoint("MailingAddress");if(!e.clientPaymentMethod)throw new Error("ClientPaymentMethod should not be empty");t.setPaymentMethod(e.clientPaymentMethod),this.configureMailingAddress(i,n),e.selectedPaymentOption===cg.UK_BACS&&this.forceMailingAddress()}onBehalfOfDataPointCollected(){const e=this.dataPointRegistry.getDataPoint("OnBehalfOf"),t=this.dataPointRegistry.getDataPoint("DTD"),i=this.dataPointRegistry.getDataPoint("GiftAid");t.setOnBehalfOf(e.isOnBehalfOf),i.setOnBehalfOf(e.isOnBehalfOf)}setPaymentError(e,t){this.paymentErrors[e]=t}onPreDonationUpsellDataPointCollected(e){const t=this.dataPointRegistry.getDataPoint("FiatDonation");t.frequency=e.frequency,t.amount=e.amount}onDesignationDataPointCollected(){const e=this.dataPointRegistry.getDataPoint("Designation");this.dataPointRegistry.getDataPoint("PostDonationUpsell").setGoalKey(e.goalKey)}onDoubleTheDonationAccepted(e){this.makeDTDUpsellSnapshot(),this.dataPointRegistry.getDataPoint("FiatDonation").amount=e}get phoneNumberState(){const e=this.dataPointRegistry.getDataPoint("PhoneNumber");return{isEnabled:e.isEnabled,isRequired:e.isRequired}}get remindMeLaterState(){const e=this.dataPointRegistry.getDataPoint("RemindMeLater"),t=this.dataPointRegistry.getDataPoint("DonorEmail"),i=this.dataPointRegistry.getDataPoint("TermsAndConditions"),n={show:!1,isEnabled:e.isEnabled,isRequired:e.isRequired};return e.isEnabled&&(t.isEnabled&&!t.validate().isValid||i.isEnabled&&!i.isAccepted)?x()(x()({},n),{show:!0}):n}get mailingListSubscriptionState(){return{isEnabled:this.dataPointRegistry.getDataPoint("MailingAddress").isEnabled}}get donationState(){const e=this.dataPointRegistry.getDataPoint("FiatDonation");return{isEnabled:e.isEnabled,isRequired:e.isRequired,amount:e.amount,currency:e.currency,frequency:e.frequency,defaultAmount:e.defaultAmount||0,amountOptions:e.amountOptions,amountInUsd:e.amountInUSD||0}}get personalInformationState(){const e=this.dataPointRegistry.getDataPoint("FiatDonation"),t=this.dataPointRegistry.getDataPoint("DonorName"),i=this.dataPointRegistry.getDataPoint("DonorEmail");return{isEnabled:e.isEnabled,isRequired:e.isRequired,isCollected:this.collectedDataPoints.has(t)&&this.collectedDataPoints.has(i)}}get donateAnonymousState(){const e=this.dataPointRegistry.getDataPoint("DonateAnonymous");return{isEnabled:e.isEnabled,isRequired:e.isRequired}}get onBehalfOfState(){const e=this.dataPointRegistry.getDataPoint("OnBehalfOf");return{isEnabled:e.isEnabled,isRequired:e.isRequired,isActive:e.isActive}}get termsAndConditionsState(){return{isEnabled:this.dataPointRegistry.getDataPoint("TermsAndConditions").isEnabled}}get commentState(){const e=this.dataPointRegistry.getDataPoint("Comment");return{isEnabled:e.isEnabled,isRequired:e.isRequired}}get giftAidState(){const e=this.dataPointRegistry.getDataPoint("GiftAid");return{isEnabled:e.isEnabled,isAccepted:e.isAccepted,isCollected:this.collectedDataPoints.has(e)}}get tributeState(){const e=this.dataPointRegistry.getDataPoint("Tribute");return{isEnabled:e.isEnabled,isRequired:e.isRequired,name:e.tributeeName,labelType:e.labelType,isActive:e.isActive}}get designationState(){const e=this.dataPointRegistry.getDataPoint("Designation");return{isEnabled:e.isEnabled,isRequired:e.isRequired}}get paymentOptionsState(){const e=this.dataPointRegistry.getDataPoint("PaymentOptions"),t=this.dataPointRegistry.getDataPoint("USBankAccount");return{isEnabled:e.isEnabled,isRequired:e.isRequired,clientPaymentMethod:e.clientPaymentMethod,selectedPaymentOption:e.selectedPaymentOption,usBankAccountVerificationSetup:{isInstantOnly:t.usBankAccountVerificationSetup.isInstantOnly,isAbavOnly:t.usBankAccountVerificationSetup.isAbavOnly,isMicroDepositOnly:t.usBankAccountVerificationSetup.isMicroDepositOnly,isInstantAndMicroDeposit:t.usBankAccountVerificationSetup.isInstantAndMicroDeposit,isInstantAndAbav:t.usBankAccountVerificationSetup.isInstantAndAbav,verificationType:t.verificationType}}}get mailingAddressState(){const e=this.dataPointRegistry.getDataPoint("MailingAddress");return{isEnabled:e.isEnabled,isRequired:e.isRequired,isCollected:this.collectedDataPoints.has(e)}}get postDonationUpsellState(){const e=this.dataPointRegistry.getDataPoint("PostDonationUpsell");return{isEnabled:e.isEnabled,isShowed:e.isShowed}}get preDonationUpsellState(){const e=this.dataPointRegistry.getDataPoint("FiatDonation"),t=this.dataPointRegistry.getDataPoint("Tribute"),i=this.dataPointRegistry.getDataPoint("PreDonationUpsell"),n=i.canShowUpsellScreen(e.toObject(),t.toObject());return{isEnabled:n,upsellCurtainUsed:this.experiments.get(xr.UPSELL_CURTAIN_EXPERIMENT).canOpenUpsellCurtain({tributeIsFilled:t.isFilled,targetFrequency:i.getTargetFrequency(t.toObject(),i.donationAmount,i.currency,i.donationFrequency),preDonationUpsellIsEnabled:n})}}get doubleDonationState(){const e=this.dataPointRegistry.getDataPoint("DTD");return{isEnabled:e.isEnabled,isCollected:this.collectedDataPoints.has(e),isAccepted:e.isAccepted}}get questionsState(){return{isEnabled:this.dataPointRegistry.getDataPoint("Questions").isEnabled}}forceMailingAddress(){const e=this.dataPointRegistry.getDataPoint("MailingAddress");e.isEnabled=!0,e.isRequired=!0}}class aC{constructor(e,t,i){this.checkoutConfiguration=e,this.checkoutState=t,this.params=i}get(){var e;const t=this.checkoutState.get();if(!(null===(e=null==t?void 0:t.paymentOptions)||void 0===e?void 0:e.clientPaymentMethod))return this.params.screenSet.privacy;const i=t.paymentOptions.clientPaymentMethod;return this.shouldPayOnUsBankAccountConfirmation(i)?this.params.screenSet.usBankAccountConfirmation:this.shouldPayOnUkBacsScreen(i)?this.params.screenSet.ukBacsConfirmation:this.shouldPayOnIDEALConfirmationScreen(i)?this.params.screenSet.idealConfirmation:this.shouldPayOnDoubleScreen(i)?this.params.screenSet.double:this.shouldPayOnMailingAddressScreen()?this.params.screenSet.mailingAddress:this.shouldPayOnGiftAidScreen()?this.params.screenSet.giftAid:this.params.screenSet.privacy}shouldPayOnUsBankAccountConfirmation(e){return e===St.GZ.US_BANK_ACCOUNT}shouldPayOnUkBacsScreen(e){return e===St.GZ.UK_BACS}shouldPayOnIDEALConfirmationScreen(e){return e===St.GZ.IDEAL}shouldPayOnDoubleScreen(e){const t=this.checkoutState.get().doubleDonation,i=this.checkoutState.get().donation;if(this.checkoutState.get().onBehalfOf.isActive)return!1;if(!t.isAccepted&&i.amountInUsd>=2500)return!1;if(!t.isEnabled||!this.checkoutConfiguration.integrations.dtdEnabled)return!1;const n=this.checkoutConfiguration.company;return!(e===St.GZ.PAYPAL&&!n.paypal.subscriptionsEnabled)&&(e!==St.GZ.VENMO&&!this.checkoutState.get().giftAid.isEnabled)}shouldPayOnMailingAddressScreen(){const e=this.checkoutState.get().mailingAddress,t=this.checkoutState.get().giftAid;return e.isEnabled&&e.isRequired||t.isEnabled&&t.isAccepted}shouldPayOnGiftAidScreen(){const e=this.checkoutConfiguration.infrastructureParams.showcase,t=this.checkoutState.get().giftAid,i=this.checkoutState.get().onBehalfOf;return t.isEnabled&&!i.isActive&&!e}}var rC=i(33958),sC=i.n(rC);class oC{constructor(e,t,i,n,a){this.tracker=e,this.checkoutConfiguration=t,this.sentry=i,this.debouncedRequestService=n,this.requestService=a,this.created=!1,this.headers={"Content-Type":"text/plain; charset=utf-8"},this.latestUpdatePayload=null,this.latestUpdateResponse=null,this.params={baseURL:s,token:e.checkoutViewId}}get sessionToken(){return this.params.token}get(e,t,i){return(0,m.mG)(this,void 0,void 0,(function*(){const n={retries:5,delay:200};(null==i?void 0:i.retries)&&(null==i?void 0:i.delay)&&(n.retries=i.retries,n.delay=i.delay);const a=yield this.waitForCreated((()=>this.requestService.get({url:`${this.params.baseURL}/paymentSession/${this.params.token}/${e}`,headers:this.headers,params:t,cancelSimilar:!0,rejectOnInvalid:null==i?void 0:i.rejectsOnInvalid})),n);if(xi.isSuccess(a))return a.successResult;throw new Q}))}post(e,t,i){return(0,m.mG)(this,void 0,void 0,(function*(){const n=this.getPostPromise(e,t,i);return this.debouncedRequestService.request({promise:n,allowMerge:!1,allowDelay:!1})}))}update(e){return(0,m.mG)(this,void 0,void 0,(function*(){this.sessionStageInitial||(this.sessionStageInitial=this.getSessionStageInitial(e));const t=_e(x()(x()({},e),{created:this.created,initial:this.sessionStageInitial})),i=this.getUpdaterPromise(t);return this.debouncedRequestService.request({promise:i,allowMerge:!1,allowDelay:!1})}))}close(){return(0,m.mG)(this,void 0,void 0,(function*(){yield this.debouncedRequestService.request({promise:this.getClosePromise(),allowMerge:!1,allowDelay:!1})}))}updateSessionWidgetDefaults(e,t){this.sessionStageInitial&&(this.sessionStageInitial.widgetDefaults=this.getWidgetDefaults(e,t))}abandon(e){return(0,m.mG)(this,void 0,void 0,(function*(){yield this.debouncedRequestService.request({promise:this.getAbandonPromise(e),allowMerge:!1,allowDelay:!1})}))}handleSessionUpdateFailure(e){var t,i;const n=!!(null===(t=e.failureResult.errors)||void 0===t?void 0:t.customerEmail),a=!!(null===(i=e.failureResult.errors)||void 0===i?void 0:i.tributeEmail);return n||a?xi.fail({customerEmailError:n,tributeEmailError:a}):xi.fail({})}getSessionStageInitial(e){var t,i,n,a,r,s;const o=window.location.href,c=(0,jt.O5)(o);return{token:this.tracker.checkoutViewId,key:this.checkoutConfiguration.campaign.key,livemode:this.checkoutConfiguration.infrastructureParams.livemode,urlParams:c,widgetUrl:o,launcherParams:this.checkoutConfiguration.launcherParams,timezone:de(),trackerParams:{clientId:this.tracker.clientId,pageViewId:this.tracker.pageViewId,checkoutViewId:this.tracker.checkoutViewId,clientLocale:this.tracker.clientLocale,uaWebdriver:Boolean(navigator.webdriver),tags:j()(this.tracker.tags)},widgetDefaults:this.getWidgetDefaults(e.donation.amount||0,e.checkoutDefaults),customFields:null!==(t=this.checkoutConfiguration.campaign.customFields)&&void 0!==t?t:[],elementKey:this.checkoutConfiguration.element.key,elementType:this.checkoutConfiguration.element.type,elementReminderKey:this.checkoutConfiguration.element.reminderKey||"",fundraisingPageKey:(null===(i=this.checkoutConfiguration.fundraisingPage)||void 0===i?void 0:i.key)||"",fundraisingPageCustomFields:(null===(n=this.checkoutConfiguration.fundraisingPage)||void 0===n?void 0:n.customFields)||[],startUrl:"",launcherUrl:"",checkoutV2:!0,checkoutType:this.checkoutConfiguration.checkoutType,checkoutIntentCustomFields:null!==(s=null===(r=null===(a=this.checkoutConfiguration.externalConfig.checkoutIntent)||void 0===a?void 0:a.checkoutSettings)||void 0===r?void 0:r.customFields)&&void 0!==s?s:[]}}getWidgetDefaults(e,t){return{amount:t.defaultAmounts,frequency:t.frequency,amountOptions:t.amountOptions,currency:t.currency,relations:{amount:Z([t.defaultAmount],e),amountOptions:Z(t.frequencyAmountOptions,e)}}}getClosePromise(){return()=>this.requestService.post({url:`${this.params.baseURL}/paymentSession/${this.params.token}/close`,headers:this.headers,params:{},rejectOnInvalid:!0})}getAbandonPromise(e){return()=>this.requestService.post({url:`${this.params.baseURL}/paymentSession/${this.params.token}/abandon`,headers:this.headers,params:e,rejectOnInvalid:!0})}getPostPromise(e,t,i){return()=>(0,m.mG)(this,void 0,void 0,(function*(){let n;try{n=yield this.requestService.post({url:`${this.params.baseURL}/paymentSession/${this.params.token}/${e}`,headers:this.headers,params:t,rejectOnInvalid:null==i?void 0:i.rejectsOnInvalid,setCustomFingerprint:!0})}catch(e){throw this.sentry.captureException(e),e}return n}))}getUpdaterPromise(e){return()=>(0,m.mG)(this,void 0,void 0,(function*(){let t;if(sC()(e,this.latestUpdatePayload)&&this.latestUpdateResponse)return xi.success(this.latestUpdateResponse);try{t=yield this.requestService.post({url:`${this.params.baseURL}/paymentSession/${this.params.token}`,headers:this.headers,params:e,setCustomFingerprint:!0})}catch(e){throw this.sentry.captureException(e),e}return xi.isSuccess(t)?(this.created=!0,this.latestUpdateResponse=t.successResult,this.latestUpdatePayload=e,t):this.handleSessionUpdateFailure(t)}))}waitForCreated(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,m.mG)(this,void 0,void 0,(function*(){if(this.created)try{return yield e()}catch(n){if(i>=t.retries)throw this.sentry.captureException(n),n;return yield new(Fe())((e=>P()(e,t.delay))),this.waitForCreated(e,t,++i)}return yield new(Fe())((e=>P()(e,t.delay))),this.waitForCreated(e,t,++i)}))}}oC.SESSION_UPDATE_DEBOUNCE=100;class cC extends oC{}function lC(e){if(!e.isSkipped)return e.employer.name?{name:e.employer.name}:void 0}function uC(e){var t;if(!e.isSkipped)return(null===(t=e.employerDTD)||void 0===t?void 0:t.companyName)?{id:e.employerDTD.id,company_name:e.employer.name,minimumMatchedAmount:e.employerDTD.minimumMatchedAmount,ratio:e.employerDTD.ratio}:void 0}function dC(e){return{currency:e.upsell.currency,fromAmount:e.upsell.fromAmount,matchingFromAmount:e.upsell.matchingFromAmount,matchingPromisedAmount:e.upsell.matchingPromisedAmount,matchingRatio:e.upsell.matchingRatio,minimumMatchedAmount:e.upsell.minimumMatchedAmount,proposedAmount:e.upsell.proposedAmount,proposedAmountBeforeFeeCovered:e.upsell.proposedAmountBeforeFeeCovered,showed:e.upsell.showed,visible:e.upsell.visible,used:e.upsell.isAccepted}}class hC extends class{constructor(e,t,i){this.dataPointRegistry=e,this.checkoutConfiguration=t,this.sessionAPI=i,this._closed=!1,this.sessionClosePromise=null}get closed(){return this._closed}get closing(){return!!this.sessionClosePromise}updateSessionWidgetDefaults(){}closeSession(){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.closed&&!this.checkoutConfiguration.infrastructureParams.showcase){if(this.sessionClosePromise)return this.sessionClosePromise;this.sessionClosePromise=this.sessionAPI.close();try{yield this.sessionClosePromise,this._closed=!0}finally{this.sessionClosePromise=null}}}))}getDataPoint(e){return this.dataPointRegistry.getDataPoint(e)}}{updateSession(){var e,t;return(0,m.mG)(this,void 0,void 0,(function*(){if(this.checkoutConfiguration.infrastructureParams.showcase)return xi.success({});const i=this.getDataPoint("FiatDonation"),n=i.toObject(),a=this.getDataPoint("Tribute").toObject(),r=this.getDataPoint("Comment").toObject(),s=this.getDataPoint("Questions").toObject(),o=this.getDataPoint("DonorName").toObject(),c=this.getDataPoint("DonorEmail").toObject(),l=this.getDataPoint("GiftAid").toObject(),u=this.getDataPoint("PreDonationUpsell").toObject(),d=this.getDataPoint("DonateAnonymous").toObject(),h=this.getDataPoint("PhoneNumber").toObject(),m=this.getDataPoint("MailingListSubscription").toObject(),p=this.getDataPoint("PostDonationUpsell").toObject(),g=this.getDataPoint("TermsAndConditions").toObject(),f=this.getDataPoint("OnBehalfOf").toObject(),y=this.getDataPoint("DTD").toObject(),v=this.getDataPoint("CustomerTitle").toObject(),S=this.getDataPoint("PaypalConversion").toObject(),C=this.getDataPoint("Designation").toObject();return this.sessionAPI.update({donationType:Dt.MONEY,comment:r.comment,tribute:a.inHonorOf&&a.isActive?{labelType:a.labelType,type:a.type,inHonorOf:a.inHonorOf}:null,questions:s.questions,customer:{firstName:o.firstName,lastName:o.lastName,title:v.title,email:c.email,phone:h.phone,onBehalfOf:f.companyName,subscriptionChecked:m.checked,anonymousChecked:d.anonymousChecked,termsChecked:g.isAccepted},donation:{amount:n.amount,total:n.total,publicFee:n.publicFee,currency:n.currency,frequency:n.frequency,goalKey:C.goalKey,goalName:C.goalName,paypalCurrencyChanged:S.isCurrencyConversionApplied,giftAid:{shown:l.isShown,claimed:l.isAccepted},upsell:{currency:u.currency,fromAmount:u.fromAmount,showed:u.showed,used:u.used},employerUpsell:dC(y),feeCoveringSuggestion:n.feeCoveringSuggestion,hintsVariantName:n.hintsVariantName,hintDescription:(null===(e=n.currentHint)||void 0===e?void 0:e.description)||"",_suggestedAmountHint:(null===(t=n.currentHint)||void 0===t?void 0:t.id)||null},employer:lC(y),employerDTD:uC(y),postDonationUpsell:{period:p.period,firstChargeAt:p.firstChargeAt,fromAmount:p.fromAmount,showed:p.showed,currency:p.currency,recurringAmount:p.recurring.amount,recurringTip:p.recurring.tip,recurringTotal:p.recurring.total,used:p.isAccepted},checkoutDefaults:this.getCheckoutDefaults(i)})}))}updateSessionWidgetDefaults(){const e=this.getDataPoint("FiatDonation"),t=e.toObject();this.sessionAPI.updateSessionWidgetDefaults(t.amount,this.getCheckoutDefaults(e))}getCheckoutDefaults(e){return{defaultAmount:e.defaultAmount||0,frequencyAmountOptions:e.amountOptions,amountOptions:e.allAmountOptions,frequency:e.frequency,currency:e.currency,defaultAmounts:e.defaultAmounts}}}i(55912);class mC extends class{constructor(e){this.timestamp=e.timestamp,this.checkoutAmount=e.amount,this.recurringMinAmount=e.minAmount,this.checkoutCurrency=e.currency,this.currencyService=e.currencyService,this.suggestionsService=e.suggestionsService}updateExternalParams(e){this.checkoutAmount=e.amount,this.recurringMinAmount=e.minAmount,this.checkoutCurrency=e.currency}}{constructor(){super(...arguments),this.defaultCurrency="USD"}getAmount(){let e=this.suggestionsService.beautify(.2*this.checkoutAmount,this.checkoutCurrency);const t=this.currencyService.convert(this.checkoutAmount,this.checkoutCurrency,this.defaultCurrency);return t>=5e4&&t<=1e5?e=this.suggestionsService.beautify(.15*this.checkoutAmount,this.checkoutCurrency):t>1e5&&(e=this.suggestionsService.beautify(.1*this.checkoutAmount,this.checkoutCurrency)),e<this.recurringMinAmount&&(e=this.recurringMinAmount),e}getPeriod(){return J.EK.MONTHLY}getStartDate(){return function(e,t){const i=new Date(e),n=i.getDate();return i.setMonth(i.getMonth()+1),i.getDate()!==n&&i.setDate(0),i.toISOString()}(this.timestamp)}}class pC{static getConstructor(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?pC.createForShowcase:pC.create}static create(e){const t=pC.variants;return new(0,t[Math.floor(Math.random()*t.length)])(e)}static createForShowcase(e){return new mC(e)}}pC.variants=[mC];class gC{constructor(e){this.params=e}get frequency(){return St.EK.ANNUAL}isEnabled(e){const{widgetParams:t}=e;return(1!==t.frequencies.length||t.frequencies[0]!==St.EK.ONCE)&&this.params.recurringPlans&&this.params.recurringPlans.annual}isMatch(e){const{payParams:t}=e;return!!(t.tribute&&t.tribute.type&&t.tribute.inHonorOf&&t.tribute.labelType)&&t.frequency===St.EK.ONCE}getUpsellAmounts(e){return[null,e.payParams.amount]}}class fC{get frequency(){return St.EK.MONTHLY}isEnabled(){return!1}isMatch(){return!0}getUpsellAmounts(){return[null,null]}}class yC{static getUpsellUSDAmounts(e){switch(!0){case e<=1e3:return[null,e];case e<=2500:return[500,1e3];case e<=3500:return[1e3,1500];case e<=5500:return[1500,2e3];case e<=1e4:return[2e3,2500];case e<=15e3:return[2500,3e3];case e<=2e4:return[3e3,4e3];default:return[null,e]}}constructor(e,t,i){this.currencyService=e,this.suggestionsService=t,this.experiments=i}get frequency(){return this.upsellEvery4WeeksExperiment.frequency}isEnabled(){return!0}isMatch(e){var t;const{payParams:i,widgetParams:n,country:a,minMonthly:r}=e;if(i.tribute&&i.tribute.type&&i.tribute.inHonorOf)return!1;const s=i.frequency===St.EK.ONCE,o=n.currencyEnabledRecurrings||i.currency===n.defaultCurrency,c=this.getMaxUpsellAmount(i.currency,a),l=S()(t=n.frequencies).call(t,(e=>e!==St.EK.ONCE)),u=(i.amount||0)<=c,d=(i.amount||0)>=r;return n.showUpsell&&l&&s&&o&&u&&d}getUpsellAmounts(e){const{payParams:t,country:i,minMonthly:n}=e,{amount:a,currency:r}=t,s=this.currencyService.convert(a||0,r,"USD",!1,i),o=this.currencyService.convert(n,e.widgetParams.defaultCurrency,r,!1,i),c=yC.getUpsellUSDAmounts(s);let l=c[0]&&this.currencyService.convert(c[0],"USD",r,!1,i);null!==l&&(l=this.suggestionsService.beautify(l,r),o>l&&(l=null));let u=this.currencyService.convert(c[1],"USD",r,!1,i);return u=this.suggestionsService.beautify(u,r),o>u&&(u=this.suggestionsService.beautify(o,r,o)),l===u?[null,u]:[l,u]}get upsellEvery4WeeksExperiment(){return this.experiments.get(xr.UPSELL_EVERY_4_WEEKS_EXPERIMENT)}getMaxUpsellAmount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:St.C9.UNITED_STATES;return this.currencyService.convert(yC.MAX_AMOUNT_FOR_UPSELL_SCREEN,"USD",e,!1,t)}}yC.MAX_AMOUNT_FOR_UPSELL_SCREEN=2e4;class vC{constructor(e,t,i,n){this.currencyService=e,this.suggestionsService=t,this.experiments=i,this.params=n,this.strategies=[],this.strategies=[new gC(this.params),new yC(this.currencyService,this.suggestionsService,this.experiments)]}canShowUpsellScreen(e){return this.resolveStrategy(e).isEnabled(e)}getUpsellAmounts(e){return this.resolveStrategy(e).getUpsellAmounts(e)}getTargetFrequency(e){return this.resolveStrategy(e).frequency}resolveStrategy(e){for(const t of this.strategies)if(t.isMatch(e))return t;return new fC}}class SC{constructor(e){this.sessionAPI=e}validate(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.sessionAPI.post("mailingAddress",x()({},e),{rejectsOnInvalid:!0});return xi.isSuccess(t)?t.successResult:{valid:!1,validated:!0}}))}}class CC{constructor(e){this.sessionAPI=e}getList(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.sessionAPI.get("brokers",{query:e},{delay:200,retries:5,cancelSimilar:!0,rejectsOnInvalid:!0});return T()(t).call(t,(e=>({name:e.name,logo:e.logo})))}))}}class bC{constructor(e){this.checkoutConfiguration=e}collectTo(e){return this}reset(e){return this}validate(){return{isValid:!0}}}class AC extends bC{constructor(e,t){super(e),this.checkoutConfiguration=e,this.currencyService=t,this.isEnabled=!0,this.isRequired=!0}getCurrencyName(e){return this.currencyService.getName(e)}getTotalInCustomCurrency(e){return this.currencyService.convert(this.total,this.currency,e)}}const EC=1e7;class xC extends AC{constructor(e,t,i){var n;super(e,t),this.checkoutConfiguration=e,this.currencyService=t,this.suggestionsService=i,this.isEnabled=!0,this.isRequired=!0,this.currency="BTC",this.defaultCurrency="BTC",this.amount=0,this.defaultAmountInFiat=0,this.canModifyAmount=!0,this.canSelectCurrency=!0,Be()(n=this.currencyList).call(n,this.currency)||(this.currency=this.currencyList[0],this.defaultCurrency=this.currencyList[0]),this.setAmountByDefault(this.defaultCurrency)}get frequency(){return St.EK.ONCE}get minAmount(){return 100}get maxAmount(){return 1e8}get defaultAmount(){return 5e5}get total(){return this.amount||0}get amountInUSD(){return this.amount?this.currencyService.convert(this.amount,this.currency,"USD"):null}get totalInUSD(){return this.currencyService.convert(this.total,this.currency,"USD")}get defaultFiatCurrency(){return this.checkoutConfiguration.campaign.config.defaultCurrency}get amountInDefaultFiat(){return this.currencyService.convert(this.amount||0,this.currency,this.defaultFiatCurrency)}get totalInDefaultCurrency(){return this.total}get currencyNetworkData(){return this.currencyService.getCryptoCurrency(this.currency)}get currencyList(){const e=this.checkoutConfiguration.company.cryptoProvider;if(!e)return["BTC"];const t=this.currencyService.getCurrencyCodesBySource(e);if(e!==J.fx.COINBASE_COMMERCE)return t;const i=this.checkoutConfiguration.company.coinbaseCommerceCurrencies;return B()(t).call(t,(e=>Be()(i).call(i,e)))}getDefaultAmountsInCurrency(){return this.total}validate(){const e=null!==this.amount,t=!e||this.validateMinAmount(),i=!e||this.validateMaxAmount(),n={isValid:e&&t&&i,errors:{min:!t,max:!i,required:!e}};return{isValid:n.isValid,fields:{amount:n}}}collectTo(e){return function(e){if(void 0===e.onCryptoCurrencyDataPointCollect)throw new Error("Expected checkout state to be ICheckoutStateWithCryptoCurrency")}(e),e.onCryptoCurrencyDataPointCollect(),this}toObject(){return{amount:this.amount||0,total:this.amount||0,currency:this.currency,frequency:this.frequency}}setAmountByDefault(e){const t=this.currencyService.convert(this.defaultAmount,"USD",e),i=this.currencyService.toFloat(t,e),n=this.getAmountByDefaultMultiplier(i);this.amount=this.beautify(t*n,e)/n,this.defaultAmountInFiat=this.amountInDefaultFiat}validateMinAmount(){return!!this.amountInUSD&&this.amountInUSD>=this.minAmount}validateMaxAmount(){return!this.amountInUSD||this.amountInUSD<=this.maxAmount}getAmountByDefaultMultiplier(e){let t=1;return e<10?t=this.getBaseMultiplier(e):e>EC&&(t=this.getBaseMultiplier(e/EC,0)),t}getBaseMultiplier(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=-Math.floor(ai()(e));return Math.pow(10,i+t)}beautify(e,t){return this.suggestionsService.beautify(e,t)}}class kC{constructor(e){this.defaultData=e,this._guessedCurrenciesList=[],this._guessedCurrency="",this._defaultPreviousCurrency="",this._defaultCurrentCurrency="",this.initGuessedCurrenciesList(),this.initGuessedCurrency(),this.initCurrency()}get guessedCurrenciesList(){return this._guessedCurrenciesList}get guessedCurrency(){return this._guessedCurrency}get defaultPreviousCurrency(){return this._defaultPreviousCurrency}get defaultCurrentCurrency(){return this._defaultCurrentCurrency}initGuessedCurrenciesList(){var e,t;const i=this.defaultData.defaultCurrency,n=this.defaultData.currencies.countryCurrencies[0],r=this.defaultData.currencies.stripe.default,s=a()(e=this.defaultData.currencies.countryCurrencies).call(e,1),o=this.defaultData.currencies.langCurrencies,c=this.defaultData.currencies.stripe.list;var l;this._guessedCurrenciesList=(l=B()(t=[i,n,r,...s,...o]).call(t,(e=>Be()(c).call(c,e))),[...new(q())(l)])}initGuessedCurrency(){var e;const t=this.defaultData.currencies.countryCurrencies;!this.defaultData.showcase&&this.defaultData.guessCurrency&&this.defaultData.isCurrencyEnabled&&t.length&&Be()(e=this._guessedCurrenciesList).call(e,t[0])?this._guessedCurrency=t[0]:this._guessedCurrency=this.defaultData.defaultCurrency||"USD"}initCurrency(){this._defaultCurrentCurrency=this.defaultData.defaultCurrency,this._defaultPreviousCurrency=this.defaultData.defaultCurrency,this._guessedCurrency!==this._defaultCurrentCurrency&&(this._defaultCurrentCurrency=this._guessedCurrency)}}const wC=[2500,5e3];function NC(e){if(void 0===e.onDonationDataPointCollected)throw new Error("Expected checkout state to be IFiatCheckoutState")}function PC(e){if(void 0===e.resetGiftAid||void 0===e.onGiftAidAccepted)throw new Error("Expected checkout state to be ICheckoutStateWithGiftAid")}class DC extends AC{constructor(e,t,i,n,a,r,s){super(e,t),this.checkoutConfiguration=e,this.currencyService=t,this.suggestionsService=i,this.experiments=n,this.userSession=a,this.transactionCosts=r,this.suggestedAmountHintsAI=s,this.isEnabled=!0,this.isRequired=!0,this._defaultAmount=null,this._feeCoveringSuggestion=St.__.ONLY_NO,this._includeFees=this.transactionCosts.includeFees}get defaultAmount(){return this._defaultAmount}get amount(){return this.exchequer.getCurrentAmount()}get totalInUSD(){return this.currencyService.convert(this.total,this.currency,"USD")}get totalInDefaultCurrency(){return this.currencyService.convert(this.total,this.currency,this.defaultCurrency)}get fee(){return this.transactionCosts.getFee(this.amount||0,this.currency)}get processingFee(){return this.transactionCosts.getProcessingFee(this.amount||0,this.currency)}get isRecurring(){return this.frequency!==St.EK.ONCE}get frequency(){return this.exchequer.getCurrentFrequency()}get currency(){return this.exchequer.getCurrentCurrency()}get defaultFrequency(){return this.exchequerWithDefaults.getCurrentFrequency()}get defaultAmounts(){return this.exchequerWithDefaults.getAllAmounts()}get allAmountOptions(){return this.exchequer.getAllSuggestions()}get amountOptions(){return this.getAmountOptions(this.frequency)}get hintOptions(){return this.suggestedAmountHintsAI?this.suggestedAmountHintsAI.getHintsByFrequency(this.frequency):null}get currentHint(){var e;return(null===(e=this.hintOptions)||void 0===e?void 0:vt()(e).call(e,(e=>e.default)))||null}get hintsVariantName(){var e;return this.currentHint&&(null===(e=this.suggestedAmountHintsAI)||void 0===e?void 0:e.variantName)||ES.NONE}get minAmount(){return this.getMinAmount(this.frequency)}get canModifyAmount(){var e;if(!1===this.externalCheckoutData.modifyAmount)return!1;if(!1===this.checkoutConfiguration.queryParams.modifyAmount)return!1;const t=null===(e=this.checkoutConfiguration.externalConfig.checkoutIntent)||void 0===e?void 0:e.checkoutSettings;return!t||"boolean"!=typeof t.modifyAmount||t.modifyAmount}get canSelectCurrency(){return!!this.checkoutConfiguration.campaign.config.currencyEnabled&&(this.frequency===St.EK.ONCE?this.checkoutConfiguration.campaign.config.currencyEnabled:this.checkoutConfiguration.campaign.config.currencyEnabledRecurrings)}get defaultCurrency(){return this.checkoutConfiguration.campaign.config.defaultCurrency}get currencySymbol(){return this.currencyService.getSymbol(this.currency)}get lowFrequency(){return this.exchequer.getLowestFrequency()}get highFrequency(){return this.exchequer.getHighestFrequency()}get total(){return this.transactionCosts.getTotal(this.amount||1e4,this.currency)}get currencyList(){return[...this.checkoutConfiguration.company.stripeCurrencies.list]}get guessedCurrency(){return this._guessedCurrency||(this._guessedCurrency=this.exchequer.getGuessedCurrency()),this._guessedCurrency}get guessedCurrencyList(){return this._guessedCurrencyList||(this._guessedCurrencyList=this.exchequer.getGuessedCurrenciesList()),this._guessedCurrencyList}get isFeeCovered(){return this.transactionCosts.isCovered}get canModifyFrequency(){const e=ft()(this.checkoutConfiguration.campaign.config.frequencies);return B()(e).call(e,(e=>e.enabled)).length>1}get amountInUSD(){return this.amount?this.currencyService.convert(this.amount,this.currency,"USD"):null}get includeFees(){return this._includeFees}set amount(e){this.exchequer.setAmounts(e),this.checkForAmountDefault(e)}set frequency(e){this.exchequer.setFrequency(e),this.checkForAmountDefault(this.amount),e===St.EK.ONCE||this.canSelectCurrency||(this.currency=this.defaultCurrency)}set currency(e){const t=this.getDefaultAmountsInCurrency(this.frequency)!==this.amount;this.exchequerWithDefaults.setCurrency(e),this.exchequer.setCurrency(e,t),this._defaultAmount=this.getDefaultAmountsInCurrency(this.frequency)}set isFeeCovered(e){this.transactionCosts.isCovered=e}getDefaultAmountsInCurrency(e){const t=this.defaultAmounts[e];if(void 0===t)throw new Error(`Default amount for frequency ${e} is not defined`);return t}getAmountOptions(e){const t=this.allAmountOptions[e];if(void 0===t)throw new Error(`Amount options for frequency ${e} are not defined`);return t}getMinAmount(e){const t=this.minAmounts[e];if(void 0===t)throw new Error(`Min amount for frequency ${e} is not defined`);return t}setSuggestionsAndDisableAi(e){this.exchequer.setSuggestionsAndDisableAi(e)}collectTo(e){return NC(e),e.onDonationDataPointCollected(),this}validate(){const e=null!==this.amount,t=!e||this.validateMinAmount(),i=!e||this.validateMaxAmount(),n={isValid:t&&i&&e,errors:{min:!t,max:!i,required:!e}};return{isValid:n.isValid,fields:{amount:n}}}calculateSmartCoveringFee(e){e||this.includeFees!==St.__.SMART_COVERING||this.transactionCosts.calculateSmartFeeCovering({amountInUSD:this.amountInUSD,frequency:this.frequency})}snapshotFeeCoveringSuggestion(e){e||(this.includeFees!==St.__.ONLY_NO?this.includeFees!==St.__.ONLY_YES?this._feeCoveringSuggestion=this.isFeeCovered?St.__.DEFAULT_YES:St.__.DEFAULT_NO:this._feeCoveringSuggestion=St.__.ONLY_YES:this._feeCoveringSuggestion=St.__.ONLY_NO)}isFrequencyEnabled(e){const t=this.exchequer.enabledFrequencies;return Be()(t).call(t,e)}toObject(){return{amount:this.amount||0,currency:this.currency,frequency:this.frequency,total:this.total,publicFee:this.processingFee,amountOptions:this.amountOptions,feeCoveringSuggestion:this._feeCoveringSuggestion,hintAmounts:this.hintsAmounts,hintsVariantName:this.hintsVariantName,currentHint:this.currentHint||null}}setDefaultAmounts(){var e;g()(e=this.exchequer.enabledFrequencies).call(e,(e=>{var t;e!==this.frequency&&((null===(t=this.suggestedAmountHintsAI)||void 0===t?void 0:t.getHintsByFrequency(e))?this.setDefaultHintForFrequency(e):this.setDefaultAmountForFrequency(e))}))}syncHintsAmounts(){if(!this.suggestedAmountHintsAI)return;const e=this.exchequer.getAllHintsAmounts();this.suggestedAmountHintsAI.updateHintsByAmounts(e),this.currentHint&&this.exchequer.setAmount(this.currentHint.amount)}updateHintsByDefault(e){this.suggestedAmountHintsAI&&this.suggestedAmountHintsAI.updateHintsByDefault(this.frequency,e)}resetHintsByDefault(){var e;if(this.suggestedAmountHintsAI)for(const t in this.suggestedAmountHintsAI.hints)null===(e=this.suggestedAmountHintsAI)||void 0===e||e.updateHintsByDefault(t,null)}get minAmounts(){return this.exchequer.getAllMinAmounts()}get hintsAmounts(){return this.suggestedAmountHintsAI?this.suggestedAmountHintsAI.hintsAmounts:{[St.EK.ONCE]:[],[St.EK.DAILY]:[],[St.EK.WEEKLY]:[],[St.EK.BIWEEKLY]:[],[St.EK.EVERY_4_WEEKS]:[],[St.EK.MONTHLY]:[],[St.EK.BIMONTHLY]:[],[St.EK.QUARTERLY]:[],[St.EK.SEMIANNUAL]:[],[St.EK.ANNUAL]:[]}}get externalCheckoutData(){return this.checkoutConfiguration.externalConfig.checkoutData||{}}get exchequer(){return this._exchequer||(this._exchequer=this.getExchequer()),this._exchequer}get exchequerWithDefaults(){return this._exchequerWithDefaults||(this._exchequerWithDefaults=this.getExchequer()),this._exchequerWithDefaults}get guessCurrency(){return this.checkoutConfiguration.campaign.config.guessCurrency}get isMobile(){return this.checkoutConfiguration.infrastructureParams.isMobile}getDefaultFrequencyOverride(){return this.checkoutConfiguration.queryParams.recurring&&Nt.isFrequencyEnabled(this.checkoutConfiguration.campaign.config.frequencies,this.checkoutConfiguration.queryParams.recurring)?this.checkoutConfiguration.queryParams.recurring:this.externalCheckoutData.recurring&&Nt.isFrequencyEnabled(this.checkoutConfiguration.campaign.config.frequencies,this.externalCheckoutData.recurring)?this.externalCheckoutData.recurring:null}getExchequer(){var e,t,i;const n=this.checkoutConfiguration.campaign.config,a=this.checkoutConfiguration.user,r=this.checkoutConfiguration.currencies,s=this.checkoutConfiguration.company,o=_e(n.frequencies),c=(0,jt.j5)(this.userSession,this.isMobile),l=!(!this.checkoutConfiguration.launcherParams.key&&!this.checkoutConfiguration.launcherParams.elementKey),u={langCurrencies:[...r.langCurrencies]||[],countryCurrencies:[...r.countryCurrencies]||[],stripe:{default:s.stripeCurrencies.default,list:[...s.stripeCurrencies.list]}},d=new kC({currencies:u,defaultCurrency:this.defaultCurrency,guessCurrency:this.guessCurrency,isCurrencyEnabled:n.currencyEnabled,showcase:this.checkoutConfiguration.infrastructureParams.showcase}),h=new Sn({widgetKey:this.checkoutConfiguration.campaign.key,countryCode:a.address.countryCode||"US",frequencies:o,currencies:u,defaultCurrency:this.defaultCurrency,isMobile:this.isMobile,isLauncher:l,showcase:this.checkoutConfiguration.infrastructureParams.showcase,aiEnabled:n.enableAI,disableAmountAI:this.checkoutConfiguration.disableAmountAI,guessCurrency:this.guessCurrency,isCurrencyEnabled:n.currencyEnabled,trend:n.trend,xFactor:c,experimentsSettings:n.experimentsSettings,hintsAmounts:this.hintsAmounts},d,this.currencyService,this.suggestionsService),m=this.getDefaultFrequencyOverride();m&&h.setFrequency(m);const p=h.getCurrentCurrency(),g=this.externalCheckoutData.currency?this.getExternalAmount(this.externalCheckoutData.currency):this.getExternalAmount(p);if(g&&(this.externalCheckoutData.currency?(h.setCurrency(this.externalCheckoutData.currency),h.setAmount(g)):(h.setCurrency(n.defaultCurrency),h.setAmount(g),h.setCurrency(p)),this.resetHintsByDefault()),this.externalCheckoutData.selectedHint){const n=h.getCurrentFrequency(),a=null===(t=null===(e=this.suggestedAmountHintsAI)||void 0===e?void 0:e.getHintsByFrequency(n))||void 0===t?void 0:vt()(t).call(t,(e=>{var t;return e.id===(null===(t=this.externalCheckoutData.selectedHint)||void 0===t?void 0:t.id)}));a&&(null===(i=this.suggestedAmountHintsAI)||void 0===i||i.updateHintsByDefault(n,a))}return this._defaultAmount=h.getCurrentAmount(),h}validateMinAmount(){return!!this.amount&&this.amount>=this.minAmount}validateMaxAmount(){return!!this.amount&&this.amount.toString().length<=8}checkForAmountDefault(e){var t;this._defaultAmount=this.getDefaultAmountsInCurrency(this.frequency),this._defaultAmount===e&&g()(t=this.exchequer.enabledFrequencies).call(t,(e=>{this.setDefaultAmountForFrequency(e)}))}getExternalAmount(e){return this.externalCheckoutData.amount||this.currencyService.fromFloat(this.checkoutConfiguration.queryParams.amount||0,e)}setDefaultAmountForFrequency(e){const t=this.getDefaultAmountsInCurrency(e);this.exchequer.setAmountForFrequency(t,e)}setDefaultHintForFrequency(e){var t,i,n,a;const r=null===(t=this.suggestedAmountHintsAI)||void 0===t?void 0:t.hints[e],s=null===(i=this.suggestedAmountHintsAI)||void 0===i?void 0:i.defaultHints[e];if(!r||!s)return;const o=null!==(n=vt()(r).call(r,(e=>e.default)))&&void 0!==n?n:vt()(s).call(s,(e=>e.default));o&&(null===(a=this.suggestedAmountHintsAI)||void 0===a||a.updateHintsByDefault(e,o),this.exchequer.setAmountForFrequency(o.amount,e))}}class TC extends AC{constructor(){super(...arguments),this.isEnabled=!0,this.isRequired=!0,this.amount=0}get total(){return this.amount}get currency(){return this.checkoutConfiguration.company.defaultCurrency}get frequency(){return St.EK.ONCE}toObject(){return{amount:this.amount,total:this.total,currency:this.currency,frequency:this.frequency}}}class _C extends bC{constructor(){super(...arguments),this.isEnabled=!1,this.accountNumber="",this._isRequired=null}static get defaultValidationResult(){return{isValid:!0,fields:{accountNumber:{isValid:!0,errors:{required:!1}}}}}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}set isRequired(e){this._isRequired=e}toObject(){return{accountNumber:this.accountNumber}}validate(){const e=this.accountNumber.length>0,t=!(this.accountNumber||this.isRequired)||e;return{isValid:t,fields:{accountNumber:{isValid:t,errors:{required:!t}}}}}}function OC(e,t){return!!e&&(e.length>=t&&/^(?!anonymous$)([^!_@#$%^*+=~[\]{};:\\|?`]+$)/i.test(e))}class IC{}class RC extends IC{constructor(){super(...arguments),this.isEnabled=!0,this.titles=GC(ft()(gl))}}class LC extends IC{constructor(){super(...arguments),this.isEnabled=!1,this.titles=[]}}var jC=i(75652);const MC=i.n(jC)()([dl.NONE,...ft()(hl),...ft()(ml),...ft()(pl),...ft()(gl)]);class FC extends IC{constructor(){super(...arguments),this.isEnabled=!0,this.titles=GC(ft()(ml))}}class UC extends IC{constructor(){super(...arguments),this.isEnabled=!0,this.titles=GC(ft()(pl))}}class BC extends IC{constructor(){super(...arguments),this.isEnabled=!0,this.titles=GC(ft()(hl))}}function GC(e){return[dl.NONE,...e]}var qC={isAvailableCustomerTitle:function(e){return!!e&&Be()(MC).call(MC,e)}},KC=function(e){return function(e,t){switch(e){case St.C9.UNITED_KINGDOM:return new BC;case St.C9.FRANCE:return new FC;case St.C9.GERMANY:return new UC;case St.C9.AUSTRIA:return new RC;case St.C9.CANADA:return t===Ge.c0.FR_CA?new FC:new LC;default:return new LC}}(e.companyCountry,e.companyDefaultLocale)};class VC extends bC{static get defaultValidationResult(){return{isValid:!0,fields:{title:{isValid:!0,errors:{required:!1}}}}}constructor(e){super(e),this.checkoutConfiguration=e,this.title=dl.NONE,this._isEnabled=null,this._isRequired=null;const t=this.checkoutConfiguration.company;this._customerTitlesLogic=KC({companyCountry:t.country,companyDefaultLocale:t.localization.defaultLocale})}get isEnabled(){return null!==this._isEnabled?this._isEnabled:this.checkoutConfiguration.campaign.config.customerTitle.show&&this._customerTitlesLogic.isEnabled}get isRequired(){return null!==this._isRequired?this._isRequired:this.checkoutConfiguration.campaign.config.customerTitle.required&&this.isEnabled}get titleList(){return this._customerTitlesLogic.titles}set isEnabled(e){this._isEnabled=e}set isRequired(e){this._isRequired=e}toObject(){return{title:this.title}}validate(){const e=!this.isRequired||qC.isAvailableCustomerTitle(this.title);return{isValid:e,fields:{title:{isValid:e,errors:{required:!e}}}}}}class HC extends bC{constructor(){super(...arguments),this.isEnabled=!0,this.isRequired=!1,this.bankName="",this.bank={id:"",label:""}}static get defaultValidationResult(){return{isValid:!0,fields:{bank:{isValid:!0,errors:{required:!1}}}}}toObject(){return{bankName:this.bankName,bank:this.bank}}validate(){const e=!!this.bank.id;return{isValid:e,fields:{bank:{isValid:e,errors:{required:!e}}}}}}function YC(e){return e===St.C9.UNITED_KINGDOM||e===St.C9.ISRAEL}St.C9.ISRAEL;const ZC=[St.C9.ISRAEL,St.C9.UNITED_KINGDOM];class $C extends bC{static get defaultValidationResult(){return{isValid:!0,fields:{line1:{isValid:!0,errors:{required:!1}},line2:{isValid:!0,errors:{required:!1}},city:{isValid:!0,errors:{required:!1}},region:{isValid:!0,errors:{required:!1}},postal:{isValid:!0,errors:{required:!1}},countryCode:{isValid:!0,errors:{required:!1}}}}}static validateLine1(e){const t=!e.isRequired||!!e.line1;return{isValid:t,errors:{required:!t}}}static validateLine2(){return{isValid:!0,errors:{required:!1}}}static validateCity(e){const t=!(e.isRequired||e.line1)||!!e.city;return{isValid:t,errors:{required:!t}}}static validateRegion(e){let t=e.isRequired||!!e.line1;Be()(ZC).call(ZC,e.countryCode)&&(t=!1);const i=!t||!!e.region;return{isValid:i,errors:{required:!i}}}static validatePostal(e){let t;if(e.isRequired||e.line1||e.postal){const i=$C.countriesWithPostalValidation[e.countryCode];t=i?i.test(e.postal):!!e.postal}else t=!0;return{isValid:t,errors:{required:!t}}}static validateCountryCode(e){const t=!(e.isRequired||e.line1)||!!e.countryCode;return{isValid:t,errors:{required:!t}}}constructor(e,t,i,n){super(e),this.checkoutConfiguration=e,this.addressService=t,this.addressValidationAPI=i,this.countriesService=n,this.isEnabled=this.campaign.config.showMailing,this.isRequired=this.campaign.config.mailingRequired,this.line1="",this.line2="",this.city="",this.postal="",this.region="",this._countryCode=this.user.address.countryCode,this.shouldAutofillRegion&&(this.region=this.formatGeoIpRegion(this.user.address.region,this.countryCode)),this._countryCode||(this._countryCode=this.getDefaultCountryCode())}get countryCode(){return this._countryCode}set countryCode(e){const t=this.countryCode in $C.countriesWithPredefinedStates,i=e in $C.countriesWithPredefinedStates;(YC(e)||t||i)&&(this.region=""),this._countryCode=e}getDetails(e,t){return(0,m.mG)(this,void 0,void 0,(function*(){return this.addressService.getDetails({place:e,restrictCountries:[this.countryCode],sessionToken:t})}))}getSubplaces(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.addressService.getSubplaces(x()({},e))}))}getPlaces(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.addressService.getPlaces(x()({},e))}))}checkShouldValidateOnServer(){return!this.checkoutConfiguration.infrastructureParams.showcase&&(this.isRequired||!!this.line1)}toObject(){var e,t,i,n,a,r;const s={isRequired:this.isRequired,line1:gi()(e=this.line1).call(e),city:gi()(t=this.city).call(t),region:gi()(i=this.region).call(i),postal:gi()(n=this.postal).call(n),countryCode:gi()(a=this.countryCode).call(a)},o=gi()(r=this.line2).call(r);return o&&(s.line2=o),s}validate(){const e=this.toObject(),t=$C.validateLine1(e),i=$C.validateLine2(),n=$C.validateCity(e),a=$C.validateRegion(e),r=$C.validatePostal(e),s=$C.validateCountryCode(e);return{isValid:t.isValid&&i.isValid&&n.isValid&&a.isValid&&r.isValid&&s.isValid,fields:{line1:t,line2:i,city:n,region:a,postal:r,countryCode:s}}}validateAddress(){return(0,m.mG)(this,void 0,void 0,(function*(){const{validated:e,valid:t}=yield this.addressValidationAPI.validate({line1:this.line1,line2:this.line2,city:this.city,region:this.region,postal:this.postal,countryCode:this.countryCode});return!e||t}))}shouldFindSubplaces(e){return this.addressService.shouldFindSubplaces({place:e,restrictCountries:[this.countryCode]})}get campaign(){return this.checkoutConfiguration.campaign}get user(){return this.checkoutConfiguration.user}get shouldAutofillRegion(){return!!this.checkoutConfiguration.infrastructureParams.livemode&&!YC(this.countryCode)}formatGeoIpRegion(e,t){const i=$C.countriesWithPredefinedStates[t];if(!i)return e;let n;if(R()(i))n=vt()(i).call(i,(t=>{let{name:i}=t;return i.toLowerCase()===e.toLowerCase()}));else for(const t of ft()(i))if(n=vt()(t).call(t,(t=>{let{name:i}=t;return i.toLowerCase()===e.toLowerCase()})),n)break;return n?n.code:e}getDefaultCountryCode(){return this.countriesService.getMailingAddressCountriesList()[0].countryCode}}$C.countriesWithPredefinedStates={US:{"US States":[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DC",name:"District of Columbia"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}],"US Territories":[{code:"AS",name:"American Samoa"},{code:"GU",name:"Guam"},{code:"MH",name:"Marshall Islands"},{code:"FM",name:"Micronesia"},{code:"MP",name:"Northern Mariana Islands"},{code:"PW",name:"Palau"},{code:"PR",name:"Puerto Rico"},{code:"VI",name:"U.S. Virgin Islands"}],"US Military":[{code:"AA",name:"Armed Forces America"},{code:"AE",name:"Armed Forces"},{code:"AP",name:"Armed Forces Pacific"}]},CA:[{code:"AB",name:"Alberta"},{code:"BC",name:"British Columbia"},{code:"MB",name:"Manitoba"},{code:"NB",name:"New Brunswick"},{code:"NL",name:"Newfoundland and Labrador"},{code:"NS",name:"Nova Scotia"},{code:"NT",name:"Northwest Territories"},{code:"NU",name:"Nunavut"},{code:"ON",name:"Ontario"},{code:"PE",name:"Prince Edward Island"},{code:"QC",name:"Qubec"},{code:"SK",name:"Saskatchewan"},{code:"YT",name:"Yukon"}],IE:[{code:"Carlow",name:"Carlow"},{code:"Cavan",name:"Cavan"},{code:"Clare",name:"Clare"},{code:"Cork",name:"Cork"},{code:"Donegal",name:"Donegal"},{code:"Dublin",name:"Dublin"},{code:"Galway",name:"Galway"},{code:"Kerry",name:"Kerry"},{code:"Kildare",name:"Kildare"},{code:"Kilkenny",name:"Kilkenny"},{code:"Laois",name:"Laois"},{code:"Leitrim",name:"Leitrim"},{code:"Limerick",name:"Limerick"},{code:"Longford",name:"Longford"},{code:"Louth",name:"Louth"},{code:"Mayo",name:"Mayo"},{code:"Meath",name:"Meath"},{code:"Monaghan",name:"Monaghan"},{code:"Offaly",name:"Offaly"},{code:"Roscommon",name:"Roscommon"},{code:"Sligo",name:"Sligo"},{code:"Tipperary",name:"Tipperary"},{code:"Waterford",name:"Waterford"},{code:"Westmeath",name:"Westmeath"},{code:"Wexford",name:"Wexford"},{code:"Wicklow",name:"Wicklow"},{code:"Dublin 1",name:"Dublin 1"},{code:"Dublin 2",name:"Dublin 2"},{code:"Dublin 3",name:"Dublin 3"},{code:"Dublin 4",name:"Dublin 4"},{code:"Dublin 5",name:"Dublin 5"},{code:"Dublin 6",name:"Dublin 6"},{code:"Dublin 6W",name:"Dublin 6W"},{code:"Dublin 7",name:"Dublin 7"},{code:"Dublin 8",name:"Dublin 8"},{code:"Dublin 9",name:"Dublin 9"},{code:"Dublin 10",name:"Dublin 10"},{code:"Dublin 11",name:"Dublin 11"},{code:"Dublin 12",name:"Dublin 12"},{code:"Dublin 13",name:"Dublin 13"},{code:"Dublin 14",name:"Dublin 14"},{code:"Dublin 15",name:"Dublin 15"},{code:"Dublin 16",name:"Dublin 16"},{code:"Dublin 17",name:"Dublin 17"},{code:"Dublin 18",name:"Dublin 18"},{code:"Dublin 20",name:"Dublin 20"},{code:"Dublin 22",name:"Dublin 22"},{code:"Dublin 24",name:"Dublin 24"}]},$C.countriesWithPostalValidation={US:/^\d{5}(-\d{4})?$/,CA:/^[A-Z]\d[A-Z]\s?\d[A-Z]\d$/i};class zC extends bC{static get defaultValidationResult(){return{isValid:!0,fields:{onBehalfOf:{isValid:!0,errors:{required:!1,minLength:!1}}}}}constructor(e){super(e),this.checkoutConfiguration=e,this.isEnabled=this.checkoutConfiguration.campaign.config.showBehalfOf,this.isRequired=!1,this.isActive=!1,this._companyName=""}get companyName(){return this.isActive?this._companyName:""}get isOnBehalfOf(){return!!this.isEnabled&&Boolean(this.companyName)}set companyName(e){this._companyName=e}toObject(){return{companyName:this.companyName}}collectTo(e){return e.onBehalfOfDataPointCollected(),this}validate(){const e=!this.isEnabled||!this.isActive||this.validateCompanyName();return{isValid:e,fields:{onBehalfOf:{isValid:e,errors:{required:!(!this.isEnabled||!this.isActive||this.companyName),minLength:!e}}}}}validateCompanyName(){return!(!this.companyName||this.companyName.length<2||this.companyName.match(/^\d+$/)||"mrs."===this.companyName.toLowerCase())}}class WC extends bC{static get defaultValidationResult(){return{isValid:!0,fields:{firstName:{isValid:!0,errors:{required:!1,minLength:!1}},lastName:{isValid:!0,errors:{required:!1,minLength:!1}}}}}constructor(e,t){super(e),this.checkoutConfiguration=e,this.validationSettings=t,this.isEnabled=!0,this.isRequired=!0,this.firstName=this.checkoutConfiguration.queryParams.firstName||"",this.lastName=this.checkoutConfiguration.queryParams.lastName||"",this.title=dl.NONE}get fullName(){var e;return gi()(e=`${this.firstName} ${this.lastName}`).call(e)}set fullName(e){var t;const i=B()(t=e.split(" ")).call(t,Boolean);this.firstName=i[0],i.length>1&&(this.lastName=i[i.length-1])}validate(){const e=this.toObject(),t=OC(e.firstName,this.validationSettings.MIN_LENGTH),i={isValid:t,errors:{required:!e.firstName,minLength:!t}},n=OC(e.lastName,this.validationSettings.MIN_LENGTH),a={isValid:n,errors:{required:!e.lastName,minLength:!n}};return{isValid:i.isValid&&a.isValid,fields:{firstName:i,lastName:a}}}toObject(){var e,t;return{firstName:gi()(e=this.firstName).call(e),lastName:gi()(t=this.lastName).call(t)}}}class XC extends bC{static get defaultValidationResult(){return{isValid:!0,fields:{email:{isValid:!0,errors:{email:!1,required:!1}}}}}constructor(e){super(e),this.checkoutConfiguration=e,this.isEnabled=!0,this.isRequired=!0,this.email=this.checkoutConfiguration.queryParams.email||"",this.emailConsent={isEnabled:this.checkoutConfiguration.featureConfig.emailConsent}}validate(){const e=this.toObject(),t=Ci(e.email),i={isValid:t,errors:{required:!e.email,email:!t}};return{isValid:i.isValid,fields:{email:i}}}toObject(){var e;return{email:gi()(e=this.email).call(e)}}}class QC extends bC{static get defaultValidationResult(){return{isValid:!0,fields:{phone:{isValid:!0,errors:{required:!1,invalid:!1}}}}}constructor(e){super(e),this.checkoutConfiguration=e,this.isEnabled=this.campaign.config.showPhone,this.isRequired=this.campaign.config.phoneRequired,this.countryCode=this.user.address.countryCode,this.phone=null,this._cleanPhone=null,this.legalText=this.phoneLegalText}get isLegalTextEnabled(){return this.checkoutConfiguration.campaign.config.showPhoneLegalText}get phoneLegalText(){return this.checkoutConfiguration.campaign.config.phoneLegalText}toObject(){return{phone:this.isEnabled?this._cleanPhone||"":null}}setCleanPhone(e){this._cleanPhone=e}validate(){const e=this.isRequired&&!this.phone,t=(this.isRequired||!!this.phone)&&!function(e){if(!e)return!1;const t=e.replace(/[^\d]/g,"");return t.length>=7&&t.length<=15}(this.phone),i=!e&&!t;return{isValid:i,fields:{phone:{isValid:i,errors:{required:e,invalid:t}}}}}get campaign(){return this.checkoutConfiguration.campaign}get user(){return this.checkoutConfiguration.user}}var JC,eb=i(22788),tb=i.n(eb);!function(e){e.CHECKBOX="checkbox",e.MULTIOPTION="multioption",e.RADIO="radio",e.DROPDOWN="dropdown",e.LINE="line",e.MULTILINE="multiline"}(JC||(JC={}));class ib extends bC{static isQuestionValid(e){return!e.required||ib.isRequiredQuestionValid(e)}static isRequiredQuestionValid(e){return e.type===JC.CHECKBOX?!0===e.answer:e.type===JC.MULTIOPTION&&R()(e.answer)?!!B()(t=e.answer).call(t,Boolean).length:Boolean(e.answer);var t}constructor(e){if(super(e),this.checkoutConfiguration=e,this.isEnabled=!!this.campaign.config.questions.length&&this.campaign.config.showQuestions,this.isRequired=!0,this.questions=new(wi()),e.campaign.config.showQuestions&&this.campaign.config.questions)for(const e of this.campaign.config.questions){const t=e.options||[];let i=e.key;this.checkoutConfiguration.showcase&&!i&&(i=e.id),this.questions.set(i,{answer:R()(e.answer)?[...e.answer]:e.answer,code:e.code,createdAt:e.createdAt,key:i,id:e.id,options:[...t],question:e.question,required:e.required,type:e.type})}}setAnswer(e,t){this.getQuestion(e).answer=t}toObject(){var e;return{questions:_e([...be()(e=this.questions).call(e)])}}validate(){var e;return this.validateQuestionsByKeys([...tb()(e=this.questions).call(e)])}validateQuestionsByKeys(e){var t,i,n;const a={},r=B()(t=[...be()(i=this.questions).call(i)]).call(t,(t=>{let{key:i}=t;return Be()(e).call(e,i)}));return g()(r).call(r,(e=>{a[e.key]={isValid:ib.isQuestionValid(e)}})),{isValid:wr()(n=ft()(a)).call(n,(e=>{let{isValid:t}=e;return t})),fields:a}}getQuestion(e){const t=this.questions.get(e);if(!t)throw new nb(e);return t}getAnswer(e){return this.getQuestion(e).answer}get campaign(){return this.checkoutConfiguration.campaign}}class nb extends Error{constructor(e){super(`Question not found: ${e}`)}}class ab extends bC{static get defaultValidationResult(){return{isValid:!0,fields:{securities:{isValid:!0,errors:{notEmpty:!1}},totalAmount:{isValid:!0,errors:{max:!1}}}}}constructor(e,t,i){super(e),this.checkoutConfiguration=e,this.securitiesApi=t,this.currencyService=i,this.isEnabled=!0,this._isRequired=null,this._securities=new(wi())}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get securities(){var e,t;return _a()(e=[...be()(t=this._securities).call(t)]).call(e)}get securitiesWithSubtotals(){var e;return T()(e=this.securities).call(e,(e=>({ticker:e.ticker,quantity:e.quantity,subtotal:e.quantity*e.price,currency:e.currency})))}set isRequired(e){this._isRequired=e}getAmount(){let e=0;for(const[,t]of this._securities)e+=t.quantity*t.price;return e}getSecurities(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.securitiesApi.getListV2(e)}))}add(e){return this._securities.set(e.ticker,x()(x()({},e),{quantity:1})),this}changeQuantity(e,t){const i=this._securities.get(e);return i?(this._securities.set(i.ticker,x()(x()({},i),{quantity:t})),this):this}remove(e){return this._securities.delete(e),this}toObject(){return{securities:this.securities}}collectTo(e){return function(e){if(void 0===e.onSecuritiesDataPointCollected)throw new Error("Expected checkout state to be ICheckoutStateWithSecurities")}(e),e.onSecuritiesDataPointCollected(),this}validate(){const e=!!this.securities.length,t=this.getAmountInUSD()<=ab.MAX_TOTAL_AMOUNT_IN_USD;return{isValid:e&&t,fields:{securities:{isValid:e,errors:{notEmpty:!e}},totalAmount:{isValid:t,errors:{max:!t}}}}}getAmountInUSD(){let e=0;for(const[,t]of this._securities){const i=t.quantity*t.price;e+=this.currencyService.convert(i,t.currency,"USD")}return e}}ab.MAX_TOTAL_AMOUNT_IN_USD=1e8;class rb extends bC{constructor(){super(...arguments),this.isEnabled=this.campaign.config.showTerms,this.isRequired=this.isEnabled,this.text=this.campaign.config.termsText,this.isAccepted=this.campaign.config.termsChecked}static get defaultValidationResult(){return{isValid:!0,fields:{isAccepted:{isValid:!0,errors:{required:!1}}}}}validate(){const e=!this.isRequired||this.isAccepted;return{isValid:e,fields:{isAccepted:{isValid:e,errors:{required:!e}}}}}toObject(){return{isAccepted:this.isEnabled?this.isAccepted:void 0}}get campaign(){return this.checkoutConfiguration.campaign}}class sb extends Error{constructor(e){super("DataPoint Validation Failed"),this.validationResult=e}}const ob={DonorName:WC,DonorEmail:XC,MailingAddress:$C,MailingListSubscription:class extends bC{constructor(){super(...arguments),this.isEnabled=this.campaign.config.showSubscription,this.isRequired=!1,this.checked=this.isEnabled&&this.campaign.config.subscriptionChecked}get text(){return this.campaign.config.subscriptionText}toObject(){return{checked:!!this.checked}}get campaign(){return this.checkoutConfiguration.campaign}},Tribute:class extends bC{constructor(e){super(e),this.checkoutConfiguration=e,this.isRequired=!1,this._tributeName="",this.tributeeName=this.getDefaultTributeeName(),this.isEnabled=this.campaign.config.tribute.show,this.isActive=!this.campaign.config.tribute.optional||!!this._tributeName,this.isOptional=this.campaign.config.tribute.optional}get labelType(){return this.campaign.config.tribute.labelType}get isSharingEnabled(){const{showEmail:e,showAddress:t}=this.checkoutConfiguration.campaign.config.tribute;return e||t}get type(){return vS.NONE}get isFilled(){return this.isActive&&!!this.tributeeName}get tributeeName(){return this._tributeName}get campaign(){return this.checkoutConfiguration.campaign}get isTributeOriented(){return!this.isOptional}set tributeeName(e){(gi()(e).call(e)||""===e)&&(this._tributeName=e)}toObject(){return{inHonorOf:this.tributeeName,type:this.type,labelType:this.labelType,isActive:this.isActive}}collectTo(e){return e.onTributeDataPointCollected(),this}get externalCheckoutData(){return this.checkoutConfiguration.externalConfig.checkoutData||{}}getDefaultTributeeName(){var e;const t=this.checkoutConfiguration.queryParams.tributeHonoree,i=null===(e=this.externalCheckoutData.tribute)||void 0===e?void 0:e.inHonorOf;return t||i||""}},FiatDonation:DC,GiftAid:class extends bC{constructor(){super(...arguments),this.isAccepted=!1,this._isEnabled=null,this._isRequired=null,this.isOnBehalfOf=!1,this.isShown=!1}get isEnabled(){return null!==this._isEnabled?this._isEnabled:this.campaign.config.giftAid.show&&!this.isOnBehalfOf&&this.checkoutConfiguration.featureConfig.giftAid}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get legalText(){return this.checkoutConfiguration.campaign.config.giftAid.legalText}set isEnabled(e){this._isEnabled=e}set isRequired(e){this._isRequired=e}reset(e){return PC(e),e.resetGiftAid(),this}setOnBehalfOf(e){this.isOnBehalfOf=e}setShown(){this.isShown=!0}accept(){this.isAccepted=!0}reject(){this.isAccepted=!1}collectTo(e){return PC(e),this.isAccepted&&e.onGiftAidAccepted(),this}toObject(){return{isAccepted:this.isAccepted,isShown:this.isShown,legalText:this.legalText}}get campaign(){return this.checkoutConfiguration.campaign}},Questions:ib,Comment:class extends bC{constructor(){super(...arguments),this.isEnabled=this.campaign.config.showComment,this.isRequired=!1,this.comment="",this._prevComment=""}get prevComment(){return this._prevComment}savePrevComment(){this._prevComment=this.comment}toObject(){return{comment:this.comment}}get campaign(){return this.checkoutConfiguration.campaign}},Designation:class extends bC{static get defaultValidationResult(){return{isValid:!0,fields:{goal:{isValid:!0,errors:{required:!1}}}}}constructor(e){var t;super(e),this.checkoutConfiguration=e,this.isRequired=!1,this.goalKey=null,this.savedOneTimeGoalKey=null,this.savedRecurringGoalKey=null,this.isEnabled=!!this.goals.length&&this.displayGoal===Kt.SELECT,this.goalKey=(null===(t=this.checkoutConfiguration.fundraisingPage)||void 0===t?void 0:t.designation)||this.externalCheckoutData.designationId||null}get modifyDesignation(){var e;const t=this.checkoutConfiguration.queryParams.modifyDesignation;if("boolean"==typeof t)return t;const i=this.externalCheckoutData.modifyDesignation;if("boolean"==typeof i)return i;const n=null===(e=this.checkoutConfiguration.externalConfig.checkoutIntent)||void 0===e?void 0:e.checkoutSettings;return!n||"boolean"!=typeof n.modifyDesignation||n.modifyDesignation}get goals(){return this.checkoutConfiguration.campaign.config.goals}get goalName(){var e;return(null===(e=this.selectedGoal)||void 0===e?void 0:e.name)||null}get goalCode(){var e;return(null===(e=this.selectedGoal)||void 0===e?void 0:e.code)||null}get allowRecurring(){var e;if(!this.isEnabled)return!0;const t=null===(e=this.selectedGoal)||void 0===e?void 0:z()(e);return!t||t!==St.$W.ONE_TIME}toObject(){return{goalKey:this.isEnabled?this.goalKey:null,goalName:this.isEnabled?this.goalName:null}}setGoalKey(e,t){const i=this.getGoalRepeat(t);this.goalKey=e,this.saveGoalKeyByRepeat(i)}changeGoalKeyByFrequency(e){var t,i;if(!this.isEnabled)return;const n=this.getGoalRepeat(e);(null===(t=this.externalGoal)||void 0===t?void 0:z()(t))!==St.$W.ALL&&(null===(i=this.externalGoal)||void 0===i?void 0:z()(i))!==n?this.checkoutConfiguration.preselectDesignation||1===this.getAllowedGoals(e).length?this.preselectDesignation(n):this.goalKey=null:this.goalKey=this.externalGoal.key}isGoalAllowedToShow(e,t){if(!this.isEnabled)return!1;const i=t===St.EK.ONCE?St.$W.ONE_TIME:St.$W.RECURRING;return z()(e)===i||z()(e)===St.$W.ALL}canChangeDesignation(e){return!!this.isEnabled&&!(e<=1||!this.modifyDesignation)}validateDesignation(e){const t=!this.isEnabled||this.isGoalValid(e),i={isValid:t,errors:{required:!t}};return{isValid:i.isValid,fields:{goal:i}}}collectTo(e){return function(e){if(void 0===e.onDesignationDataPointCollected)throw new Error("Expected checkout state to be ICheckoutStateWithDesignation")}(e),e.onDesignationDataPointCollected(),this}get selectedGoal(){var e;return this.isEnabled&&vt()(e=this.goals).call(e,(e=>e.key===this.goalKey))||null}get displayGoal(){return this.checkoutConfiguration.campaign.config.displayGoal}get externalGoal(){var e;return this.isEnabled&&vt()(e=this.goals).call(e,(e=>{var t;return e.key===this.checkoutConfiguration.queryParams.designationId||e.key===this.externalCheckoutData.designationId||e.key===(null===(t=this.checkoutConfiguration.fundraisingPage)||void 0===t?void 0:t.designation)}))||null}get externalCheckoutData(){return this.checkoutConfiguration.externalConfig.checkoutData||{}}getGoalRepeat(e){return e===St.EK.ONCE?St.$W.ONE_TIME:St.$W.RECURRING}preselectDesignation(e){var t,i,n,a,r,s,o,c;const l=this.getSavedGoalByRepeat(e),u=this.getSavedGoalByRepeat(e===St.$W.ONE_TIME?St.$W.RECURRING:St.$W.ONE_TIME);this.goalKey=null!==(c=null!==(s=null!==(a=null!==(n=null==l?void 0:l.key)&&void 0!==n?n:(null==u?void 0:z()(u))===St.$W.ALL?u.key:null)&&void 0!==a?a:null===(r=vt()(t=this.goals).call(t,(t=>t.default===e)))||void 0===r?void 0:r.key)&&void 0!==s?s:null===(o=vt()(i=this.goals).call(i,(e=>e.default===St.$W.ALL)))||void 0===o?void 0:o.key)&&void 0!==c?c:null}getSavedGoalByRepeat(e){var t,i;const n=e===St.$W.ONE_TIME?this.savedOneTimeGoalKey:this.savedRecurringGoalKey;return null!==(i=vt()(t=this.goals).call(t,(e=>e.key===n)))&&void 0!==i?i:null}saveGoalKeyByRepeat(e){e!==St.$W.ONE_TIME?this.savedRecurringGoalKey=this.goalKey:this.savedOneTimeGoalKey=this.goalKey}isGoalValid(e){return!(!this.selectedGoal&&this.getAllowedGoals(e).length>0)}getAllowedGoals(e){var t;return B()(t=this.goals).call(t,(t=>this.isGoalAllowedToShow(t,e)))}},PaymentOptions:class extends bC{constructor(e,t){super(e),this.checkoutConfiguration=e,this.paymentMethodAvailabilityManagerRepository=t,this.isEnabled=!0,this.isRequired=!0,this.paymentMethodCountry=null,this.canApplePay=!1,this.canGooglePay=!1,this.canVenmo=!1,this.canPaypal=!0,this.isStripeAccountConnected=!!this.checkoutConfiguration.company.stripeAccount,this._clientPaymentMethod=null,this._selectedPaymentOption=null,this._isPaypalAvailable=!1,this._isPaypalVisible=!1,this._isCreditCardAvailable=!1,this._isGooglePayAvailable=!1,this._isClickToPayAvailable=!1,this._isAuBecsAvailable=!1,this._isUSBankAccountAvailable=!1,this._isApplePayAvailable=!1,this._isUkBacsAvailable=!1,this._isSepaAvailable=!1,this._isAcssAvailable=!1,this._isVenmoAvailable=!1,this._isIDEALAvailable=!1}get allowedPaymentMethods(){const e=this.isVenmoAvailable&&this.canVenmo,t=this.isApplePayAvailable&&this.canApplePay,i=this.isGooglePayAvailable&&this.canGooglePay&&!t,n=this.isPaypalVisible&&this.canPaypal;return{[St.GZ.CARD]:{available:this.isCreditCardAvailable,show:this.isCreditCardAvailable},[St.GZ.APPLE_PAY]:{available:this.isApplePayAvailable,show:t},[St.GZ.GOOGLE_PAY]:{available:this.isGooglePayAvailable,show:i},[St.GZ.CLICK_TO_PAY]:{available:this.isClickToPayAvailable,show:this.isClickToPayAvailable},[St.GZ.US_BANK_ACCOUNT]:{available:this.isUSBankAccountAvailable,show:this.isUSBankAccountAvailable},[St.GZ.PAYPAL]:{available:this.isPaypalAvailable,show:n},[St.GZ.VENMO]:{available:this.isVenmoAvailable,show:e},[St.GZ.AU_BECS]:{available:this.isAuBecsAvailable,show:this.isAuBecsAvailable},[St.GZ.UK_BACS]:{available:this.isUkBacsAvailable,show:this.isUkBacsAvailable},[St.GZ.SEPA]:{available:this.isSepaAvailable,show:this.isSepaAvailable},[St.GZ.IDEAL]:{available:this.isIDEALAvailable,show:this.isIDEALAvailable},[St.GZ.ACSS]:{available:this.isAcssAvailable,show:this.isAcssAvailable},[St.GZ.CRYPTO]:{available:!0,show:!0},[St.GZ.STOCK]:{available:!0,show:!0}}}get clientPaymentMethod(){return this._clientPaymentMethod}get selectedPaymentOption(){return this._selectedPaymentOption}calculatePaymentOptionsAvailability(e){const t=this.checkPaypal(e);this._isPaypalAvailable=t.available,this._isPaypalVisible=t.show,this._isCreditCardAvailable=this.checkCreditCard(),this._isApplePayAvailable=this.checkApplePay(),this._isGooglePayAvailable=this.checkGooglePay(),this._isClickToPayAvailable=this.checkClickToPay(e),this._isAuBecsAvailable=this.checkAuBecs(e),this._isUSBankAccountAvailable=this.checkUSBankAccount(e),this._isUkBacsAvailable=this.checkUkBacs(e),this._isSepaAvailable=this.checkSepa(e),this._isAcssAvailable=this.checkAcss(e),this._isVenmoAvailable=this.checkVenmo(e),this._isIDEALAvailable=this.checkIDEAL(e)}collectTo(e){return NC(e),e.onPaymentOptionsDataPointCollected(),this}isPaypalConversionAvailable(e){let{merchantId:t,frequency:i,isPaypalEnabled:n,hasDefaultCurrencyPaypal:a}=e;return!!t&&Boolean(i===St.EK.ONCE&&n&&a)}setPaymentMethod(e){this._clientPaymentMethod=e}setPaymentOption(e){this._selectedPaymentOption=e}toObject(){return{clientPaymentMethod:this.clientPaymentMethod}}get isPaypalAvailable(){return this._isPaypalAvailable}get isPaypalVisible(){return this._isPaypalVisible}get isCreditCardAvailable(){return this._isCreditCardAvailable}get isGooglePayAvailable(){return this._isGooglePayAvailable}get isClickToPayAvailable(){return this._isClickToPayAvailable}get isAuBecsAvailable(){return this._isAuBecsAvailable}get isUSBankAccountAvailable(){return this._isUSBankAccountAvailable}get isApplePayAvailable(){return this._isApplePayAvailable}get isUkBacsAvailable(){return this._isUkBacsAvailable}get isSepaAvailable(){return this._isSepaAvailable}get isIDEALAvailable(){return this._isIDEALAvailable}get isAcssAvailable(){return this._isAcssAvailable}get isVenmoAvailable(){return this._isVenmoAvailable}checkGooglePay(){return"https:"===window.location.protocol&&!this.checkoutConfiguration.infrastructureParams.isInAppBrowser&&this.checkoutConfiguration.company.paymentOptions.googlePay}checkPaypal(e){let{currency:t,frequency:i}=e;const{subscriptionsEnabled:n}=this.checkoutConfiguration.company.paypal,a=this.paymentMethodAvailabilityManagerRepository.getManager(St.GZ.PAYPAL,Jv.WIDGET),r=this.checkoutConfiguration.company,s=this.checkoutConfiguration.campaign.config,o=r.paypalCurrencies,c=Be()(o).call(o,t),l=Be()(o).call(o,s.defaultCurrency),u=r.paymentOptions.paypal&&a.allowed("currency",t)&&(c||l)&&this.isEnvironmentSupportsPayPal();return{available:u,show:u&&(i===St.EK.ONCE?a.allowed("repeat",i):a.allowed("repeat",i)&&n)}}isEnvironmentSupportsPayPal(){const e=this.checkoutConfiguration.checkoutType===w.MODAL,t=!(this.checkoutConfiguration.isIOSFirefox||this.checkoutConfiguration.infrastructureParams.isInAppBrowser);return!e||t}checkCreditCard(){return this.checkoutConfiguration.company.paymentOptions.creditCard}checkClickToPay(e){let{currency:t}=e;const i=this.paymentMethodAvailabilityManagerRepository.getManager(St.GZ.CLICK_TO_PAY,Jv.WIDGET);return this.checkoutConfiguration.company.paymentOptions.clickToPay&&i.allowed("currency",t)&&!this.checkoutConfiguration.infrastructureParams.isInAppBrowser}checkAuBecs(e){let{currency:t,frequency:i,total:n}=e;const a=this.paymentMethodAvailabilityManagerRepository.getManager(St.GZ.AU_BECS,Jv.WIDGET);return this.checkoutConfiguration.company.paymentOptions.auBecsDebit&&a.allowed("repeat",i)&&a.allowed("currency",t)&&a.allowed("amount",n)}checkUSBankAccount(e){let{currency:t,frequency:i,total:n}=e;const a=oS(this.checkoutConfiguration.company.key,n,t),r=this.paymentMethodAvailabilityManagerRepository.getManager(St.GZ.US_BANK_ACCOUNT,Jv.WIDGET);let s=r.allowed("amount",a);return s&&uS(this.checkoutConfiguration.company.stripe.usBankAccount.verification)&&(s=mS(a)),this.checkoutConfiguration.company.paymentOptions.usBankAccount&&r.allowed("repeat",i)&&r.allowed("currency",t)&&s&&"USD"===this.checkoutConfiguration.company.stripeCurrencies.default}checkApplePay(){return this.checkoutConfiguration.company.paymentOptions.applePay}checkUkBacs(e){let{currency:t,frequency:i,total:n}=e;const a=this.paymentMethodAvailabilityManagerRepository.getManager(St.GZ.UK_BACS,Jv.WIDGET);return this.checkoutConfiguration.company.paymentOptions.ukBacs&&a.allowed("repeat",i)&&a.allowed("currency",t)&&a.allowed("amount",n)}checkSepa(e){let{currency:t,frequency:i,total:n}=e;const a=this.paymentMethodAvailabilityManagerRepository.getManager(St.GZ.SEPA,Jv.WIDGET);return this.checkoutConfiguration.company.paymentOptions.sepa&&a.allowed("repeat",i)&&a.allowed("currency",t)&&a.allowed("amount",n)}checkIDEAL(e){let{currency:t,frequency:i,total:n}=e;if(this.checkoutConfiguration.infrastructureParams.isInAppBrowser)return!1;const a=this.paymentMethodAvailabilityManagerRepository.getManager(St.GZ.IDEAL,Jv.WIDGET),r=a.allowed("customerCountry",this.checkoutConfiguration.user.address.countryCode)||gn();return(i===St.EK.ONCE||this.checkoutConfiguration.company.paymentOptions.sepa)&&this.checkoutConfiguration.company.paymentOptions.ideal&&r&&a.allowed("repeat",i)&&a.allowed("currency",t)&&a.allowed("amount",n)}checkAcss(e){let{currency:t,frequency:i,total:n}=e;const a=this.paymentMethodAvailabilityManagerRepository.getManager(St.GZ.ACSS,Jv.WIDGET);return this.checkoutConfiguration.company.paymentOptions.acss&&a.allowed("repeat",i)&&a.allowed("currency",t)&&a.allowed("amount",n)}checkVenmo(e){let{currency:t,frequency:i}=e;if(!this.checkoutConfiguration.infrastructureParams.livemode||this.checkoutConfiguration.infrastructureParams.showcase)return!1;const n=this.paymentMethodAvailabilityManagerRepository.getManager(St.GZ.VENMO,Jv.WIDGET),a=!!this.checkoutConfiguration.company.paypal.merchantId;return(this.checkoutConfiguration.user.address.countryCode===St.C9.UNITED_STATES||gn())&&a&&n.allowed("repeat",i)&&n.allowed("currency",t)&&this.checkoutConfiguration.company.paymentOptions.venmo&&!this.checkoutConfiguration.infrastructureParams.isInAppBrowser}},PreDonationUpsell:class extends bC{constructor(e,t){super(e),this.checkoutConfiguration=e,this.preDonationUpsellService=t,this.isEnabled=this.checkoutConfiguration.campaign.config.showUpsell,this.isRequired=this.isEnabled,this.isAccepted=!1,this.showed=!1,this.used=!1,this.currency="USD",this.donationAmount=0,this.donationFrequency=St.EK.ONCE,this.upsellAmount=0,this.upsellFrequency=St.EK.MONTHLY}toObject(){return{currency:this.currency,fromAmount:this.donationAmount,showed:this.showed,used:this.used}}canShowUpsellScreen(e,t){var i;const n=this.preDonationUpsellService.canShowUpsellScreen(this.getUpsellParams(t,e.amount,e.currency,e.frequency));return this.checkoutConfiguration.infrastructureParams.showcase?n||!!(null===(i=this.checkoutConfiguration.showcase)||void 0===i?void 0:i.forceUpsell):n}getUpsellAmounts(e,t,i,n){return this.preDonationUpsellService.getUpsellAmounts(this.getUpsellParams(e,t,i,n))}setCurrency(e){this.currency=e}setDonationAmount(e){this.donationAmount=e}setDonationFrequency(e){this.donationFrequency=e}accept(e,t,i){this.isAccepted=!0,this.upsellAmount=e,this.upsellFrequency=this.getTargetFrequency(i,t.donationAmount,t.currency,t.donationFrequency)}getTargetFrequency(e,t,i,n){return this.preDonationUpsellService.getTargetFrequency(this.getUpsellParams(e,t,i,n))}collectTo(e){return NC(e),e.onPreDonationUpsellDataPointCollected({amount:this.isAccepted?this.upsellAmount:this.donationAmount,frequency:this.isAccepted?this.upsellFrequency:this.donationFrequency}),this}getUpsellParams(e,t,i,n){return{minMonthly:this.checkoutConfiguration.campaign.config.frequencies.monthly.minAmount||0,payParams:{amount:t,currency:i,frequency:n,tribute:this.getTributePayload(e)},country:this.checkoutConfiguration.user.address.countryCode,widgetParams:{showUpsell:this.isEnabled,frequencies:this.checkoutConfiguration.enabledFrequencies,defaultCurrency:this.checkoutConfiguration.campaign.config.defaultCurrency,currencyEnabledRecurrings:this.checkoutConfiguration.campaign.config.currencyEnabledRecurrings}}}getTributePayload(e){return null===e||null===e.type?null:{labelType:e.labelType,type:e.type,inHonorOf:e.isActive?e.inHonorOf:""}}},PhoneNumber:QC,PaypalConversion:class extends bC{constructor(e,t,i){super(e),this.checkoutConfiguration=e,this.currencyService=t,this.transactionCosts=i,this.isEnabled=!0,this.isRequired=!1,this.isCurrencyConversionApplied=!1}toObject(){return{isCurrencyConversionApplied:this.isCurrencyConversionApplied}}calculateNewPaypalAmounts(e,t,i){const n=this.currencyService.getDigits(i),a=Math.ceil(this.currencyService.convert(e,t,i,!1,"US")/Math.pow(10,n))*Math.pow(10,n);return{amount:a,total:this.transactionCosts.getTotal(a,i)}}},TermsAndConditions:rb,RemindMeLater:class extends bC{constructor(){var e,t;super(...arguments),this.isEnabled=null===(t=null===(e=this.checkoutConfiguration.company)||void 0===e?void 0:e.abandonedDonations)||void 0===t?void 0:t.enabled,this.isRequired=!1,this._used=!1,this._shown=!1}get used(){return this._used}get shown(){return this._shown}setState(e){if(e.used&&!e.shown)throw new Error("RemindMeLaterDataPoint: used without shown");this._used=e.used,this._shown=e.shown}toObject(){return{used:this.used,shown:this.shown}}},OnBehalfOf:zC,DonateAnonymous:class extends bC{constructor(){super(...arguments),this.isEnabled=this.campaign.config.showAnonymous,this.isRequired=!1,this.anonymousChecked=!1}toObject(){return{anonymousChecked:this.anonymousChecked}}get campaign(){return this.checkoutConfiguration.campaign}},UKBacs:class extends bC{constructor(){super(...arguments),this.isEnabled=!0,this.isRequired=!1,this.sortCode="",this.accountNumber="",this.accountHolderName="",this.termsAccepted=!0}toObject(){const e=this.validate();if(!e.isValid)throw new sb(e);return{termsAccepted:this.termsAccepted,sortCode:this.sortCode,accountNumber:this.accountNumber,accountHolderName:this.accountHolderName}}validate(){const e=this.isSortCodeValid(),t=this.isAccountNumberValid(),i=this.isAccountHolderNameValid();return{isValid:e&&t&&i&&this.termsAccepted,fields:{sortCode:{isValid:e},accountNumber:{isValid:t},accountHolderName:{isValid:i},termsAccepted:{isValid:this.termsAccepted}}}}isSortCodeValid(){return!!(this.sortCode&&this.sortCode.length>=6&&this.sortCode.length<=6)}isAccountNumberValid(){return!!(this.accountNumber&&this.accountNumber.length>=4&&this.accountNumber.length<=17)}isAccountHolderNameValid(){return!!this.accountHolderName}},IDEAL:HC,PostDonationUpsell:class extends bC{constructor(e,t){super(e),this.checkoutConfiguration=e,this.postDonationUpsellServiceConstructor=t,this.isAccepted=!1,this.isShowed=!1,this._isEnabled=null,this._isRequired=null,this.donationAmount=0,this._recurringMinAmount=0,this.currency=this.checkoutConfiguration.campaign.config.defaultCurrency,this.tributeName="",this._amount=null,this.goalKey=null}get isEnabled(){return null!==this._isEnabled?this._isEnabled:this.checkoutConfiguration.infrastructureParams.showcase?this.checkoutConfiguration.campaign.config.showPostDonationUpsell:this.checkoutConfiguration.campaign.config.showPostDonationUpsell&&this.paymentFrequency===J.EK.ONCE&&this.isPaymentMethodAppropriate()&&this.isTributeEmpty()}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get suggestedAmount(){return this.postDonationUpsellService.getAmount()}get amount(){return this._amount}get period(){return this.postDonationUpsellService.getPeriod()}get startDate(){return this.postDonationUpsellService.getStartDate()}get guaranteedAmount(){return this.amount||this.suggestedAmount}get recurringMinAmount(){return this._recurringMinAmount||(this.checkoutConfiguration.infrastructureParams.showcase?5e3:0)}set isEnabled(e){this._isEnabled=e}set isRequired(e){this._isRequired=e}set amount(e){this._amount=e}setDonationAmount(e){this.donationAmount=e}setMinAmount(e){this._recurringMinAmount=e}setCurrency(e){this.currency=e}setPaymentMethod(e){this.paymentMethod=e}setPaymentFrequency(e){this.paymentFrequency=e}setTributeName(e){this.tributeName=e}accept(){this.isAccepted=!0}setShowed(){this.isShowed=!0}setGoalKey(e){this.goalKey=e}toObject(){return{isAccepted:this.isAccepted,showed:this.isShowed,period:this.period,firstChargeAt:this.startDate,fromAmount:this.donationAmount,currency:this.currency,recurring:{amount:this.guaranteedAmount,total:this.total,tip:this.tip},goalKey:this.goalKey||""}}validateMinAmount(){return!!this.amount&&this.amount>=this.recurringMinAmount}validateMaxAmount(){var e;return!!this.amount&&(null===(e=this.amount)||void 0===e?void 0:e.toString().length)<=8}get tip(){return 0}get total(){return(this.guaranteedAmount||0)+this.tip}get postDonationUpsellService(){const e={amount:this.donationAmount,minAmount:this.recurringMinAmount,currency:this.currency};return this._postDonationUpsellService?(this._postDonationUpsellService.updateExternalParams(e),this._postDonationUpsellService):(this._postDonationUpsellService=this.postDonationUpsellServiceConstructor(x()(x()({},e),{timestamp:O()()})),this._postDonationUpsellService)}isPaymentMethodAppropriate(){const e=this.paymentMethod===J.GZ.VENMO,t=this.paymentMethod===J.GZ.IDEAL;if(e||t)return!1;const i=this.paymentMethod===J.GZ.PAYPAL,n=this.checkoutConfiguration.company.paypal.subscriptionsEnabled;return!i||n}isTributeEmpty(){return!this.tributeName}},USBankAccount:class extends bC{constructor(){super(...arguments),this.isEnabled=!0,this.isRequired=!1,this.routingNumber="",this.accountNumber="",this.accountHolderName="",this.accountType="individual",this.verificationType=null,this.financialInstitution=""}get usBankAccountVerificationSetup(){const e=this.checkoutConfiguration.company.stripe.usBankAccount.verification;return{isInstantOnly:cS(e),isAbavOnly:lS(e),isMicroDepositOnly:uS(e),isInstantAndMicroDeposit:dS(e),isInstantAndAbav:hS(e)}}get accountNumberLast4(){var e;return this.accountNumber.length>4?a()(e=this.accountNumber).call(e,-4):this.accountNumber}toObject(){const e=this.validate();if(!e.isValid)throw new sb(e);return{routingNumber:this.routingNumber,accountNumber:this.accountNumber,accountNumberLast4:this.accountNumberLast4,accountHolderName:this.accountHolderName,accountType:this.accountType,verificationType:this.verificationType,financialInstitution:this.financialInstitution}}validate(){const e=this.isRoutingNumberValid(),t=this.isAccountNumberValid(),i=this.isAccountHolderNameValid();return{isValid:e&&t&&i,fields:{routingNumber:{isValid:e},accountNumber:{isValid:t},accountHolderName:{isValid:i},financialInstitution:{isValid:this.isFinancialInstitutionValid()},verificationType:{isValid:this.isVerificationTypeValid()}}}}isRoutingNumberValid(){return!(!this.routingNumber||9!==this.routingNumber.length)}isAccountNumberValid(){return!!(this.accountNumber&&this.accountNumber.length>=8&&this.accountNumber.length<=17)}isFinancialInstitutionValid(){return!!this.financialInstitution}isVerificationTypeValid(){return null===this.verificationType||"descriptor_code"===this.verificationType||"amounts"===this.verificationType}isAccountHolderNameValid(){return!(this.usBankAccountVerificationSetup.isMicroDepositOnly||this.usBankAccountVerificationSetup.isAbavOnly||this.usBankAccountVerificationSetup.isInstantAndAbav)||!!this.accountHolderName}},DTD:class extends bC{constructor(e,t,i,n){super(e),this.checkoutConfiguration=e,this.currencyService=t,this.doubleTheDonationApi=i,this.transactionCosts=n,this.employer=this.getDefaultEmployer(),this.showed=!1,this._isEnabled=null,this._isRequired=null,this.currency="USD",this._amount=0,this.isOnBehalfOf=!1,this._isAccepted=!1,this.isSkipped=!1}get isEnabled(){return null!==this._isEnabled?this._isEnabled:this.campaign.config.showDouble&&!this.isOnBehalfOf}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get isAccepted(){return this._isAccepted}get isIntegrationEnabled(){return this.checkoutConfiguration.integrations.dtdEnabled}get isVisible(){return Boolean(this.employerDTD&&this.employerDTD.id&&this.employerDTD.minimumMatchedAmount>0&&this.minimumMatchedAmount>0)}get amount(){return this._amount}get matchingRatio(){var e;return(null===(e=this.employerDTD)||void 0===e?void 0:e.ratio)||[1,1]}get rawMinimumMatchedAmount(){var e;return(null===(e=this.employerDTD)||void 0===e?void 0:e.minimumMatchedAmount)||0}get minimumMatchedAmount(){const e=this.currencyService.fromFloat(this.rawMinimumMatchedAmount,"USD");return this.currencyService.convert(e,"USD",this.currency)}get upsellDoubledAmount(){return this.upsellTotal+this.upsellTotal/this.matchingRatio[0]*this.matchingRatio[1]}get DTDDoubledAmount(){return this.amount+this.amount/this.matchingRatio[0]*this.matchingRatio[1]}get upsellTotal(){return this.currencyService.ceil(this.minimumMatchedAmount+this.upsellFee,this.currency)}set isEnabled(e){this._isEnabled=e}set isRequired(e){this._isRequired=e}set amount(e){this._amount=e}setEmployer(e){return this.employer.name=e,this}setEmployerDTD(e){return this.employerDTD=e,e&&this.setEmployer(e.company_name),this}resetEmployerDTD(){this.employer=this.getDefaultEmployer(),this.employerDTD=void 0}setOnBehalfOf(e){this.isOnBehalfOf=e}setCurrency(e){this.currency=e}toObject(){return{isSkipped:this.isSkipped,upsell:{currency:this.currency,fromAmount:this._amount,matchingFromAmount:this.minimumMatchedAmount,matchingPromisedAmount:this.upsellDoubledAmount,matchingRatio:this.matchingRatio,minimumMatchedAmount:this.minimumMatchedAmount,proposedAmount:this.upsellTotal,proposedAmountBeforeFeeCovered:this.rawMinimumMatchedAmount,showed:this.showed,visible:this.isVisible,isAccepted:this._isAccepted},employer:{name:this.employer?this.employer.name:""},employerDTD:this.employerDTD&&{id:this.employerDTD.id,companyName:this.employerDTD.company_name,minimumMatchedAmount:this.employerDTD.minimumMatchedAmount,ratio:this.employerDTD.ratio}}}getDTDCompanies(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.doubleTheDonationApi.getCompanies(e)}))}accept(){this._isAccepted=!0}reject(){this._isAccepted=!1}setSkipped(){this.isSkipped=!0}collectTo(e){return NC(e),this._isAccepted&&e.onDoubleTheDonationAccepted(this.upsellAmount),this}get campaign(){return this.checkoutConfiguration.campaign}get upsellAmount(){return this.upsellTotal-this.upsellFee}get upsellFee(){return this.transactionCosts.getProcessingFee(this.minimumMatchedAmount,this.currency)}getDefaultEmployer(){return{name:""}}},CustomerTitle:VC,CryptoDonation:xC,StockDonation:TC,BrokerageAccountNumber:_C,Securities:ab,Broker:class extends bC{static get defaultValidationResult(){return{isValid:!0,fields:{broker:{isValid:!0,errors:{required:!1}}}}}constructor(e,t){super(e),this.checkoutConfiguration=e,this.brokersApi=t,this.isEnabled=!0,this._isRequired=null,this._isCustomBroker=!0,this._broker={name:"",logo:null}}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get broker(){return this._broker}get isCustomBroker(){return this._isCustomBroker}set isRequired(e){this._isRequired=e}set broker(e){this._broker=e}setIsCustomBroker(e){this._isCustomBroker=e}getBrokers(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.brokersApi.getList(e)}))}setBrokerName(e){this._broker={name:e,logo:null}}toObject(){return{broker:{name:this.broker.name,logo:this.broker.logo}}}validate(){var e;const t=gi()(e=this.broker.name).call(e).length,i=t>=1&&t<=100;return{isValid:i,fields:{broker:{isValid:i,errors:{required:!i}}}}}},CoOwner:class extends bC{static get defaultValidationResult(){return{isValid:!0,fields:{firstName:{isValid:!0,errors:{required:!1,minLength:!1}},lastName:{isValid:!0,errors:{required:!1,minLength:!1}},email:{isValid:!0,errors:{required:!1,email:!1}},signature:{isValid:!0,errors:{required:!1,minLength:!1}}}}}constructor(e,t){super(e),this.checkoutConfiguration=e,this.validationSettings=t,this.isEnabled=!1,this.firstName="",this.lastName="",this.signature="",this.email="",this._isRequired=null}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get fullName(){var e;return gi()(e=`${this.firstName} ${this.lastName}`).call(e)}set isRequired(e){this._isRequired=e}toObject(){return{firstName:this.firstName,lastName:this.lastName,email:this.email,transcript:this.signature}}validate(){const e=this.validateFirstName(),t=this.validateLastName(),i=this.validateEmail(),n=this.validateSignature();return{isValid:e.isValid&&t.isValid&&i.isValid&&n.isValid,fields:{firstName:e,lastName:t,email:i,signature:n}}}validateFirstName(){const e=OC(this.firstName,this.validationSettings.MIN_LENGTH);return{isValid:e,errors:{required:!this.firstName,minLength:!e}}}validateLastName(){const e=OC(this.lastName,this.validationSettings.MIN_LENGTH);return{isValid:e,errors:{required:!this.lastName,minLength:!e}}}validateEmail(){const e=Ci(this.email);return{isValid:e,errors:{required:!this.email,email:!e}}}validateSignature(){const e=OC(this.signature,this.validationSettings.MIN_LENGTH);return{isValid:e,errors:{required:!this.signature,minLength:!e}}}},Signature:class extends bC{constructor(){super(...arguments),this.isEnabled=!0,this.signature="",this._isRequired=null}static get defaultValidationResult(){return{isValid:!0,fields:{signature:{isValid:!0,errors:{required:!1}}}}}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}set isRequired(e){this._isRequired=e}changeSignature(e){this.signature=e}toObject(){return{transcript:this.signature}}validate(){const e=!!this.signature;return{isValid:e,fields:{signature:{isValid:e,errors:{required:!e}}}}}}};class cb{constructor(e){this.sessionAPI=e}getCompanies(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.getDtdCompanies(e);return T()(t).call(t,(e=>({id:e.payload.id,company_name:e.payload.company_name,ratio:e.payload.ratio,minimumMatchedAmount:e.payload.minimumMatchedAmount})))}))}getDtdCompanies(e){return(0,m.mG)(this,void 0,void 0,(function*(){try{return(yield this.sessionAPI.get("dtd",{search:e},{delay:200,retries:5,cancelSimilar:!0})).data}catch(e){return[]}}))}}class lb{constructor(e,t,i,n){this.sessionAPI=e,this.currencyService=t,this.livemode=i,this.config=n}getList(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(!e)return[];let t=yield this.getListWithRetry(e);return t=T()(t).call(t,(e=>x()(x()({},e),{price:this.currencyService.fromFloat(e.price,"USD"),currency:"USD"}))),t}))}getListV2(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(!e)return[];let t=yield this.getListWithRetry(e);return t=T()(t).call(t,(e=>{const t=this.currencyService.fromFloat(e.price,this.config.currency),i=this.currencyService.convert(t,e.currency,this.config.currency);return x()(x()({},e),{price:i,currency:this.config.currency})})),t}))}update(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=T()(e).call(e,(e=>({ticker:e.ticker,count:e.quantity,name:e.name,price:e.price,currency:e.currency})));return this.sessionAPI.post("securities",{securities:t})}))}getListWithRetry(e){return(0,m.mG)(this,void 0,void 0,(function*(){return(yield this.sessionAPI.get("securities",{query:e,livemode:this.livemode},{delay:200,retries:5,cancelSimilar:!0,rejectsOnInvalid:!0})).securities}))}}class ub{constructor(e,t){this.checkoutConfiguration=e,this.feeCalculator=t,this.isCovered=this.isFeeCoveredByDefault}get includeFees(){return this.checkoutConfiguration.campaign.config.includeFees}calculateSmartFeeCovering(e){this.isCovered=this.shouldCoverFee(e)}getFee(e,t){return this.feeCalculator.getFeeForWidget({amount:e,currency:t})}getTotal(e,t){return this.isCovered?e+this.getFee(e,t):e}getProcessingFee(e,t){return this.isCovered?this.getFee(e,t):0}get isFeeCoveredByDefault(){var e;return Be()(e=[St.__.DEFAULT_YES,St.__.ONLY_YES]).call(e,this.includeFees)}shouldCoverFee(e){var t;const i=e.amountInUSD||0;if(e.frequency===St.EK.ONCE&&i>=1e5)return!1;const n=this.checkoutConfiguration.infrastructureParams,a=this.checkoutConfiguration.user,r=null==n?void 0:n.OS,s="Mac OS"===r,o="iOS"===r,c=(null===(t=null==a?void 0:a.address)||void 0===t?void 0:t.countryCode)===St.C9.UNITED_STATES;return!(c&&i>=25e3&&i<1e5&&!o&&!s||!c&&i>=1e4&&i<1e5&&!o&&!s)}}var db=i(96e3),hb=i.n(db);class mb{constructor(e,t){this.whole=e,this.currency=t,this.fractional=this.whole/Math.pow(10,this.currency.digits)}plus(e){if(e.currency.equalTo(this.currency))return new mb(this.whole+e.whole,this.currency);throw new Error(`Currency mismatch: added ${e.currency} is not equal to ${this.currency}`)}isZero(){return 0===this.whole}[hb()](e){return"string"===e?this.whole.toString():this.whole}toString(){return this.whole.toString()}valueOf(){return this.whole}}class pb extends mb{}class gb{constructor(e,t,i){this.percentFee=e,this.fixedFee=t,this.converter=i}getFeeValue(e){const t=this.converter.convertFeeCurrency(Number(this.fixedFee),this.fixedFee.currency.code,e.currency.code),i=new pb(t,e.currency);return Number(e)*Number(this.percentFee)+Number(i)}}class fb{constructor(e,t){this.digits=t,this.code=e.toUpperCase()}equalTo(e){return String(this)===String(e).toUpperCase()}[hb()](){return this.code}toString(){return this.code}}class yb extends pb{constructor(e){super(Math.min(e.whole*yb.ACSS_FEE_PERCENT,yb.ACSS_MAX_FEE_VALUE),new fb("CAD",2))}}yb.ACSS_MAX_FEE_VALUE=500,yb.ACSS_FEE_PERCENT=.008;class vb{constructor(e){this.whole=e,this.percent=e/100,this.fractional=e/1e4}plus(e){if(this.percent+e.percent>100)throw new Error("PercentFee value can not be grater than 100");return new vb(this.whole+e.whole)}[hb()](e){return"string"===e?this.fractional.toString():this.fractional}toString(){return this.fractional.toString()}valueOf(){return this.fractional}}class Sb extends vb{constructor(e){let t=Sb.PERCENT;e&&(t=Sb.PERCENT*Sb.COEFF+e.whole*(1-Sb.COEFF)),super(t)}}Sb.PERCENT=350,Sb.COEFF=.1;class Cb extends pb{constructor(e){super(Math.min(e.whole*Cb.FEE_PERCENT,Cb.MAX_FEE_VALUE),new fb("USD",2))}}Cb.MAX_FEE_VALUE=500,Cb.FEE_PERCENT=.008;class bb{constructor(e,t,i,n,a,r){this.stripeFee=e,this.applicationFee=t,this.fixedFee=i,this.paymentMethod=n,this.cardBrand=a,this.converter=r}get isNonProfitFee(){return this.stripeFee.whole===J.El.NON_PROFIT}getPaymentMethodFee(e){switch(this.paymentMethod){case St.GZ.US_BANK_ACCOUNT:return new Cb(e);case St.GZ.ACSS:return new yb(e)}}get isAmex(){return this.cardBrand===J.rL.AMERICAN_EXPRESS}getFeeValue(e){const t=this.getPaymentMethodFee(e);if(t)return Number(e)*Number(this.applicationFee)+Number(t);if(this.isNonProfitFee&&this.isAmex){const t=this.applicationFee.plus(new Sb);return Number(t)*Number(e)}const i=this.converter.convertFeeCurrency(Number(this.fixedFee),this.fixedFee.currency.code,e.currency.code),n=new pb(i,e.currency),a=this.applicationFee.plus(this.stripeFee);return Number(e)*Number(a)+Number(n)}}class Ab{constructor(e,t,i,n,a){this.stripeFee=e,this.applicationFee=t,this.fixedFee=i,this.companyParams=n,this.converter=a}get isUsCountry(){return"US"===this.companyParams.country}isCompanyCurrency(e){return e.currency.equalTo(this.companyParams.defaultCurrency)}isFixedFeeInDonationCurrency(e){return e.currency.equalTo(this.fixedFee.currency)}getFeeValue(e){let t=1;this.isCompanyCurrency(e)||(this.stripeFee=this.stripeFee.plus(new vb(100))),this.isFixedFeeInDonationCurrency(e)||(t=Ab.FEE_CURRENCY_RATE_MULTIPLIER);const i=this.isUsCountry?new Sb(this.stripeFee):this.stripeFee,n=this.applicationFee.plus(i),a=this.converter.convertFeeCurrency(Number(this.fixedFee),this.fixedFee.currency.code,e.currency.code,t),r=new pb(a,e.currency),s=Number(e),o=(s+Number(r))/(1-Number(n))/s-1;return Math.round(s*Math.round(1e4*o)/1e4)}}Ab.FEE_CURRENCY_RATE_MULTIPLIER=1.03;class Eb{constructor(e,t,i){this.feeCalculator=i,e.validate(t),this.valueObjectsFactory=this.feeCalculator.valueObjectsFactory,this.converter=this.feeCalculator.converter,this.companyParams=t.companyParams,this.customFixedFee=this.valueObjectsFactory.makeFixedFee(t.customFixedFee,t.companyParams.defaultCurrency),this.customFeePercent=this.valueObjectsFactory.makePercentFee(t.customFeePercent),this.applicationFeePercent=this.valueObjectsFactory.makePercentFee(t.applicationFeePercent),this.stripeFeePercent=this.valueObjectsFactory.makePercentFee(t.stripeFee.percent),this.fixedFee=this.valueObjectsFactory.makeFixedFee(t.stripeFee.fixed,t.stripeFee.currency)}getFeeForDashboard(e,t){let i;return i=this.companyParams.useCustomFee?new gb(this.customFeePercent,this.customFixedFee,this.converter):t.fromVirtualTerminal?new bb(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,t.paymentMethod,t.cardBrand,this.converter):new Ab(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,this.companyParams,this.converter),this.feeCalculator.calculate(e,i)}getFeeForWidget(e){let t;return t=this.companyParams.useCustomFee?new gb(this.customFeePercent,this.customFixedFee,this.converter):new Ab(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,this.companyParams,this.converter),this.feeCalculator.calculate(e,t)}getFeeForVirtualTerminal(e,t){let i;return i=this.companyParams.useCustomFee?new gb(this.customFeePercent,this.customFixedFee,this.converter):new bb(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,t.paymentMethod,t.cardBrand,this.converter),this.feeCalculator.calculate(e,i)}}class xb{constructor(e){this.converter=e}makeFixedFee(e,t){return new pb(e,this.makeCurrency(t))}makeAmount(e,t){return new mb(e,this.makeCurrency(t))}makePercentFee(e){return new vb(e)}makeCurrency(e){return new fb(e,this.converter.getDigits(e))}}class kb{constructor(e){this.converter=e,this.valueObjectsFactory=new xb(e)}calculate(e,t){const i=this.valueObjectsFactory.makeAmount(e.amount,e.currency);return i.isZero()?0:this.roundFee(t.getFeeValue(i))}roundFee(e){return e<500&&(e=10*Math.ceil(e/10)),e>500&&(e=100*Math.ceil(e/100)),e}}class wb{constructor(){this.schema=new fa({applicationFeePercent:{type:Number,required:!0},customFeePercent:{type:Number,required:!0},customFixedFee:{type:Number,required:!0},stripeFee:{percent:{type:Number,required:!0},fixed:{type:Number,required:!0},currency:{type:String,required:!0}},companyParams:{defaultCurrency:{type:String,required:!0},country:{type:String,required:!0},useCustomFee:{type:Boolean,required:!0}}})}validate(e){const t=this.schema.validate(e,{typecast:!1});if(t.length){const i=T()(t).call(t,(t=>{const i=Kn()(e,t.path);return`${t.path}: ${i} ${t.message}`})).join("\n");throw new Error(i)}}}class Nb{constructor(){this.MIN_LENGTH=2,this.MAX_LENGTH=vl.NAME_MAX_LENGTH}}class Pb extends Nb{constructor(){super(...arguments),this.MIN_LENGTH=vl.NAME_MIN_LENGTH}}Pb.LOCALES=[Ge.c0.ZH_TW,Ge.c0.ZH_CN,Ge.c0.JA,Ge.c0.KO];class Db{static resolveSetting(e,t){if(1===e)return function(e){var t;return Be()(t=Pb.LOCALES).call(t,e.localeCode)?new Pb:new Nb}(t);throw new Error(`Unknown setting ${e}`)}constructor(e){this.personalInformation=Db.resolveSetting(1,e)}}var Tb=i(99828);class _b{constructor(e){let{enabledAI:t,frequenciesHints:i,distribution:n,currencyService:a,defaultCurrency:r}=e;this._hints={},this._defaultHints={},this._variantName=ES.NONE,this._enabledAI=t,this._distribution=n,this._defaultCurrency=r,this.currencyService=a,this.initHints(i)}get hints(){return this._hints}get defaultHints(){return this._defaultHints}get hintsAmounts(){const e={[St.EK.ONCE]:[],[St.EK.DAILY]:[],[St.EK.WEEKLY]:[],[St.EK.BIWEEKLY]:[],[St.EK.EVERY_4_WEEKS]:[],[St.EK.MONTHLY]:[],[St.EK.BIMONTHLY]:[],[St.EK.QUARTERLY]:[],[St.EK.SEMIANNUAL]:[],[St.EK.ANNUAL]:[]};for(const t in this._hints){const i=this._hints[t];e[t]=i?T()(i).call(i,(e=>{let{amount:t}=e;return t})):[]}return e}get hintFrequencies(){return ze()(this._hints)}get variantName(){return this._variantName}getHintsByFrequency(e){return this._hints[e]||null}getDefaultHintsByFrequency(e){return this._defaultHints[e]||null}updateHintsByAmounts(e){for(const i in e){var t;const n=this._hints[i],a=e[i];if(!(n&&n.length&&R()(a)))continue;const r=Y()(t=[...a]).call(t,((e,t)=>e-t)),s=[];g()(r).call(r,((e,t)=>{s.push(x()(x()({},n[t]),{amount:e}))})),this._hints[i]=s}}updateHintsByDefault(e,t){const i=this._hints[e],n=[];if(!i)throw new Error(`Hints for frequency ${e} not found`);g()(i).call(i,(e=>{e.id===(null==t?void 0:t.id)?n.push(x()(x()({},e),{default:!0})):n.push(x()(x()({},e),{default:!1}))})),this._hints[e]=n}initHints(e){if(this._distribution.initCurrentVariantName(),this._distribution.currentVariantName===ES.RANDOM)return g()(e).call(e,(e=>{let{frequency:t,hints:i}=e;const n=this.getFormattedHints({hints:i,frequency:t}),a=this.getRandomVariantHints(n);this._hints[t]=a,this._defaultHints[t]=a})),void(this._variantName=ES.RANDOM);throw new Error("No variant found")}getFormattedHints(e){let{hints:t,frequency:i}=e;const n=t[t.length-1].amount;return T()(t).call(t,(e=>{const t=e.amount||function(e){let{index:t,frequency:i,enabledAI:n,lastAmount:a}=e;const r=i===St.EK.ONCE,s=n?r?kt:xt:r?Et:At,o=s.length;return o>=t+1?s[t]:a?(c=a+wt)%wt==0?c:Math.ceil(c/wt)*wt:s[o-1]+(t+1-o)*wt;var c}({index:e.index,frequency:i,enabledAI:this._enabledAI,lastAmount:n}),a="USD"===this._defaultCurrency?t:this.currencyService.convert(t,"USD",this._defaultCurrency);return x()(x()({},e),{amount:t,amountUsd:a,description:e.description})}))}getRandomVariantHints(e){return this._enabledAI?this.getEnabledAIHints(e):this.getDisabledAIHints(e)}getEnabledAIHints(e){if(e.length<6)throw new Error("Hints count is less than 6");const t=this.getRandomHints(e,3);return Y()(t).call(t,((e,t)=>e.index-t.index))}getDisabledAIHints(e){const t=B()(e).call(e,(e=>{let{active:t}=e;return t}));if(t.length<3)throw new Error("Active hints count is less than 3");return Y()(t).call(t,((e,t)=>e.index-t.index))}getRandomHints(e,t){const i=[],n=new(q());for(;i.length<t&&n.size<e.length;){let t;do{t=Math.floor(Math.random()*e.length)}while(n.has(t));n.add(t),i.push(e[t])}return this.getHintsWithRandomDefault(i)}getHintsWithRandomDefault(e){const t=T()(e).call(e,(e=>x()(x()({},e),{default:!1})));return t[Math.floor(Math.random()*t.length)].default=!0,t}}const Ob=[{name:ES.RANDOM,percent:100}];class Ib{static isDonorNameDataPoint(e,t){return"DonorName"===t}static isFiatDonationDataPoint(e,t){return"FiatDonation"===t}static isCryptoDonationDataPoint(e,t){return"CryptoDonation"===t}static isStockDonationDataPoint(e,t){return"StockDonation"===t}static isCoOwnerDataPoint(e,t){return"CoOwner"===t}static isPreDonationUpsellDataPoint(e,t){return"PreDonationUpsell"===t}static isPostDonationUpsellDataPoint(e,t){return"PostDonationUpsell"===t}static isPaymentOptionsDataPoint(e,t){return"PaymentOptions"===t}static isDTDDataPoint(e,t){return"DTD"===t}static isPaypalConversionDataPoint(e,t){return"PaypalConversion"===t}static isBrokerDataPoint(e,t){return"Broker"===t}static isSecuritiesDataPoint(e,t){return"Securities"===t}static isMailingAddressDataPoint(e,t){return"MailingAddress"===t}static isCustomerTitleDataPoint(e,t){return"CustomerTitle"===t}constructor(e,t,i,n,a,r,s,o,c,l,u,d){this.checkoutConfiguration=e,this.currencyService=t,this.addressService=i,this.suggestionsService=n,this.intl=a,this.userSession=r,this.sessionAPI=s,this.experiments=o,this.tracker=c,this.sentry=l,this.paymentMethodAvailabilityManagerRepository=u,this.params=d}create(e){const t=this.getDataPoint(e);return Ib.isFiatDonationDataPoint(t,e)||Ib.isCryptoDonationDataPoint(t,e)||Ib.isStockDonationDataPoint(t,e)?function(e,t,i,n,a,r,s,o){switch(o.flowType){case Dt.MONEY:return new DC(e,t,i,r,n,a,s);case Dt.CRYPTO:return new xC(e,t,i);case Dt.STOCK:return new TC(e,t);default:throw new X(o.flowType)}}(this.checkoutConfiguration,this.currencyService,this.suggestionsService,this.userSession,this.transactionCosts,this.experiments,this.suggestedAmountHintsAI,{flowType:this.params.flowType}):Ib.isPreDonationUpsellDataPoint(t,e)?new t(this.checkoutConfiguration,this.preDonationUpsellService):Ib.isPostDonationUpsellDataPoint(t,e)?new t(this.checkoutConfiguration,this.postDonationUpsellServiceConstructor):Ib.isPaymentOptionsDataPoint(t,e)?new t(this.checkoutConfiguration,this.paymentMethodAvailabilityManagerRepository):Ib.isDTDDataPoint(t,e)?new t(this.checkoutConfiguration,this.currencyService,this.doubleTheDonationAPI,this.transactionCosts):Ib.isPaypalConversionDataPoint(t,e)?new t(this.checkoutConfiguration,this.currencyService,this.transactionCosts):Ib.isBrokerDataPoint(t,e)?new t(this.checkoutConfiguration,new CC(this.sessionAPI)):Ib.isSecuritiesDataPoint(t,e)?new t(this.checkoutConfiguration,new lb(this.sessionAPI,this.currencyService,this.checkoutConfiguration.infrastructureParams.livemode,{currency:this.checkoutConfiguration.company.defaultCurrency}),this.currencyService):Ib.isDonorNameDataPoint(t,e)||Ib.isCoOwnerDataPoint(t,e)?new t(this.checkoutConfiguration,this.validationSettings.personalInformation):Ib.isMailingAddressDataPoint(t,e)?new t(this.checkoutConfiguration,this.addressService,this.addressValidationAPI,this.countriesService):(Ib.isCustomerTitleDataPoint(t,e),new t(this.checkoutConfiguration))}get transactionCosts(){return this._transactionCosts||(this._transactionCosts=this.createTransactionCosts()),this._transactionCosts}get countriesService(){return this._countriesService||(this._countriesService=this.createCountriesService()),this._countriesService}get preDonationUpsellService(){return this.createPreDonationUpsellService()}get doubleTheDonationAPI(){return this.createDoubleTheDonationAPI()}get postDonationUpsellServiceConstructor(){return this.createPostDonationUpsellServiceConstructor()}get validationSettings(){return this.createValidationSettings()}get addressValidationAPI(){return this.createAddressValidationAPI()}get suggestedAmountHintsAI(){var e;return null!==(e=this.createExternalConfigSuggestedAmountHintsAI())&&void 0!==e?e:this.createSuggestedAmountHintsAI()}get distribution(){return this.createDistribution()}getDataPoint(e){return ob[e]}createTransactionCosts(){return function(e){let{checkoutConfiguration:t,currencyService:i}=e;const n=(a=t.company,r=i,new Eb(new wb,{customFixedFee:a.coverFees.amount,customFeePercent:a.coverFees.percent,applicationFeePercent:a.applicationFees.money,stripeFee:a.stripeFee,companyParams:{country:a.country||"US",defaultCurrency:a.defaultCurrency,useCustomFee:a.coverFees.custom}},new kb(r)));var a,r;return new ub(t,n)}({checkoutConfiguration:this.checkoutConfiguration,currencyService:this.currencyService})}createCountriesService(){return(0,Tb.p)({intl:this.intl,excludePalestineFromCountriesList:this.checkoutConfiguration.featureConfig.excludePalestineFromCountriesList})}createDoubleTheDonationAPI(){return new cb(this.sessionAPI)}createAddressValidationAPI(){return new SC(this.sessionAPI)}createValidationSettings(){return new Db({localeCode:this.intl.locale})}createPreDonationUpsellService(){return new vC(this.currencyService,this.suggestionsService,this.experiments,{isDevelopmentMode:gn(),recurringPlans:this.checkoutConfiguration.company.recurringPlans})}createExternalConfigSuggestedAmountHintsAI(){var e,t;const i=this.checkoutConfiguration.campaign.config,n=null===(e=this.checkoutConfiguration.externalConfig.checkoutData)||void 0===e?void 0:e.hints,a=[];if(!n)return null;for(const e of this.checkoutConfiguration.enabledFrequencies)if(i.frequencies[e].hintsEnabled){var r;const s=null!==(t=n[e])&&void 0!==t?t:[],o=B()(r=i.frequencies[e].suggestedAmountHints).call(r,(e=>Be()(s).call(s,e.id)));if((null==s?void 0:s.length)!==o.length)return null;a.push({frequency:e,hints:o})}return a.length?new _b({enabledAI:!1,frequenciesHints:a,distribution:this.distribution,currencyService:this.currencyService,defaultCurrency:this.checkoutConfiguration.campaign.config.defaultCurrency}):null}createSuggestedAmountHintsAI(){var e;const t=this.checkoutConfiguration.campaign.config,i=[];return g()(e=this.checkoutConfiguration.enabledFrequencies).call(e,(e=>{t.frequencies[e].hintsEnabled&&i.push({frequency:e,hints:[...t.frequencies[e].suggestedAmountHints]})})),i.length?new _b({enabledAI:t.enableAI,frequenciesHints:i,distribution:this.distribution,currencyService:this.currencyService,defaultCurrency:this.checkoutConfiguration.campaign.config.defaultCurrency}):null}createDistribution(){return new Tr({clientId:this.tracker.clientId,name:"suggestedAmountHintsAI",variants:Ob,sentry:this.sentry})}createPostDonationUpsellServiceConstructor(){const e=pC.getConstructor(this.checkoutConfiguration.infrastructureParams.showcase);return t=>e({amount:t.amount,minAmount:t.minAmount,currency:t.currency,timestamp:t.timestamp,suggestionsService:this.suggestionsService,currencyService:this.currencyService})}}class Rb{constructor(e){this.dataPointFactory=e,this.dataPoints=new(wi())}get list(){var e;return[...be()(e=this.dataPoints).call(e)]}getDataPoint(e){let t=this.dataPoints.get(e);return void 0===t&&(t=this.registerDataPoint(e)),t}registerDataPoint(e){if(this.dataPoints.has(e))throw new Lb(e);const t=this.dataPointFactory.create(e);return this.dataPoints.set(e,t),t}}class Lb extends Error{constructor(e){super(`DataPoint "${e}" is already exists`)}}class jb extends Error{constructor(e){super(`${e} payment flow is not initialized`)}}class Mb{constructor(e,t,i,n,a,r,s,o,c,l,u,d,h){this.checkoutConfiguration=e,this.checkoutState=t,this.paymentFlowManager=i,this.dataPointRegistry=n,this.sessionAPI=a,this.sessionService=r,this.currencyService=s,this.intl=o,this.paymentMethods=c,this.iframeWindow=l,this.stripeLoadingPromise=u,this.applePayStripeLoadingPromise=d,this.params=h,this._stripeElementsPromise=null,this.googlePayChecked=!1,this.applePayChecked=!1,this.paypalChecked=!1,this.initializePaymentMethodsPromise=null}initiateCreditCard(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.resolvePaymentFlow(St.GZ.CARD);return yield t.initiateFlow(e),{stripeElements:yield this.stripeElementsPromise}}))}startCreditCardFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(St.GZ.CARD),t=yield e.startFlow();return xi.isSuccess(t)}))}initiatePaypal(e){return(0,m.mG)(this,void 0,void 0,(function*(){yield this.checkPaypal();const t=yield this.resolvePaymentFlow(St.GZ.PAYPAL);return yield this.sessionService.updateSession(),t.initiateFlow(e)}))}preloadPayPalScript(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(St.GZ.PAYPAL);yield e.preloadPayPalScript()}))}closePaypalButton(){if(this.checkoutConfiguration.infrastructureParams.showcase)return;const e=this.paymentFlowManager.getPaymentFlow(St.GZ.PAYPAL);if(!e)throw new jb(St.GZ.PAYPAL);e.closePaypal()}togglePaypalActions(e){const t=this.paymentFlowManager.getPaymentFlow(St.GZ.PAYPAL);t&&t.togglePaypalActions(e)}initiateGooglePay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(St.GZ.GOOGLE_PAY);yield e.initiateFlow(),yield this.checkGooglePay()}))}startGooglePay(){return(0,m.mG)(this,void 0,void 0,(function*(){return(yield this.resolvePaymentFlow(St.GZ.GOOGLE_PAY)).startFlow()}))}initiateApplePay(){return(0,m.mG)(this,void 0,void 0,(function*(){yield this.checkApplePay()}))}startApplePay(){return(0,m.mG)(this,void 0,void 0,(function*(){return(yield this.resolvePaymentFlow(St.GZ.APPLE_PAY)).startFlow()}))}initiateUSBankAccount(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.resolvePaymentFlow(St.GZ.US_BANK_ACCOUNT);yield t.initiateFlow(e)}))}startUSBankAccount(){return(0,m.mG)(this,void 0,void 0,(function*(){return yield this.sessionService.updateSession(),(yield this.resolvePaymentFlow(St.GZ.US_BANK_ACCOUNT)).startFlow()}))}initiateACSS(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.resolvePaymentFlow(St.GZ.ACSS);yield t.initiateFlow(e)}))}startACSS(){return(0,m.mG)(this,void 0,void 0,(function*(){return yield this.sessionService.updateSession(),(yield this.resolvePaymentFlow(St.GZ.ACSS)).startFlow()}))}initiateSepa(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.resolvePaymentFlow(St.GZ.SEPA);return yield t.initiateFlow(e),{stripeElements:yield this.stripeElementsPromise}}))}startSepaFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(St.GZ.SEPA),t=yield e.startFlow();return xi.isSuccess(t)}))}initiateVenmo(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.resolvePaymentFlow(St.GZ.VENMO);yield t.initiateFlow(e),yield this.checkVenmo()}))}closeVenmoButton(){const e=this.paymentFlowManager.getPaymentFlow(St.GZ.VENMO);if(!e)throw new jb(St.GZ.VENMO);e.closeButton()}initiateIDEAL(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(St.GZ.IDEAL);yield e.initiateFlow()}))}openIDEALConfirmationWindow(e){const t=this.paymentFlowManager.getPaymentFlow(St.GZ.IDEAL);if(!t)throw new jb(St.GZ.IDEAL);return t.openConfirmationWindow(e)}isIDEALPaid(){const e=this.paymentFlowManager.getPaymentFlow(St.GZ.IDEAL);if(!e)throw new jb(St.GZ.IDEAL);return e.isPaid()}focusIDEALConfirmationWindow(){const e=this.paymentFlowManager.getPaymentFlow(St.GZ.IDEAL);if(!e)throw new jb(St.GZ.IDEAL);e.focusConfirmationWindow()}initiateClickToPay(e){return(0,m.mG)(this,void 0,void 0,(function*(){return(yield this.resolvePaymentFlow(St.GZ.CLICK_TO_PAY)).initiateFlow(e)}))}startClickToPay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(St.GZ.CLICK_TO_PAY);yield e.startFlow()}))}destroyClickToPay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(St.GZ.CLICK_TO_PAY);yield e.destroy()}))}initiateAuBECS(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.resolvePaymentFlow(St.GZ.AU_BECS);return yield t.initiateFlow(e),{stripeElements:yield this.stripeElementsPromise}}))}startAuBECSFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.resolvePaymentFlow(St.GZ.AU_BECS),t=yield e.startFlow();return xi.isSuccess(t)}))}ensurePaymentMethodsInitialized(){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.initializePaymentMethodsPromise)return this.initializePaymentMethodsPromise;this.initializePaymentMethodsPromise=this.initiatePaymentMethods(this.getDataPoint("PaymentOptions"),this.getDataPoint("FiatDonation")),yield this.initializePaymentMethodsPromise,this.initializePaymentMethodsPromise=null}))}resolvePaymentFlow(e){var t,i,n;return(0,m.mG)(this,void 0,void 0,(function*(){if(!e)throw new Error("Client payment method is not specified");const a=this.checkoutConfiguration.company,r=this.checkoutConfiguration.user,s=this.getDataPoint("PaymentOptions"),o=this.getDataPoint("DonorName"),c=this.getDataPoint("DonorEmail"),l=this.getDataPoint("FiatDonation"),u=this.getDataPoint("MailingAddress"),d=this.getDataPoint("UKBacs"),h=this.getDataPoint("IDEAL"),m=this.getDataPoint("PhoneNumber"),p=this.getDataPoint("USBankAccount");switch(e){case St.GZ.CARD:return this.paymentFlowManager.resolveCard({sessionAPI:this.sessionAPI,stripe:yield this.stripeLoadingPromise(),stripeElements:yield this.stripeElementsPromise,failureHandler:()=>{this.setPaymentError(St.GZ.CARD,!0)}});case St.GZ.CLICK_TO_PAY:return this.paymentFlowManager.resolveClickToPay({env:this.checkoutConfiguration.infrastructureParams.env,currencyService:this.currencyService,stripe:yield this.stripeLoadingPromise(),livemode:this.livemode,locale:null===(t=this.intl)||void 0===t?void 0:t.locale,clickToPayCheckoutId:a.clickToPayCheckoutId,sessionAPI:this.sessionAPI,donationDataPoint:l});case St.GZ.PAYPAL:return this.paymentFlowManager.resolvePaypal({sessionAPI:this.sessionAPI,locale:null===(i=this.intl)||void 0===i?void 0:i.locale,iframeWindow:this.iframeWindow,paypalClientId:this.paymentMethods.paypalClientId,paypalMerchantId:a.paypal.merchantId,paypalCurrencies:[...a.paypalCurrencies],subscriptionsEnabled:a.paypal.subscriptionsEnabled,paymentOptionsDataPoint:s,donorNameDataPoint:o,donorEmailDataPoint:c,phoneNumberDataPoint:m,mailingAddressDataPoint:u,donationDataPoint:l,updateSession:()=>this.sessionService.updateSession(),paymentFailureHandler:()=>{this.setPaymentError(St.GZ.PAYPAL,!0)}});case St.GZ.GOOGLE_PAY:return this.paymentFlowManager.resolveGooglePay({sessionAPI:this.sessionAPI,livemode:this.livemode,stripePublicKey:this.paymentMethods.stripePublicKey,countryCode:r.address.countryCode,googlePayInfo:this.paymentMethods.googlePayInfo,stripeAccount:a.stripeAccount,companyName:a.name,env:this.checkoutConfiguration.infrastructureParams.env,stripe:yield this.stripeLoadingPromise(),currencyService:this.currencyService,donationDataPoint:l,paymentOptionsDataPoint:s,donorNameDataPoint:o,donorEmailDataPoint:c});case St.GZ.APPLE_PAY:return this.paymentFlowManager.resolveApplePay({sessionAPI:this.sessionAPI,companyName:a.name,applePayStripeLoadingPromise:this.applePayStripeLoadingPromise,donationDataPoint:l,paymentOptionsDataPoint:s,donorNameDataPoint:o,donorEmailDataPoint:c});case St.GZ.UK_BACS:return this.paymentFlowManager.resolveUkBacs({sessionAPI:this.sessionAPI,stripe:yield this.stripeLoadingPromise(),donorEmailDataPoint:c,mailingAddressDataPoint:u,ukBacsDataPoint:d,mailingAddressFailureHandler:()=>{this.setMailingAddressError(!0)},ukBacsFailureHandler:()=>{this.setPaymentError(St.GZ.UK_BACS,!0)},makeMailingAddressMetaSnapshot:e=>{this.checkoutState.makeMailingAddressMetaSnapshot(e)}});case St.GZ.ACSS:return this.paymentFlowManager.resolveACSS({sessionAPI:this.sessionAPI,stripe:yield this.stripeLoadingPromise(),paymentOptionsDataPoint:s});case St.GZ.AU_BECS:return this.paymentFlowManager.resolveAuBECS({sessionAPI:this.sessionAPI,stripe:yield this.stripeLoadingPromise(),stripeElements:yield this.stripeElementsPromise,donorNameDataPoint:o,donorEmailDataPoint:c});case St.GZ.SEPA:return this.paymentFlowManager.resolveSepa({sessionAPI:this.sessionAPI,stripe:yield this.stripeLoadingPromise(),stripeElements:yield this.stripeElementsPromise,donorNameDataPoint:o,donorEmailDataPoint:c,mailingAddressDataPoint:u,paymentOptionsDataPoint:s,checkoutConfiguration:this.checkoutConfiguration,mailingAddressFailureHandler:()=>{this.setMailingAddressError(!0)},makeMailingAddressMetaSnapshot:e=>{this.checkoutState.makeMailingAddressMetaSnapshot(e)}});case St.GZ.IDEAL:return this.paymentFlowManager.resolveIDEAL({sessionAPI:this.sessionAPI,stripe:yield this.stripeLoadingPromise(),env:this.checkoutConfiguration.infrastructureParams.env,stripeElements:yield this.stripeElementsPromise,donorNameDataPoint:o,donorEmailDataPoint:c,donationDataPoint:l,idealDataPoint:h});case St.GZ.VENMO:return this.paymentFlowManager.resolveVenmo({sessionAPI:this.sessionAPI,livemode:this.livemode,showcase:this.checkoutConfiguration.infrastructureParams.showcase,locale:null===(n=this.intl)||void 0===n?void 0:n.locale,iframeWindow:this.iframeWindow,paypalClientId:this.paymentMethods.paypalClientId,paypalMerchantId:a.paypal.merchantId,paymentOptionsDataPoint:s,donorNameDataPoint:o,donorEmailDataPoint:c,phoneNumberDataPoint:m,mailingAddressDataPoint:u,updateSession:()=>this.sessionService.updateSession()});case St.GZ.US_BANK_ACCOUNT:return this.paymentFlowManager.resolveUSBankAccount({stripe:yield this.stripeLoadingPromise(),usBankAccountDataPoint:p,donationDataPoint:l,sessionAPI:this.sessionAPI,checkoutConfiguration:this.checkoutConfiguration,paymentFailureHandler:()=>{this.setPaymentError(St.GZ.US_BANK_ACCOUNT,!0)}});default:throw new Error(`Payment flow for ${e} is not implemented`)}}))}get livemode(){return this.checkoutConfiguration.infrastructureParams.livemode}get stripeElementsPromise(){return this._stripeElementsPromise||(this._stripeElementsPromise=this.getStripeElements()),this._stripeElementsPromise}initiatePaymentMethods(e,t){return(0,m.mG)(this,void 0,void 0,(function*(){e.calculatePaymentOptionsAvailability({currency:t.currency,frequency:t.frequency,total:t.total||0});const i=[];e.allowedPaymentMethods.googlePay.available&&i.push(this.initiateGooglePay()),e.allowedPaymentMethods.applePay.available&&i.push(this.initiateApplePay()),e.allowedPaymentMethods.paypal.available&&i.push(this.preloadPayPalScript()),yield Fe().all(i)}))}getStripeElements(){return(0,m.mG)(this,void 0,void 0,(function*(){return(yield this.stripeLoadingPromise()).elements(this.params.stripe.elementsOptions)}))}checkGooglePay(){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.googlePayChecked)return;const e=yield this.resolvePaymentFlow(St.GZ.GOOGLE_PAY);(yield e.checkAvailability())&&(this.getDataPoint("PaymentOptions").canGooglePay=!0),this.googlePayChecked=!0}))}checkApplePay(){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.applePayChecked)return;const e=yield this.resolvePaymentFlow(St.GZ.APPLE_PAY);(yield e.checkAvailability())&&(this.getDataPoint("PaymentOptions").canApplePay=!0),this.applePayChecked=!0}))}checkVenmo(){return(0,m.mG)(this,void 0,void 0,(function*(){(yield this.resolvePaymentFlow(St.GZ.VENMO)).checkAvailability()&&(this.getDataPoint("PaymentOptions").canVenmo=!0)}))}checkPaypal(){return(0,m.mG)(this,void 0,void 0,(function*(){(yield this.resolvePaymentFlow(St.GZ.PAYPAL)).checkAvailability()&&(this.getDataPoint("PaymentOptions").canPaypal=!0)}))}setPaymentError(e,t){return this.checkoutState.setPaymentError(e,t)}setMailingAddressError(e){this.checkoutState.hasMailingAddressError=e}getDataPoint(e){return this.dataPointRegistry.getDataPoint(e)}}class Fb{constructor(e){this.sessionAPI=e}update(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.sessionAPI.post("postDonationUpsell",{postDonationUpsell:e},{rejectsOnInvalid:!0});return!!xi.isSuccess(t)}))}}class Ub{constructor(e,t,i,n,a,r,s,o){this.globalWindow=e,this.checkoutConfiguration=t,this.currencyService=i,this.donationDataPoint=n,this.postDonationUpsellDataPoint=a,this.donorNameDataPoint=r,this.donorEmailDataPoint=s,this.designationDataPoint=o}getUrl(e){var t,i,n;if(this.isShowcase)return null;const a=this.resolveTargetConfig(),r=a.type===St.Tl.REDIRECT,s=this.checkoutConfiguration.queryParams.successUrl||(r?a.redirect.url:null);if(!s)return null;const o={amount:this.currencyService.toFloatUnformattedStr(this.donationDataPoint.total,this.donationDataPoint.currency),monthly:this.postDonationUpsellDataPoint.isAccepted||this.donationDataPoint.frequency===St.EK.MONTHLY,donationId:null!==(i=null===(t=e.donationResultState)||void 0===t?void 0:t.donationId)&&void 0!==i?i:"",currency:this.donationDataPoint.currency,frequency:this.donationDataPoint.frequency};if(r&&!a.redirect.includeSupporterData||(o.supporterFirstName=this.donorNameDataPoint.firstName,o.supporterLastName=this.donorNameDataPoint.lastName,o.supporterEmail=this.donorEmailDataPoint.email),this.designationDataPoint.goalKey){var c;const e=vt()(c=this.designationDataPoint.goals).call(c,(e=>e.key===this.designationDataPoint.goalKey));o.designationId=null==e?void 0:e.key,o.designationName=null==e?void 0:e.name}(null===(n=e.donationResultState)||void 0===n?void 0:n.tributeId)&&(o.tributeId=e.donationResultState.tributeId);try{const e=this.createURL(s);for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)){const i=o[t];e.searchParams.append(t,String(i))}return e.toString()}catch(e){return console.error("Invalid redirect URL"),null}}canRedirect(e){return!!this.getUrl(e)}tryRedirect(e){const t=this.getUrl(e.getState());return t?new(Fe())((()=>{this.redirect(t,e)})):Fe().resolve()}redirect(e,t){t.disarmCloseGuard(),this.globalWindow.location.replace(e)}get isShowcase(){return this.checkoutConfiguration.infrastructureParams.showcase}createURL(e){return"/"===e[0]&&(e=this.globalWindow.location.origin+e),/^https?:\/\//m.test(e)||(e="https://"+e),new(Ai())(e)}resolveTargetConfig(){return this.checkoutConfiguration.checkoutType===w.PAGE&&this.checkoutConfiguration.campaignPage.thankYouScreen?this.checkoutConfiguration.campaignPage.thankYouScreen:this.checkoutConfiguration.campaign.config.thankYouScreen}}class Bb extends Error{constructor(e){super(`Component "${e} doesnt defined, unable to preload`)}}class Gb{constructor(e){this.componentsMap=e,this.componentImports=new(q())}add(e){return this.assertComponentDefined(e),this.componentImports.add(this.componentsMap[e]),this}load(){for(const e of this.componentImports)e()}assertComponentDefined(e){if(!this.componentsMap[e])throw new Bb(e)}}class qb extends class{constructor(e,t){this.loadableComponents=e,this.campaignConfig=t}preload(){return this.configureLoadableComponents(),this.loadableComponents.load()}}{configureLoadableComponents(){this.campaignConfig.showPhone&&this.loadableComponents.add("PrivacyPhoneInput")}}const Kb={PrivacyPhoneInput:()=>Promise.all([i.e(5529),i.e(6399)]).then(i.bind(i,42978))};class Vb extends class{constructor(e,t,i){this.componentsPreloader=e,this.checkoutState=t,this._showCloseButton=!0,this._askPageActiveTab="cause",this._pagesOfQuestionsScreen=0,this._cookiePreferencesModalShown=!1,this._cookiePreferencesModalInitiatorElement=null,this._isDonationFormVisibleTrackEventBlocked=!1,this.firstScreen=i.screens.firstScreen,this.unrestrictedExitScreens=i.screens.unrestrictedExitScreens,this.mobileExitScreens=i.screens.mobileExitScreens,this.alwaysRenderedScreens=i.screens.alwaysRenderedScreens,this.screensWithoutTributeBadge=i.screens.screensWithoutTributeBadge,this.mobileScreensWithoutAskTitle=i.screens.mobileScreensWithoutAskTitle,this.mobileScreensWithAskText=i.screens.mobileScreensWithAskText,this.mobileScreensWithoutFaqLinks=i.screens.mobileScreensWithoutFaqLinks,this.mobileScreensWithoutAskPage=i.screens.mobileScreensWithoutAskPage,this.screensWithoutAskOverlay=i.screens.screensWithoutAskOverlay,this.canNotGoBackScreens=i.screens.canNotGoBackScreens,this.alwaysShowCloseButtonScreens=i.screens.alwaysShowCloseButtonScreens,this.conditionallyShowCloseButtonScreens=i.screens.conditionallyShowCloseButtonScreens,this.remindMeLaterUnavailableScreens=i.screens.remindMeLaterUnavailableScreens}get showCloseButton(){return this._showCloseButton}get showFAQLinks(){return!0}get askPageActiveTab(){return this._askPageActiveTab}get pagesOfQuestionsScreen(){return this._pagesOfQuestionsScreen}get cookiePreferencesModalShown(){return this._cookiePreferencesModalShown}get cookiePreferencesModalInitiatorElement(){return this._cookiePreferencesModalInitiatorElement}get isDonationFormVisibleTrackEventBlocked(){return this._isDonationFormVisibleTrackEventBlocked}set askPageActiveTab(e){this._askPageActiveTab=e}set pagesOfQuestionsScreen(e){this._pagesOfQuestionsScreen=e}set cookiePreferencesModalShown(e){this._cookiePreferencesModalShown=e}set cookiePreferencesModalInitiatorElement(e){this._cookiePreferencesModalInitiatorElement=e}set isDonationFormVisibleTrackEventBlocked(e){this._isDonationFormVisibleTrackEventBlocked=e}preloadComponents(){return this.componentsPreloader.preload()}setCloseButtonVisibility(e,t){var i,n;this._showCloseButton=!Be()(t).call(t,this.firstScreen)&&Be()(i=this.conditionallyShowCloseButtonScreens).call(i,e)||Be()(n=this.alwaysShowCloseButtonScreens).call(n,e),this.checkoutState.syncUpdate()}isUnrestrictedExitScreen(e){var t;return Be()(t=this.unrestrictedExitScreens).call(t,e)}isMobileExitScreen(e){var t;return Be()(t=this.mobileExitScreens).call(t,e)}isScreenWithoutTributeBadge(e){var t;return Be()(t=this.screensWithoutTributeBadge).call(t,e)}isMobileScreenWithoutAskTitle(e){var t;return Be()(t=this.mobileScreensWithoutAskTitle).call(t,e)}isMobileScreenWithAskText(e){var t;return Be()(t=this.mobileScreensWithAskText).call(t,e)}isMobileScreenWithoutFaqLinks(e){var t;return Be()(t=this.mobileScreensWithoutFaqLinks).call(t,e)}isMobileScreenWithoutAskPage(e){var t;return Be()(t=this.mobileScreensWithoutAskPage).call(t,e)}isScreenWithoutAskOverlay(e){var t;return Be()(t=this.screensWithoutAskOverlay).call(t,e)}isCanNotGoBackScreen(e){var t;return Be()(t=this.canNotGoBackScreens).call(t,e)}isRemindMeLaterAvailableScreen(e){var t;return!Be()(t=this.remindMeLaterUnavailableScreens).call(t,e)}}{constructor(){super(...arguments),this.feeCoveringTouched=!1}}const Hb=fn.DONATE,Yb=[...xo,fn.DONATE,fn.POST_DONATION_UPSELL],Zb=[fn.CREDIT_CARD,fn.AU_BECS,fn.SEPA],$b=[...ko,fn.DONATE,Fa.REMIND_ME],zb=[fn.DONATE],Wb=[fn.DONATE],Xb=[fn.DONATE,Fa.THANK_YOU],Qb=[fn.UPSELL,fn.PAYMENT_OPTIONS,Fa.COMMENT],Jb=[...Eo,fn.DONATE],eA=[fn.DONATE],tA=[...Do],iA="facebook",nA="twitter",aA="linkedin",rA="email";function sA(e,t){if(void 0!==t){let i="?";return Be()(e).call(e,"?")&&(i="&"),`${e}${i}ref=${t}`}return e}function oA(e,t,i,n,a){let r="";switch(e){case aA:return r=En.stringify({mini:"true",url:sA(t,a),summary:i}),`https://www.linkedin.com/shareArticle?${r}`;case nA:return r=En.stringify({url:sA(t,a),text:i}),`https://twitter.com/intent/tweet?${r}`;case iA:return r=En.stringify({u:sA(t,a),quote:i}),`https://www.facebook.com/sharer.php?${r}`;case rA:return r=En.stringify({body:Mi([i,t],"\n"),subject:n||""}),`mailto:?${r}`;default:return""}}class cA{constructor(e){this.sharingApiParams=e}get isSharingEnabled(){const{email:e,twitter:t,linkedin:i,facebook:n,copyLink:a}=this.sharingChannels;return e||t||i||n||a}get sharingChannels(){return this.sharingApiParams.sharingChannels}get shareLink(){const e=this.sharingApiParams.sharingLink;return e?/^https?:\/\//m.test(e)?e:"https://"+e:window.location.href}share(e,t,i){if(this.sharingApiParams.showcase)return;const n=this.getSharingLink(e,t,i);window.open(n,"_blank","location=yes,height=400,width=550,scrollbars=yes,status=yes")}getSharingLink(e,t,i){const n=this.shareLink,a=this.sharingApiParams.sharingText||"";switch(e){case bu.TWITTER:return oA(nA,n,a,void 0,i);case bu.LINKEDIN:return oA(aA,n,a,void 0,i);case bu.FACEBOOK:return oA(iA,n,a,void 0,i);case bu.EMAIL:return oA(rA,n,a,t);case bu.LINK:return n;default:throw new Error(`Unknown sharing type ${e}`)}}}const lA={[St.EK.ANNUAL]:"upsellScreen.donateAnnualButton",[St.EK.MONTHLY]:"upsellScreen.donateMonthlyButton",[St.EK.EVERY_4_WEEKS]:"upsellScreen.donate4WeeksButton"},uA={[St.EK.ANNUAL]:"upsellScreen.donateAnnualButton",[St.EK.MONTHLY]:"upsellScreen.donateMonthlyButton",[St.EK.EVERY_4_WEEKS]:"upsellScreen.donate4WeeksButton"},dA={[St.EK.ANNUAL]:"upsellScreen.titleAnnual",[St.EK.MONTHLY]:"upsellScreen.title",[St.EK.EVERY_4_WEEKS]:"upsellScreen.titleEvery4Weeks"},hA={[St.EK.ANNUAL]:"upsellScreen.questionAnnual",[St.EK.MONTHLY]:"upsellScreen.question",[St.EK.EVERY_4_WEEKS]:"upsellScreen.questionEvery4Weeks"},mA={[St.EK.ANNUAL]:"upsellScreen.questionAnnual",[St.EK.MONTHLY]:"upsellScreen.questionShort",[St.EK.EVERY_4_WEEKS]:"upsellScreen.questionShortEvery4Weeks"},pA={[St.EK.ANNUAL]:"upsellScreen.descriptionAnnual",[St.EK.MONTHLY]:"upsellScreen.description",[St.EK.EVERY_4_WEEKS]:"upsellScreen.descriptionEvery4Weeks"};class gA{constructor(e,t,i,n){this.checkoutService=e,this.intl=t,this.preDonationUpsellDataPoint=i,this.tributeDataPoint=n}get currency(){return this.preDonationUpsellDataPoint.currency}get isMonthly(){return this.getTargetFrequency()===St.EK.MONTHLY}getBeforeEnterViewState(){const e=this.getDonationAmount(),t=this.getTargetFrequency(),{lowAmount:i,highAmount:n}=this.getUpsellAmounts(),a=this.getViewTexts({currency:this.currency,targetFrequency:t,highAmount:n,lowAmount:i,donationAmount:e});return{currency:this.currency,targetFrequency:t,lowMonthlyAmount:i,highMonthlyAmount:n,isAnnualTribute:this.isAnnual,highButtonText:a.highButtonText,lowButtonText:a.lowButtonText,screenTitle:a.screenTitle,questionText:a.questionText,questionShortText:a.questionShortText,descriptionText:a.descriptionText,upsell:{fromAmount:e}}}setShowed(){this.isShowcase||(this.preDonationUpsellDataPoint.showed=!0)}selectUpsell(e,t){if(this.preDonationUpsellDataPoint.used=null!==e,this.preDonationUpsellDataPoint.used){const i="high"===e?t.highMonthlyAmount:t.lowMonthlyAmount;this.preDonationUpsellDataPoint.accept(i||0,this.preDonationUpsellDataPoint,this.tributeDataPoint.toObject())}else this.preDonationUpsellDataPoint.isAccepted=!1;this.checkoutService.collectDataPoint([this.preDonationUpsellDataPoint]),this.checkoutService.syncUpdateCheckoutState()}get isShowcase(){return this.checkoutService.checkoutConfiguration.infrastructureParams.showcase}get isAnnual(){return this.getTargetFrequency()===St.EK.ANNUAL}getTargetFrequency(){return this.preDonationUpsellDataPoint.getTargetFrequency(this.tributeDataPoint.toObject(),this.preDonationUpsellDataPoint.donationAmount,this.currency,this.preDonationUpsellDataPoint.donationFrequency)}getUpsellAmounts(){let[e,t]=this.preDonationUpsellDataPoint.getUpsellAmounts(this.tributeDataPoint.toObject(),this.preDonationUpsellDataPoint.donationAmount,this.currency,this.preDonationUpsellDataPoint.donationFrequency);return e||(e=this.isShowcase?wC[0]:null),t||(t=this.isShowcase?wC[1]:null),{lowAmount:e,highAmount:t}}getDonationAmount(){return this.preDonationUpsellDataPoint.donationAmount||(this.isShowcase?1e4:0)}getViewTexts(e){const t={amount:this.intl.formatCurrency(e.highAmount||0,{currency:e.currency,display:"short"})},i={amount:this.intl.formatCurrency(e.lowAmount||0,{currency:e.currency,display:"short"})},n={amount:this.intl.formatCurrency(e.donationAmount||(this.checkoutService.checkoutConfiguration.showcase?5e3:0),{currency:e.currency,display:"floatcents"})};return{highButtonText:this.intl.translate(lA[e.targetFrequency],t),lowButtonText:this.intl.translate(uA[e.targetFrequency],i),screenTitle:this.intl.translate(dA[e.targetFrequency]),questionText:this.intl.translate(hA[e.targetFrequency],n),questionShortText:this.intl.translate(mA[e.targetFrequency],n),descriptionText:this.intl.translate(pA[e.targetFrequency])}}}var fA;!function(e){e.PENDING_STATE_CHANGED="pendingStateChanged",e.SUBMIT="submit",e.SKIP="skip"}(fA||(fA={}));class yA extends lv{constructor(e,t,i){let{name:n}=t;super(),this.flow=e,this.debug=i,this._pending=!1,this.updateListeners=new(q()),this.name=n}get data(){return{}}get pending(){return this._pending}set pending(e){this._pending=e,this.emit(fA.PENDING_STATE_CHANGED,this._pending)}dispose(){this.removeUpdateListeners(),this.removeAllListeners()}onUpdate(e){this.updateListeners.add(e)}removeUpdateListener(e){this.updateListeners.delete(e)}beforeLeave(e){return Fe().resolve(!0)}beforeEnter(){return Fe().resolve()}getScreenData(){return{}}leave(){return this.flow.next()}submit(){this.emit(fA.SUBMIT)}skip(){this.emit(fA.SKIP)}syncUpdate(){this.triggerUpdate()}update(){this.scheduleUpdate()}triggerUpdate(){var e;g()(e=this.updateListeners).call(e,(e=>e()))}scheduleUpdate(){void 0!==this.updateTimeout&&window.clearTimeout(this.updateTimeout),this.updateTimeout=P()((()=>{this.triggerUpdate()}),yA.UPDATE_DEBOUNCE_MS)}removeUpdateListeners(){this.updateListeners.clear()}}yA.UPDATE_DEBOUNCE_MS=250;class vA extends yA{constructor(e){let{flow:t,name:i,checkoutService:n,debug:a,intl:r,subscriptionPeriodLabelsService:s,currencyService:o,experiments:c}=e;super(t,{name:i},a),this.checkoutService=n,this.intl=r,this.subscriptionPeriodLabelsService=s,this.currencyService=o,this.experiments=c,this.viewState=(0,It.ZP)(this.getInitialViewState(),(e=>e)),this.on(fA.PENDING_STATE_CHANGED,(e=>{"boolean"==typeof e&&this.setLocked(e)}))}getScreenData(){return this.viewState}leave(e){return this.name!==this.flow.getCurrentScreen().name?Fe().resolve():this.flow.next({getMandatoryAllowance:()=>this.checkoutService.shouldFindMandatoryScreen,direction:null==e?void 0:e.direction,omitBeforeLeave:null==e?void 0:e.omitBeforeLeave})}produceViewState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.viewState=(0,It.ZP)(this.viewState,e),t||this.syncUpdate()}setLocked(e){e?(this.flow.lock(),this.produceViewState((e=>{e.locked=!0}))):(this.flow.unlock(),this.produceViewState((e=>{e.locked=!1})))}withPending(e){return(0,m.mG)(this,void 0,void 0,(function*(){this.pending=!0;const t=yield e();return this.pending=!1,t}))}}class SA extends vA{beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.checkoutService.makeDataPointOptional("Comment"),this.produceViewState((e=>{e.comment=this.commentDataPoint.comment}))}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.checkoutService.collectDataPoint([this.commentDataPoint]),!0}))}setComment(e){this.produceViewState((t=>{t.comment=e}))}submitComment(){this.commentDataPoint.comment=this.viewState.comment,this.leave({direction:bn.BACKWARD})}getInitialViewState(){return{locked:!1,comment:""}}get commentDataPoint(){return this.checkoutService.getDataPoint("Comment")}}const CA="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",bA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CA,i="";for(let n=0;n<e;n+=1)i+=t[Math.floor(Math.random()*t.length)];return i};var AA,EA={[Dt.MONEY]:"FiatDonation",[Dt.CRYPTO]:"CryptoDonation",[Dt.STOCK]:"StockDonation"};class xA extends vA{constructor(e,t,i){super(i),this.onBehalfOfDataPoint=e,this.countriesService=t,this.addressSessionToken=bA()}get isOnBehalfOf(){return this.onBehalfOfDataPoint.isOnBehalfOf}getStates(e){var t;return null!==(t=$C.countriesWithPredefinedStates[e])&&void 0!==t?t:null}getAriaErrorMessage(e){return this.intl.translate("addressForm.ariaErrorMessage",{field:e.toLowerCase()})}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.countriesService.getMailingAddressCountriesList();this.produceViewState((t=>{var i,n,a;t.isRequired=this.mailingAddressDataPoint.isRequired,t.isPaymentScreen=this.isPaymentScreen,t.isCryptoFlow=this.isCryptoFlow,t.line1=this.mailingAddressDataPoint.line1,t.line2=this.mailingAddressDataPoint.line2,t.postal=this.mailingAddressDataPoint.postal,t.city=this.mailingAddressDataPoint.city,t.region=this.mailingAddressDataPoint.region,t.countryCode=this.mailingAddressDataPoint.countryCode,t.countryName=null!==(n=null===(i=vt()(e).call(e,(e=>e.countryCode===this.mailingAddressDataPoint.countryCode)))||void 0===i?void 0:i.countryName)&&void 0!==n?n:"",t.countries=e,t.hasRegion=this.hasRegion(this.mailingAddressDataPoint.countryCode),t.isZipFirstLayout=this.isZipFirstLayout(this.mailingAddressDataPoint.countryCode),t.showAlternativeLabels=this.showAlternativeLabels(this.mailingAddressDataPoint.countryCode),t.formattedAmount=this.intl.formatCurrency(null!==(a=this.donationDataPoint.total)&&void 0!==a?a:0,{currency:this.donationDataPoint.currency,display:"trimzeroes"}),t.frequency=this.donationDataPoint.frequency,this.hasMailingAddressError&&(t.processingState="error",t.payErrorMessage=this.checkoutService.payErrorMessage,t.additionalPayErrorMessage=this.checkoutService.additionalPayErrorMessage)}))}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0;const e=this.mailingAddressDataPoint.validate();if(!e.isValid)return this.produceViewState((t=>{t.validation=e,t.shakeKey+=1})),this.pending=!1,!1;if(this.mailingAddressDataPoint.checkShouldValidateOnServer()){if(this.pending=!0,this.setProcessingState("pending"),!(yield this.mailingAddressDataPoint.validateAddress()))return this.produceViewState((e=>{e.shakeKey+=1,e.hasServerValidationError=!0})),this.setProcessingState("error"),this.pending=!1,!1;this.setProcessingState("success"),this.pending=!1}return this.checkoutService.collectDataPoint([this.mailingAddressDataPoint]),this.isPaymentScreen?this.pay():(this.pending=!1,!0)}))}skip(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.pending=!0,this.checkoutService.collectDataPoint([this.mailingAddressDataPoint]),this.isPaymentScreen?(yield this.pay())?this.leave({omitBeforeLeave:!0}):void 0:(this.pending=!1,this.leave({omitBeforeLeave:!0}))}))}search(e,t){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.isLoadingPlaces=!0}));const i=yield this.getPlaces(e,t);this.produceViewState((e=>{e.places=T()(i).call(i,(e=>x()(x()({},e),{innerId:(0,Iv.x0)()}))),e.isLoadingPlaces=!1}))}))}getPlaceById(e){var t;const i=vt()(t=this.viewState.places).call(t,(t=>t.innerId===e));if(!i)throw new Error(`No place with selected innerId "${e}"`);return i}shouldFindSubplaces(e){return this.mailingAddressDataPoint.shouldFindSubplaces(e)}retrieveSubplaces(e,t){return(0,m.mG)(this,void 0,void 0,(function*(){const i="line1"===t?this.viewState.line1:this.viewState.postal;return this.search(i,e)}))}retrieveDetails(e){return(0,m.mG)(this,void 0,void 0,(function*(){let t;try{t=yield this.mailingAddressDataPoint.getDetails(e,this.addressSessionToken)}finally{this.addressSessionToken=bA()}this.mailingAddressDataPoint.line1=t.line1,this.mailingAddressDataPoint.city=t.city,this.hasIndependentPostalCode(this.mailingAddressDataPoint.countryCode)||(this.mailingAddressDataPoint.postal=t.postal),t.line2&&(this.mailingAddressDataPoint.line2=t.line2),t.region&&(this.mailingAddressDataPoint.region=t.region),this.produceViewState((e=>{e.line1=this.mailingAddressDataPoint.line1,e.line2=this.mailingAddressDataPoint.line2,e.city=this.mailingAddressDataPoint.city,e.region=this.mailingAddressDataPoint.region,e.postal=this.mailingAddressDataPoint.postal,e.validation=$C.defaultValidationResult}))}))}changeLine1(e){this.mailingAddressDataPoint.line1=e,this.produceViewState((e=>{e.validation.fields.line1.isValid||(e.validation.fields.line1=$C.defaultValidationResult.fields.line1),e.line1=this.mailingAddressDataPoint.line1}))}changeLine2(e){this.mailingAddressDataPoint.line2=e,this.produceViewState((e=>{e.validation.fields.line2.isValid||(e.validation.fields.line2=$C.defaultValidationResult.fields.line2),e.line2=this.mailingAddressDataPoint.line2}))}changeCity(e){this.mailingAddressDataPoint.city=e,this.produceViewState((e=>{e.validation.fields.city.isValid||(e.validation.fields.city=$C.defaultValidationResult.fields.city),e.city=this.mailingAddressDataPoint.city}))}changeRegion(e){this.mailingAddressDataPoint.region=e,this.produceViewState((e=>{e.validation.fields.region.isValid||(e.validation.fields.region=$C.defaultValidationResult.fields.region),e.region=this.mailingAddressDataPoint.region}))}changePostalCode(e){this.mailingAddressDataPoint.postal=e,this.produceViewState((e=>{e.validation.fields.postal.isValid||(e.validation.fields.postal=$C.defaultValidationResult.fields.postal),e.postal=this.mailingAddressDataPoint.postal}))}changeSelectedCountry(e){const t=this.isZipFirstLayout(this.mailingAddressDataPoint.countryCode),i=this.hasRegion(this.mailingAddressDataPoint.countryCode);this.mailingAddressDataPoint.countryCode=e;const n=this.isZipFirstLayout(this.mailingAddressDataPoint.countryCode),a=this.hasRegion(this.mailingAddressDataPoint.countryCode);this.mailingAddressDataPoint.region=this.getPredefinedRegion(e,t,i),this.produceViewState((t=>{var i,r;t.countryCode=this.mailingAddressDataPoint.countryCode,t.countryName=vt()(i=this.viewState.countries).call(i,(t=>t.countryCode===e)).countryName,t.region=this.mailingAddressDataPoint.region,F()(r=t.places).call(r,0,t.places.length),t.hasRegion=a,t.isZipFirstLayout=n,t.showAlternativeLabels=this.showAlternativeLabels(e)}))}getPredefinedRegion(e,t,i){var n,a;const r=this.getStates(e);if(r){if(R()(r))return null===(n=r[0])||void 0===n?void 0:n.code;const e=r[ze()(r)[0]],t=null===(a=null==e?void 0:e[0])||void 0===a?void 0:a.code;if(t)return t}const s=this.isZipFirstLayout(this.mailingAddressDataPoint.countryCode),o=this.hasRegion(this.mailingAddressDataPoint.countryCode);return t!==s||i!==o?"":this.mailingAddressDataPoint.region}getInitialViewState(){return{locked:!1,isRequired:!1,isPaymentScreen:!0,isCryptoFlow:!1,donateLabel:"",processingState:"idle",hasServerValidationError:!1,line1:"",line2:"",city:"",region:"",postal:"",countryCode:St.C9.UNITED_STATES,countryName:"",isZipFirstLayout:!1,hasRegion:!1,showAlternativeLabels:!1,countries:[],places:[],isLoadingPlaces:!1,shakeKey:0,validation:$C.defaultValidationResult,formattedAmount:"",frequency:St.EK.MONTHLY}}get hasMailingAddressError(){return this.checkoutService.getState().hasMailingAddressError}get mailingAddressDataPoint(){return this.checkoutService.getDataPoint("MailingAddress")}get isPaymentScreen(){return this.name===this.checkoutService.paymentScreenName}get isCryptoFlow(){return this.checkoutService.type===Dt.CRYPTO}get donationDataPoint(){return this.checkoutService.getDataPoint(EA[this.checkoutService.type])}isZipFirstLayout(e){return function(e){return e===St.C9.UNITED_KINGDOM}(e)}hasRegion(e){return!YC(e)}hasIndependentPostalCode(e){var t;return Be()(t=[St.C9.IRELAND]).call(t,e)}showAlternativeLabels(e){var t;return Be()(t=[St.C9.UNITED_KINGDOM,St.C9.IRELAND]).call(t,e)}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}pay(){return(0,m.mG)(this,void 0,void 0,(function*(){this.pending=!0,this.setProcessingState("pending");const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return xi.isSuccess(e)?(this.isCryptoFlow||(this.setProcessingState("success"),yield pr(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave)),this.pending=!1,!0):e.failureResult.shouldLeave?(this.pending=!1,!0):(this.produceViewState((e=>{e.payErrorMessage=this.checkoutService.payErrorMessage,e.additionalPayErrorMessage=this.checkoutService.additionalPayErrorMessage})),this.setProcessingState("error"),this.pending=!1,!1)}))}getPlaces(e,t){return(0,m.mG)(this,void 0,void 0,(function*(){const i={input:gi()(e).call(e),restrictCountries:[this.viewState.countryCode],sessionToken:this.addressSessionToken};return t?this.mailingAddressDataPoint.getSubplaces(x()({place:t},i)):this.mailingAddressDataPoint.getPlaces(x()({},i))}))}}class kA extends vA{beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{var t;e.isPaymentScreen=this.isPaymentScreen,e.isStockFlow=this.isStockFlow,e.firstName=this.donorNameDataPoint.firstName,e.lastName=this.donorNameDataPoint.lastName,e.email=this.donorEmailDataPoint.email,e.emailConsent.isEnabled=this.donorEmailDataPoint.emailConsent.isEnabled,e.showPhone=this.phoneNumberDataPoint.isEnabled,e.phoneRequired=this.phoneNumberDataPoint.isRequired,e.phone=this.phoneNumberDataPoint.phone,e.phoneLegalText=this.phoneNumberDataPoint.legalText,e.showPhoneLegalText=this.phoneNumberDataPoint.isLegalTextEnabled,e.userCountryCode=this.phoneNumberDataPoint.countryCode,e.showAnonymous=this.donateAnonymousDataPoint.isEnabled,e.anonymousChecked=this.donateAnonymousDataPoint.anonymousChecked,e.mailingListSubscription.show=this.mailingListSubscriptionDataPoint.isEnabled,e.mailingListSubscription.checked=this.mailingListSubscriptionDataPoint.checked,e.mailingListSubscription.text=this.mailingListSubscriptionDataPoint.text,e.processingState="idle",e.onBehalfOf.companyName=this.onBehalfOfDataPoint.companyName,e.onBehalfOf.isEnabled=this.onBehalfOfDataPoint.isEnabled,e.onBehalfOf.isActive=this.onBehalfOfDataPoint.isActive,e.termsAndConditions.text=this.termsAndConditionsDataPoint.text,e.termsAndConditions.isEnabled=this.termsAndConditionsDataPoint.isEnabled,e.termsAndConditions.isAccepted=this.termsAndConditionsDataPoint.isAccepted;const{showPhone:i}=e,n=this.customerTitleDataPoint.isEnabled||this.isStockFlow?!((i||e.onBehalfOf.isEnabled)&&(e.showAnonymous||e.mailingListSubscription.show||e.termsAndConditions.isEnabled)):!(i&&e.onBehalfOf.isEnabled&&(e.showAnonymous||e.mailingListSubscription.show||e.termsAndConditions.isEnabled)),a=!!this.customerTitleDataPoint.isEnabled&&i&&e.onBehalfOf.isEnabled&&e.showAnonymous&&e.mailingListSubscription.show&&e.termsAndConditions.isEnabled;e.textIsVisible=n,e.isApplePayAlertVisible=this.isApplePayAlertVisible,e.allOptionsEnabled=a,e.customerTitle.title=this.customerTitleDataPoint.title,e.customerTitle.list=this.customerTitleDataPoint.titleList,e.customerTitle.isEnabled=this.customerTitleDataPoint.isEnabled,e.customerTitle.isRequired=this.customerTitleDataPoint.isRequired,e.donation.formattedAmount=this.intl.formatCurrency(null!==(t=this.donationDataPoint.total)&&void 0!==t?t:0,{currency:this.donationDataPoint.currency,display:"trimzeroes"}),e.donation.frequency=this.donationDataPoint.frequency,this.isStockFlow&&(e.brokerageAccountNumber.accountNumber=this.brokerageAccountNumberDataPoint.accountNumber,e.brokerageAccountNumber.isEnabled=this.brokerageAccountNumberDataPoint.isEnabled,e.brokerageAccountNumber.isRequired=this.brokerageAccountNumberDataPoint.isRequired),e.autoFocus=this.getAutoFocusConfig(e.brokerageAccountNumber.isEnabled,e.customerTitle.isEnabled)}))}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0;let e=!1;if(this.produceViewState((t=>{t.validation.customerTitle=this.customerTitleDataPoint.validate(),t.validation.donorName=this.donorNameDataPoint.validate(),t.validation.donorEmail=this.donorEmailDataPoint.validate(),t.validation.phone=this.phoneNumberDataPoint.validate(),t.validation.isAccepted=this.termsAndConditionsDataPoint.validate(),t.validation.onBehalfOf=this.onBehalfOfDataPoint.validate(),this.isStockFlow&&(t.validation.brokerageAccountNumber=this.brokerageAccountNumberDataPoint.validate()),e=this.checkHasError(t),e&&(t.shakeKey+=1)})),e)return this.pending=!1,!1;this.setProcessingState("pending");const t=[this.donorNameDataPoint,this.donorEmailDataPoint,this.donateAnonymousDataPoint,this.mailingListSubscriptionDataPoint,this.phoneNumberDataPoint,this.onBehalfOfDataPoint];this.isStockFlow&&t.push(this.brokerageAccountNumberDataPoint);const i=yield this.checkoutService.collectDataPoint(t,!0);if(xi.isFailure(i)&&i.failureResult.customerEmailError)return yield this.startServerErrorFlow(),!1;if(!this.isPaymentScreen)return this.setProcessingState("idle"),this.pending=!1,!0;const n=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return xi.isSuccess(n)?(this.isCryptoFlow||(this.setProcessingState("success"),yield pr(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave)),this.pending=!1,!0):n.failureResult.shouldLeave?(this.pending=!1,!0):(this.produceViewState((e=>{e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText"),e.additionalPayErrorMessage=this.checkoutService.additionalPayErrorMessage||""})),this.setProcessingState("error"),this.pending=!1,!1)}))}changeCompanyName(e){this.onBehalfOfDataPoint.companyName=e,this.produceViewState((e=>{e.validation.onBehalfOf.isValid||(e.validation.onBehalfOf=zC.defaultValidationResult),e.onBehalfOf.companyName=this.onBehalfOfDataPoint.companyName}))}changeCustomerTitle(e){this.customerTitleDataPoint.title=e,this.produceViewState((e=>{e.validation.customerTitle.isValid||(e.validation.customerTitle=VC.defaultValidationResult),e.customerTitle.title=this.customerTitleDataPoint.title}))}changeFirstName(e){this.donorNameDataPoint.firstName=e,this.produceViewState((e=>{e.validation.donorName.fields.firstName.isValid||(e.validation.donorName.fields.firstName=WC.defaultValidationResult.fields.firstName),e.firstName=this.donorNameDataPoint.firstName}))}changeLastName(e){this.donorNameDataPoint.lastName=e,this.produceViewState((e=>{e.validation.donorName.fields.lastName.isValid||(e.validation.donorName.fields.lastName=WC.defaultValidationResult.fields.lastName),e.lastName=this.donorNameDataPoint.lastName}))}changeEmail(e){this.donorEmailDataPoint.email=e,this.produceViewState((e=>{e.validation.donorEmail.fields.email.isValid||(e.validation.donorEmail.fields.email=XC.defaultValidationResult.fields.email),e.email=this.donorEmailDataPoint.email}))}changePhone(e){this.phoneNumberDataPoint.phone=e,this.produceViewState((e=>{e.validation.phone.isValid||(e.validation.phone=QC.defaultValidationResult),e.phone=this.phoneNumberDataPoint.phone}))}changePlainPhone(e){this.phoneNumberDataPoint.setCleanPhone(e)}changeCountryCode(e){this.phoneNumberDataPoint.countryCode=e,this.produceViewState((e=>{e.userCountryCode=this.phoneNumberDataPoint.countryCode}))}changeBrokerageAccountNumber(e){this.isStockFlow&&(this.brokerageAccountNumberDataPoint.accountNumber=e,this.produceViewState((e=>{e.validation.brokerageAccountNumber.isValid||(e.validation.brokerageAccountNumber=_C.defaultValidationResult),e.brokerageAccountNumber.accountNumber=this.brokerageAccountNumberDataPoint.accountNumber})))}toggleOnBehalfOf(){this.onBehalfOfDataPoint.isActive=!this.onBehalfOfDataPoint.isActive,this.produceViewState((e=>{e.onBehalfOf.isActive=this.onBehalfOfDataPoint.isActive,e.isPaymentScreen=this.isPaymentScreen}))}toggleTermsAndConditionsAccepted(){this.termsAndConditionsDataPoint.isAccepted=!this.termsAndConditionsDataPoint.isAccepted,this.produceViewState((e=>{var t;(null===(t=e.validation.isAccepted)||void 0===t?void 0:t.isValid)||(e.validation.isAccepted=rb.defaultValidationResult),e.termsAndConditions.isAccepted=this.termsAndConditionsDataPoint.isAccepted}))}toggleAnonymousChecked(){const e=this.donateAnonymousDataPoint.anonymousChecked;this.donateAnonymousDataPoint.anonymousChecked=!e,this.produceViewState((t=>{t.anonymousChecked=!e}))}toggleSubscriptionChecked(){const e=this.mailingListSubscriptionDataPoint.checked;this.mailingListSubscriptionDataPoint.checked=!e,this.produceViewState((t=>{t.mailingListSubscription.checked=!e}))}getInitialViewState(){return{shakeKey:0,validation:{brokerageAccountNumber:_C.defaultValidationResult,customerTitle:VC.defaultValidationResult,donorName:WC.defaultValidationResult,donorEmail:XC.defaultValidationResult,onBehalfOf:zC.defaultValidationResult,phone:QC.defaultValidationResult,isAccepted:rb.defaultValidationResult},serverErrors:{},showPhone:!1,phoneRequired:!1,showPhoneLegalText:!1,phoneLegalText:"",showAnonymous:!1,anonymousChecked:!1,mailingListSubscription:{checked:!1,show:!1,text:""},textIsVisible:!1,isApplePayAlertVisible:!1,allOptionsEnabled:!1,firstName:"",lastName:"",email:"",emailConsent:{isEnabled:!1},phone:null,isPaymentScreen:!1,payErrorMessage:"",additionalPayErrorMessage:"",userCountryCode:St.C9.UNITED_STATES,processingState:"idle",termsAndConditions:{isAccepted:!1,isEnabled:!1,text:""},onBehalfOf:{isEnabled:!1,isActive:!1,companyName:""},customerTitle:{title:dl.NONE,list:[],isEnabled:!1,isRequired:!1},locked:!1,donation:{formattedAmount:"",frequency:J.EK.MONTHLY},brokerageAccountNumber:{isEnabled:!1,isRequired:!1,accountNumber:""},isStockFlow:!1,autoFocus:this.createDefaultAutoFocusConfig()}}get isPaymentScreen(){return this.name===this.checkoutService.paymentScreenName}get isFiatFlow(){return this.checkoutService.type===Dt.MONEY}get isStockFlow(){return this.checkoutService.type===Dt.STOCK}get isCryptoFlow(){return this.checkoutService.type===Dt.CRYPTO}get donorNameDataPoint(){return this.checkoutService.getDataPoint("DonorName")}get donorEmailDataPoint(){return this.checkoutService.getDataPoint("DonorEmail")}get termsAndConditionsDataPoint(){return this.checkoutService.getDataPoint("TermsAndConditions")}get phoneNumberDataPoint(){return this.checkoutService.getDataPoint("PhoneNumber")}get donateAnonymousDataPoint(){return this.checkoutService.getDataPoint("DonateAnonymous")}get mailingListSubscriptionDataPoint(){return this.checkoutService.getDataPoint("MailingListSubscription")}get onBehalfOfDataPoint(){return this.checkoutService.getDataPoint("OnBehalfOf")}get customerTitleDataPoint(){return this.checkoutService.getDataPoint("CustomerTitle")}get donationDataPoint(){return this.checkoutService.getDataPoint(EA[this.checkoutService.type])}get brokerageAccountNumberDataPoint(){return this.checkoutService.getDataPoint("BrokerageAccountNumber")}get paymentOptionsDataPoint(){return this.checkoutService.getDataPoint("PaymentOptions")}get isApplePay(){return this.paymentOptionsDataPoint.clientPaymentMethod===St.GZ.APPLE_PAY}get isMobile(){return this.checkoutService.checkoutConfiguration.infrastructureParams.isMobile}get isApplePayAlertVisible(){return this.isMobile&&this.isFiatFlow&&this.isApplePay}checkHasError(e){var t;return S()(t=ze()(e.validation)).call(t,(t=>{const i=e.validation[t];return!!i&&!i.isValid}))}startServerErrorFlow(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.serverErrors.email=!0,e.shakeKey+=1,e.processingState="error"})),this.pending=!1}))}setProcessingState(e){return this.produceViewState((t=>{t.processingState=e})),this}getAutoFocusConfig(e,t){const i=this.createDefaultAutoFocusConfig();return e?(i.firstName=!1,i.brokerageAccountNumber=!0):t&&(i.firstName=!1,i.customerTitle=!0),i}createDefaultAutoFocusConfig(){return{brokerageAccountNumber:!1,customerTitle:!1,firstName:!0}}}class wA extends vA{get showBackButton(){const e=1!==this.viewState.page||this.checkoutService.canGoBack,t=this.checkoutService.checkoutConfiguration.infrastructureParams.isMobile;return{header:!t&&e,footer:t&&e}}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{var t,i;e.questions=T()(t=[...Pr()(i=this.questionsDataPoint.questions).call(i)]).call(t,(e=>{let[t,i]=e;return{key:t,type:i.type,required:i.required,code:i.code,question:i.question,answer:i.answer,page:null,options:[...i.options]}})),e.isMeasuring=!0}))}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){var e,t;const i=this.viewState.page,n=B()(e=this.viewState.questions).call(e,(e=>{let{page:t}=e;return t===i})),a=this.questionsDataPoint.validateQuestionsByKeys(T()(n).call(n,(e=>{let{key:t}=e;return t})));return a.isValid?S()(t=this.viewState.questions).call(t,(e=>{let{page:t}=e;return null===t||t>i}))?(this.produceViewState((e=>{e.page+=1})),yield this.checkoutService.updateSession(),!1):(this.checkoutService.collectDataPoint([this.questionsDataPoint]),!0):(this.produceViewState((e=>{for(const[t,{isValid:i}]of ei()(a.fields))e.questionErrors[t]=!i;e.shakeKey+=1})),!1)}))}back(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.viewState.page;if(1===e&&this.flow.canGoBack&&this.checkoutService.canGoBack)return this.flow.prev();this.produceViewState((t=>{for(const i of t.questions)i.page===e&&(t.questionErrors[i.key]=!1);t.page-=1}))}))}answerQuestion(e,t){this.questionsDataPoint.setAnswer(e,t),this.produceViewState((t=>{var i;const n=vt()(i=t.questions).call(i,(t=>t.key===e));if(!n)throw new Error(`No question with such key: "${e}"`);t.questionErrors[e]=!1;const a=this.questionsDataPoint.getAnswer(e);var r;R()(a)?R()(n.answer)?F()(r=n.answer).call(r,0,n.answer.length,...a):n.answer=[...a]:n.answer=a}))}navigateInShowcaseToPage(e){if(!this.viewState.isShowcase)throw new Error("Can be used only in showcase");this.produceViewState((t=>{t.page=e}))}completeMeasurement(e){this.produceViewState((t=>{for(const[i,n]of e)t.questions[i].page=n,this.viewState.isShowcase&&(t.page=n);const i=this.checkoutService.checkoutConfiguration.showcase,n=i&&i.currentQuestionsPage;n&&(t.page=n),t.isMeasuring=!1})),this.checkoutService.checkoutUIState.pagesOfQuestionsScreen=this.getPagesOfQuestionsScreen(e)}getInitialViewState(){return{locked:!1,page:1,questions:[],hasBackButton:!0,isMeasuring:!1,questionErrors:{},shakeKey:0,isShowcase:this.checkoutService.checkoutConfiguration.infrastructureParams.showcase}}get questionsDataPoint(){return this.checkoutService.getDataPoint("Questions")}getPagesOfQuestionsScreen(e){const t=[...be()(e).call(e)];return t[t.length-1]}}class NA extends vA{constructor(e,t,i,n,a){super(a),this.donationDataPoint=e,this.tributeDataPoint=t,this.redirectApi=i,this.sharingApi=n}get hasTribute(){return this.tributeDataPoint.isActive&&!!this.tributeDataPoint.tributeeName}get descriptionSharing(){switch(this.viewState.flowType){case Dt.MONEY:return this.descriptionSharingFiat;case Dt.CRYPTO:return this.hasTribute?this.intl.translate("thankYouScreen.description.withTribute.crypto",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.description.withoutTribute.crypto",{amount:this.viewState.formattedTotal});case Dt.STOCK:return this.hasTribute?this.intl.translate("thankYouScreen.description.withTribute.stock",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.description.withoutTribute.stock",{amount:this.viewState.formattedTotal});default:{const e=this.viewState.flowType;throw new Error(`Unknown flow type "${e}"`)}}}get descriptionTribute(){if(!this.checkoutService.checkoutConfiguration.infrastructureParams.showcase&&this.viewState.flowType===Dt.MONEY&&this.donationDataPoint instanceof DC){const e=this.donationDataPoint.isRecurring,t=this.donationDataPoint.frequency;if(e&&t!==St.EK.ONCE)return this.intl.translate("thankYouScreen.description.withTribute.fiat.recurring",{amount:this.viewState.formattedTotal,recurringType:this.recurringTypes[t],dedicatedTo:this.viewState.tribute.inHonorOf})}return this.viewState.flowType===Dt.STOCK?this.intl.translate("thankYouScreen.description.withTribute.stock",{dedicatedTo:this.viewState.tribute.inHonorOf}):this.viewState.flowType===Dt.CRYPTO?this.intl.translate("thankYouScreen.description.withTribute.crypto",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.description.withTribute.fiat.once",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf})}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.redirectApi.canRedirect(this.checkoutService.getState())?(yield this.checkoutService.tryCloseSession(),yield this.redirectApi.tryRedirect(this.checkoutService)):this.checkoutService.tryCloseSession();const e=this.donationDataPoint.total||0,t=this.donationDataPoint.currency;this.produceViewState((i=>{var n,a;i.currency=t,i.total=e,i.formattedTotal=this.intl.formatCurrency(i.total,{currency:i.currency,display:"trimzeroes"}),i.tributeDonorPortalLink=null!==(a=null===(n=this.checkoutService.getState().donationResultState)||void 0===n?void 0:n.tributeDonorPortalLink)&&void 0!==a?a:"",i.tribute.inHonorOf=this.tributeDataPoint.tributeeName,i.variant=this.variant;const{email:r,twitter:s,linkedin:o,facebook:c}=this.sharingApi.sharingChannels;i.sharing.showEmail=r,i.sharing.showTwitter=s,i.sharing.showLinkedin=o,i.sharing.showFacebook=c}))}))}getSharingLink(e){return this.sharingApi.getSharingLink(e,this.intl.translate("thankYouScreen.share.emailSubject"))}share(e,t){this.sharingApi.share(e,this.intl.translate("thankYouScreen.share.emailSubject"),t)}makeAnotherDonation(){}shown(){return(0,m.mG)(this,void 0,void 0,(function*(){this.checkoutService.thankYouShown()}))}getInitialViewState(){return{locked:!1,variant:"Sharing",currency:"USD",total:0,formattedTotal:"",sharing:{showFacebook:!0,showTwitter:!0,showLinkedin:!0,showEmail:!0},tribute:{inHonorOf:""},tributeDonorPortalLink:"",flowType:this.checkoutService.type}}get descriptionSharingFiat(){if(!this.checkoutService.checkoutConfiguration.infrastructureParams.showcase&&this.donationDataPoint instanceof DC){const e=this.donationDataPoint.frequency;if(e!==St.EK.ONCE)return this.hasTribute?this.intl.translate("thankYouScreen.description.withTribute.fiat.recurring",{amount:this.viewState.formattedTotal,recurringType:this.recurringTypes[e],dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.description.withoutTribute.fiat.recurring",{amount:this.viewState.formattedTotal,recurringType:this.recurringTypes[e]})}return this.hasTribute?this.intl.translate("thankYouScreen.description.withTribute.fiat.once",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.description.withoutTribute.fiat.once",{amount:this.viewState.formattedTotal})}get recurringTypes(){return{[St.EK.DAILY]:this.intl.translate("widgetSubscriptionPeriodLabel.daily.adjective"),[St.EK.WEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adjective"),[St.EK.BIWEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adjective"),[St.EK.EVERY_4_WEEKS]:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.adjective"),[St.EK.MONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adjective"),[St.EK.BIMONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adjective"),[St.EK.QUARTERLY]:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adjective"),[St.EK.SEMIANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adjective"),[St.EK.ANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.annual.adjective")}}get isSharingEnabled(){return this.sharingApi.isSharingEnabled}get variant(){return this.hasTribute&&this.tributeDataPoint.isSharingEnabled?"Tribute":this.isSharingEnabled?"Sharing":"Default"}}class PA extends vA{constructor(e){super(e),this.paymentService=e.paymentService}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;if(this.pending=!0,this.setProcessingState("pending"),!(yield this.paymentService.startAuBECSFlow()))return this.produceViewState((e=>{e.shakeKey+=1,e.processingState="idle"})),this.pending=!1,!1;const e=yield this.checkoutService.hold();return this.pending=!1,!xi.isFailure(e)||(yield this.showError(),!1)}))}initiateAuBECS(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.paymentService.initiateAuBECS(e)}))}getInitialViewState(){return{locked:!1,accountNumber:null,bsbNumber:null,shakeKey:0,accountHolderName:"",termsChecked:!0,errors:{},processingState:"idle"}}showError(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="error",e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")})),this.produceViewState((e=>{e.payErrorMessage=""}),!0)}))}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}}class DA extends vA{constructor(e){super(e),this.readyClickToPay=!1,this.clickToPayRequested=!1,this.paymentService=e.paymentService}startClickToPay(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.readyClickToPay?this.paymentService.startClickToPay():(this.clickToPayRequested=!0,Fe().reject("ClickToPay is not ready"))}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.checkoutService.hold();return this.pending=!1,!xi.isFailure(e)}))}initiateClickToPay(e){return(0,m.mG)(this,void 0,void 0,(function*(){yield this.paymentService.initiateClickToPay(e),this.readyClickToPay=!0,this.clickToPayRequested&&(yield this.startClickToPay())}))}destroyClickToPay(){this.paymentService.destroyClickToPay()}getInitialViewState(){return{locked:!1}}}class TA extends vA{constructor(e){super(e),this.paymentService=e.paymentService,this.donationDataPoint=e.donationDataPoint}get errorMessage(){return this.viewState.payErrorTitle?"":this.viewState.payErrorMessage||this.intl.translate("creditCardScreen.cardError.message")}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){return!this.pending&&(this.pending=!0,this.produceViewState((e=>{e.processingState="pending"})),(yield this.paymentService.startCreditCardFlow())?this.isPaymentScreen?this.pay():this.hold():(this.produceViewState((e=>{e.shakeKey+=1,e.processingState="idle"})),this.pending=!1,!1))}))}initiateCreditCard(e){return this.paymentService.initiateCreditCard(e)}changeFieldFilled(e,t){this.produceViewState((i=>{i.filledFields[e]=t}),!0)}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{var t;e.processingState="idle",e.isPaymentScreen=this.isPaymentScreen,e.formattedAmount=this.intl.formatCurrency(null!==(t=this.donationDataPoint.total)&&void 0!==t?t:0,{currency:this.donationDataPoint.currency,display:"floatcents"}),e.frequency=this.donationDataPoint.frequency})),this.produceViewState((e=>{e.showTestModeTooltipInfo=!this.checkoutService.checkoutConfiguration.infrastructureParams.livemode&&!this.checkoutService.checkoutConfiguration.infrastructureParams.showcase})),this.checkoutService.hasPaymentError(St.GZ.CARD)&&(this.produceViewState((e=>{e.payErrorMessage=this.checkoutService.payErrorMessage,e.processingState="error"})),this.checkoutService.setPaymentError(St.GZ.CARD,!1))}))}getInitialViewState(){return{processingState:"idle",shakeKey:0,locked:!1,filledFields:{cardNumber:!1,cardExpiry:!1,cardCvc:!1},showTestModeTooltipInfo:!1,isPaymentScreen:!1,formattedAmount:"",frequency:St.EK.ONCE}}get isPaymentScreen(){var e,t;return this.checkoutService.isReadyToRetryPay&&(null===(t=null===(e=this.checkoutService.getState())||void 0===e?void 0:e.paymentOptions)||void 0===t?void 0:t.clientPaymentMethod)===St.GZ.CARD}pay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.checkoutService.hold();if(xi.isFailure(e))return this.pending=!1,this.handleHoldError(e),!1;const t=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return xi.isFailure(t)?(this.produceViewState((e=>{e.payErrorMessage=this.checkoutService.payErrorMessage,e.processingState="error"})),this.checkoutService.setPaymentError(St.GZ.CARD,!1),this.pending=!1,!1):(this.produceViewState((e=>{e.processingState="success"})),yield pr(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),this.pending=!1,!0)}))}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.checkoutService.hold();return this.pending=!1,!xi.isFailure(e)||(this.handleHoldError(e),!1)}))}handleHoldError(e){xi.isSuccess(e)||this.produceViewState((e=>{e.payErrorTitle=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText"),e.payErrorMessage="",e.processingState="error"}))}}!function(e){e[e.IN_HONOR_OF_MAX_LENGTH=200]="IN_HONOR_OF_MAX_LENGTH"}(AA||(AA={}));class _A{static getInHonorOfMaxLength(e){var t;return Be()(t=["AJGEZYBE","ATBTMWDS"]).call(t,e)?30:AA.IN_HONOR_OF_MAX_LENGTH}}class OA extends Or{constructor(){super(...arguments),this.areExperimentalAiSuggestionsUsed=!1,this.areDefaultSuggestionsUsed=!1}tryStart(e){this.isActive||e.frequency===zr.E.ONCE&&e.aiSuggestions.length&&e.isCampaignAiEnabled&&(e.suggestedAmountHints||e.canModifyAmount&&e.elementType!==Ot.DONATION_FORM&&super.start())}shouldUseExperimentalAiSuggestions(){return!this.areExperimentalAiSuggestionsUsed&&!!this.isVariant1TestGroup&&(this.areExperimentalAiSuggestionsUsed=!0,!0)}shouldUseDefaultSuggestions(){return!this.areDefaultSuggestionsUsed&&!!this.isVariant2TestGroup&&(this.areDefaultSuggestionsUsed=!0,!0)}getFormattedExperimentalAiSuggestions(e){var t;const i=T()(t=e.aiSuggestions).call(t,(t=>e.currencyService.convert(t,"USD",e.campaignDefaultCurrency)));return e.suggestionsService.beautify(i,e.campaignDefaultCurrency)}getFormattedDefaultSuggestions(e){var t;return T()(t=e.defaultCampaignOneTimeSuggestions).call(t,((t,i)=>t||e.defaultCommonOneTimeSuggestions[i]))}get isVariant1TestGroup(){return this.isActive&&this.isVariant(Gr.TEST_1)}get isVariant2TestGroup(){return this.isActive&&this.isVariant(Gr.TEST_2)}}class IA extends vA{constructor(e,t){super(e),this.upsellAggregate=t,this.suggestionsService=e.suggestionsService,this.donationDataPoint=e.donationDataPoint,this.tributeDataPoint=e.tributeDataPoint,this.commentDataPoint=e.commentDataPoint,this.designationDataPoint=e.designationDataPoint,this.experiments.register(xr.SUGGESTED_PRESET_AMOUNTS_V_3_EXPERIMENT,OA)}get upsellCurtainExperiment(){return this.experiments.get(xr.UPSELL_CURTAIN_EXPERIMENT)}get donateButtonLabel(){return function(e,t){switch(t){case St.EK.DAILY:return e.translate("donateForm.donateButton.daily");case St.EK.WEEKLY:return e.translate("donateForm.donateButton.weekly");case St.EK.BIWEEKLY:return e.translate("donateForm.donateButton.biweekly");case St.EK.EVERY_4_WEEKS:return e.translate("donateForm.donateButton.every4weeks");case St.EK.MONTHLY:return e.translate("donateForm.donateButton.monthly");case St.EK.BIMONTHLY:return e.translate("donateForm.donateButton.bimonthly");case St.EK.QUARTERLY:return e.translate("donateForm.donateButton.quarterly");case St.EK.SEMIANNUAL:return e.translate("donateForm.donateButton.semiannual");case St.EK.ANNUAL:return e.translate("donateForm.donateButton.annual");default:return e.translate("donateForm.donateButton.once")}}(this.intl,this.donationDataPoint.frequency)}get shouldShowAverageDonationHint(){return(this.checkoutService.checkoutConfiguration.infrastructureParams.showcase||this.viewState.donation.frequency===St.EK.ONCE)&&!1}get shouldShowAverageDonationHintTooltip(){const e=this.viewState.tribute.sharingEnabled&&this.viewState.tribute.isActive&&this.viewState.isTributeInputFocused;return this.shouldShowAverageDonationHint&&!this.viewState.errors.amount.min&&!e&&!this.viewState.forceHideAverageDonationHintTooltip}get amountAverageDonationHint(){return this.currencyService.convert(1e4,"USD",this.viewState.donation.currency)}get isRateMatchingCountdownEnabled(){return!!this.viewState.rateMatching.show&&(!!this.viewState.rateMatching.endDate&&new Date(this.viewState.rateMatching.endDate).getTime()>O()())}get isLocked(){return this.upsellCurtainExperiment.isTestGroup&&this.viewState.upsellCurtainShown}get minRateMatchingAmount(){return this.currencyService.convert(this.viewState.rateMatching.minAmount||0,this.checkoutService.campaignConfig.defaultCurrency,this.viewState.donation.currency)}beforeEnter(e){return(0,m.mG)(this,void 0,void 0,(function*(){(null==e?void 0:e.isSynthetic)||this.tryStartSuggestedPresetAmountsV3Experiment(),this.checkoutService.ensureFrequencyEnabled(this.donationDataPoint.frequency),this.donationDataPoint.syncHintsAmounts(),this.designationDataPoint.goalKey||this.designationDataPoint.changeGoalKeyByFrequency(this.donationDataPoint.frequency),this.produceViewState((e=>{e.tribute.show=this.tributeDataPoint.isEnabled,e.tribute.isActive=this.tributeDataPoint.isActive,e.tribute.labelType=this.tributeDataPoint.labelType,e.tribute.sharingEnabled=this.tributeDataPoint.isSharingEnabled,e.tribute.isOptional=this.tributeDataPoint.isOptional,e.tribute.name=this.tributeDataPoint.tributeeName,e.tribute.isFilled=this.tributeDataPoint.isFilled,e.tribute.isTributeOriented=this.tributeDataPoint.isTributeOriented,e.comment.isEnabled=this.commentDataPoint.isEnabled,e.comment.content=this.commentDataPoint.comment,e.comment.prevContent=this.commentDataPoint.prevComment,e.donation.amount=this.donationDataPoint.amount,e.donation.minAmount=this.donationDataPoint.minAmount,e.donation.amountOptions=[...this.donationDataPoint.amountOptions],e.donation.frequency=this.donationDataPoint.frequency,e.donation.canModifyAmount=this.donationDataPoint.canModifyAmount,e.donation.canSelectCurrency=this.donationDataPoint.canSelectCurrency,e.donation.currency=this.donationDataPoint.currency,e.donation.hintOptions=this.donationDataPoint.hintOptions,e.donation.canModifyFrequency=this.donationDataPoint.canModifyFrequency,e.designation.show=this.designationDataPoint.isEnabled,e.designation.goalKey=this.designationDataPoint.goalKey,e.designation.goals=this.designationDataPoint.goals,e.designation.isEditable=this.designationDataPoint.canChangeDesignation(this.getAllowedGoals(e.designation.goals,e.donation.frequency).length),e.allCurrenciesList=this.donationDataPoint.currencyList,e.guessedCurrenciesList=this.donationDataPoint.guessedCurrencyList,e.donateButtonLabel=this.donateButtonLabel,e.leftButtonLabel=this.leftButtonLabel,e.leftButtonFrequency=this.donationDataPoint.lowFrequency,e.rightButtonLabel=this.rightButtonLabel,e.rightButtonFrequency=this.donationDataPoint.highFrequency,e.rateMatching=this.rateMatching,e.isRateMatchingEnabled=this.isRateMatchingEnabled(e.rateMatching),e.showFrequencyCustomAmountInput=!this.donationDataPoint.currentHint})),this.validateAmount()}))}setIsTributeInputFocused(e){return(0,m.mG)(this,void 0,void 0,(function*(){yield pr(200),this.produceViewState((t=>{t.isTributeInputFocused=e}))}))}getAllowedGoals(e,t){return B()(e).call(e,(e=>this.designationDataPoint.isGoalAllowedToShow(e,t)))}getGoalByKey(e){var t;return vt()(t=this.viewState.designation.goals).call(t,(t=>t.key===e))||null}shouldShowDesignation(){return this.viewState.designation.show&&!!this.getAllowedGoals(this.viewState.designation.goals,this.viewState.donation.frequency).length}changeFrequency(e){this.donationDataPoint.frequency=e,this.donationDataPoint.syncHintsAmounts(),this.tryStartSuggestedPresetAmountsV3Experiment(),this.checkoutService.syncUpdateCheckoutState(),this.designationDataPoint.changeGoalKeyByFrequency(e),this.produceViewState((e=>{e.donation.frequency=this.donationDataPoint.frequency,e.donation.amount=this.donationDataPoint.amount,e.donation.currency=this.donationDataPoint.currency,e.donation.amountOptions=[...this.donationDataPoint.amountOptions],e.donation.hintOptions=this.donationDataPoint.hintOptions,e.donation.canSelectCurrency=this.donationDataPoint.canSelectCurrency,e.designation.goalKey=this.designationDataPoint.goalKey,e.designation.isEditable=this.designationDataPoint.canChangeDesignation(this.getAllowedGoals(e.designation.goals,e.donation.frequency).length),e.donation.minAmount=this.donationDataPoint.minAmount,e.donateButtonLabel=this.donateButtonLabel,e.showFrequencyCustomAmountInput=!this.donationDataPoint.currentHint})),this.validateAmount(),this.resetDesignationValidation()}validateAmount(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.checkoutService.checkoutConfiguration.infrastructureParams.showcase)return;const t=this.donationDataPoint.validate(),i=null===this.donationDataPoint.amount,n=e&&t.fields.amount.errors.required;this.produceViewState((e=>{e.donation.isAmountValid=t.fields.amount.isValid,e.errors.amount.required=n,e.errors.amount.min=!i&&t.fields.amount.errors.min,e.errors.amount.max=!i&&t.fields.amount.errors.max,e.showError=t.fields.amount.errors.min||t.fields.amount.errors.max||n}))}validateDesignation(){const e=this.designationDataPoint.validateDesignation(this.viewState.donation.frequency);this.produceViewState((t=>{t.designation.isValid=e.isValid,t.errors.designation.required=e.fields.goal.errors.required}))}resetDesignationValidation(){this.produceViewState((e=>{e.designation.isValid=!0,e.errors.designation.required=!1}))}changeAmount(e){this.resetAmountValidationError(),this.donationDataPoint.resetHintsByDefault(),this.donationDataPoint.amount=e,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.donation.amount=this.donationDataPoint.amount,e.donation.hintOptions=this.donationDataPoint.hintOptions,e.showFrequencyCustomAmountInput=!this.donationDataPoint.currentHint}))}changeCurrentHint(e){this.resetAmountValidationError(),this.donationDataPoint.updateHintsByDefault(e),this.donationDataPoint.amount=e.amount,this.donationDataPoint.setDefaultAmounts(),this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.donation.amount=this.donationDataPoint.amount,e.donation.hintOptions=this.donationDataPoint.hintOptions,e.showFrequencyCustomAmountInput=!this.donationDataPoint.currentHint}))}changeGoal(e){this.designationDataPoint.setGoalKey(e,this.viewState.donation.frequency),this.produceViewState((e=>{e.designation.goalKey=this.designationDataPoint.goalKey})),this.validateDesignation()}changeCurrency(e){this.donationDataPoint.currency=e,this.donationDataPoint.syncHintsAmounts(),this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.donation.currency=this.donationDataPoint.currency,e.donation.amountOptions=[...this.donationDataPoint.amountOptions],e.donation.amount=this.donationDataPoint.amount,e.donation.minAmount=this.donationDataPoint.minAmount,e.donation.hintOptions=this.donationDataPoint.hintOptions})),this.checkoutService.trackCurrencyChange(e)}toggleTribute(){this.tributeDataPoint.isActive=!this.tributeDataPoint.isActive,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.tribute.isActive=this.tributeDataPoint.isActive}))}changeTributeName(e){this.tributeDataPoint.tributeeName=e,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((e=>{e.tribute.name=this.tributeDataPoint.tributeeName,e.tribute.isFilled=this.tributeDataPoint.isFilled}))}addComment(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.checkoutService.makeDataPointRequired("Comment"),this.leave({omitBeforeLeave:!0})}))}savePrevComment(){this.checkoutService.checkoutConfiguration.infrastructureParams.showcase||this.commentDataPoint.savePrevComment()}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.produceViewState((e=>{e.forceHideAverageDonationHintTooltip=!0})),this.validateAmount(!0),this.validateDesignation(),this.viewState.donation.isAmountValid?this.viewState.designation.isValid?(this.checkoutService.updateSessionWidgetDefaults(),this.checkoutService.collectDataPoint([this.tributeDataPoint,this.donationDataPoint,this.designationDataPoint]),!!(null==e?void 0:e.isSynthetic)||!this.openUpsellCurtain()):(this.produceViewState((e=>{e.designationShakeKey+=1})),!1):(this.produceViewState((e=>{e.amountShakeKey+=1,e.showError=!0})),!1)}))}isRateMatchingEnabled(e){if(!e.show)return!1;const t=O()();return null===e.endDate||new Date(e.endDate).getTime()>t}openUpsellCurtain(){const e={tributeIsFilled:this.tributeDataPoint.isFilled,targetFrequency:this.upsellAggregate.getBeforeEnterViewState().targetFrequency,preDonationUpsellIsEnabled:this.checkoutService.getState().preDonationUpsell.isEnabled,locale:this.intl.locale,currentFrequency:this.donationDataPoint.frequency};if(!this.upsellCurtainExperiment.canBeStarted(e))return!1;this.upsellCurtainExperiment.tryStartUpsellEvery4WeeksExperiment({locale:this.intl.locale,tributeIsFilled:this.tributeDataPoint.isFilled,upsellEvery4WeeksExperiment:this.experiments.get(xr.UPSELL_EVERY_4_WEEKS_EXPERIMENT),recurringPlans:this.checkoutService.company.recurringPlans});const t=this.upsellAggregate.getBeforeEnterViewState();return e.targetFrequency=t.targetFrequency,this.upsellCurtainExperiment.tryStart(e),!!this.upsellCurtainExperiment.canOpenUpsellCurtain(e)&&(this.produceViewState((e=>{e.preDonationUpsell=t,e.upsellCurtainShown=!0})),this.upsellAggregate.setShowed(),this.upsellCurtainExperiment.openCurtain(),!0)}closeUpsellCurtain(){this.produceViewState((e=>{e.upsellCurtainShown=!1})),this.upsellCurtainExperiment.closeCurtain()}confirmUpsell(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.upsellAggregate.selectUpsell(e,{lowMonthlyAmount:this.viewState.preDonationUpsell.lowMonthlyAmount,highMonthlyAmount:this.viewState.preDonationUpsell.highMonthlyAmount}),this.leave({omitBeforeLeave:!0})}))}getInitialViewState(){return{locked:!1,isShowcase:!1,amountShakeKey:0,designationShakeKey:0,allCurrenciesList:[],guessedCurrenciesList:[],allowCentsForCharges:this.checkoutService.company.allowCentsForCharges,donation:{frequency:St.EK.ONCE,amountOptions:[0,0,0,0,0,0],amount:null,minAmount:0,canModifyAmount:!0,canSelectCurrency:!0,currency:"USD",isAmountValid:!0,canModifyFrequency:!0,hintOptions:null},errors:{amount:{min:!1,max:!1,required:!1},designation:{required:!1}},showError:!1,comment:{isEnabled:!1,content:"",prevContent:""},tribute:{name:"",isActive:!1,show:!1,isOptional:!1,labelType:St.h2.IN_HONOR_MEMORY,sharingEnabled:!1,isFilled:!1,inHonorOfMaxLength:_A.getInHonorOfMaxLength(this.checkoutService.company.key),isTributeOriented:!1},designation:{show:!1,goalKey:null,goals:[],isEditable:!0,isValid:!0},enabledFlows:{crypto:this.checkoutService.checkoutConfiguration.enabledFlows.crypto,stock:this.checkoutService.checkoutConfiguration.enabledFlows.stock},companyName:this.checkoutService.company.name,donateButtonLabel:"",leftButtonLabel:"",leftButtonFrequency:St.EK.ONCE,rightButtonLabel:"",rightButtonFrequency:St.EK.MONTHLY,flowType:this.checkoutService.type,isTributeInputFocused:!1,forceHideAverageDonationHintTooltip:!1,isRateMatchingEnabled:!1,rateMatching:{show:!1,rate:2,sponsor:null,minAmount:0,endDate:null},showFrequencyCustomAmountInput:!1,upsellCurtainShown:!1,preDonationUpsell:{upsell:{fromAmount:0},currency:"USD",highButtonText:"",lowButtonText:"",highMonthlyAmount:0,lowMonthlyAmount:0,screenTitle:"",questionText:"",questionShortText:"",descriptionText:"",targetFrequency:St.EK.MONTHLY,isAnnualTribute:!1}}}get suggestedPresetAmountsV3Experiment(){return this.experiments.get(xr.SUGGESTED_PRESET_AMOUNTS_V_3_EXPERIMENT)}get aiSuggestions(){return this.checkoutService.checkoutConfiguration.aiSuggestions}get defaultOneTimeSuggestions(){var e;return null!==(e=this.checkoutService.checkoutConfiguration.defaultAmountOptions[St.EK.ONCE])&&void 0!==e?e:[]}get leftButtonLabel(){return gc(this.intl,this.donationDataPoint.lowFrequency)}get rightButtonLabel(){return gc(this.intl,this.donationDataPoint.highFrequency)}get rateMatching(){const e=this.checkoutService.checkoutConfiguration.campaignPage.rateMatching;return{show:e.show,rate:e.rate,sponsor:e.sponsor,minAmount:e.minAmount,endDate:e.endDate}}resetAmountValidationError(){this.produceViewState((e=>{e.errors.amount.min=!1,e.errors.amount.max=!1,e.errors.amount.required=!1,e.showError=!1}))}tryStartSuggestedPresetAmountsV3Experiment(){if(this.suggestedPresetAmountsV3Experiment.tryStart({frequency:this.donationDataPoint.frequency,aiSuggestions:this.aiSuggestions,isCampaignAiEnabled:this.checkoutService.campaignConfig.enableAI,suggestedAmountHints:this.donationDataPoint.hintOptions,canModifyAmount:this.donationDataPoint.canModifyAmount,elementType:this.checkoutService.checkoutConfiguration.element.type}),this.suggestedPresetAmountsV3Experiment.shouldUseExperimentalAiSuggestions()){const e=this.suggestedPresetAmountsV3Experiment.getFormattedExperimentalAiSuggestions({aiSuggestions:this.aiSuggestions,campaignDefaultCurrency:this.checkoutService.campaignConfig.defaultCurrency,currencyService:this.currencyService,suggestionsService:this.suggestionsService});this.donationDataPoint.setSuggestionsAndDisableAi(e)}if(this.suggestedPresetAmountsV3Experiment.shouldUseDefaultSuggestions()){const e=this.suggestedPresetAmountsV3Experiment.getFormattedDefaultSuggestions({defaultCampaignOneTimeSuggestions:this.defaultOneTimeSuggestions,defaultCommonOneTimeSuggestions:Ct[St.EK.ONCE]});this.donationDataPoint.setSuggestionsAndDisableAi(e)}}}class RA extends vA{constructor(e){super(e),this.donationDataPoint=e.donationDataPoint,this.dtdDataPoint=e.dtdDataPoint}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.checkoutService.restoreDTDUpsellFromSnapshot(),this.dtdDataPoint.amount=this.donationDataPoint.total,this.dtdDataPoint.setCurrency(this.donationDataPoint.currency),this.dtdDataPoint.reject();const e=this.intl.formatCurrency(this.donationDataPoint.total,{currency:this.donationDataPoint.currency,display:"floatcents"}),t=this.intl.formatCurrency(this.dtdDataPoint.upsellTotal,{currency:this.donationDataPoint.currency,display:"floatcents"});let i="",n="",a="";const r=this.donationDataPoint.frequency;r!==St.EK.ONCE?(i=this.intl.translate("doubleDonationScreen.donateButtonLabel.recurring",{amount:e,recurringType:this.recurringTypes[r]}),n=this.intl.translate("doubleDonationScreen.buttons.changeAmount.recurring",{amount:t,recurringType:this.recurringTypes[r]}),a=this.intl.translate("doubleDonationScreen.buttons.doNotChangeAmount.recurring",{amount:e,recurringType:this.recurringTypes[r]})):(i=this.intl.translate("doubleDonationScreen.donateButtonLabel.once",{amount:e}),n=this.intl.translate("doubleDonationScreen.buttons.changeAmount.once",{amount:t}),a=this.intl.translate("doubleDonationScreen.buttons.doNotChangeAmount.once",{amount:e})),this.produceViewState((r=>{r.buttonType=this.getButtonType(!1),r.isPaymentScreen=this.isPaymentScreen,r.total=this.donationDataPoint.total,r.frequency=this.donationDataPoint.frequency,r.currency=this.donationDataPoint.currency,r.isFeeCovered=this.donationDataPoint.isFeeCovered,r.employer.name=this.dtdDataPoint.employer.name,r.minimumMatchedAmount=this.dtdDataPoint.minimumMatchedAmount,r.isIntegrationEnabled=this.dtdDataPoint.isIntegrationEnabled,r.showSkipButton=!this.dtdDataPoint.isIntegrationEnabled||!this.isPaymentScreen,r.matchingPromisedAmount=this.dtdDataPoint.upsellDoubledAmount,r.matchingRatio=this.dtdDataPoint.matchingRatio,r.proposedAmount=this.dtdDataPoint.upsellTotal,r.proposedAmountBeforeFeeCovered=this.dtdDataPoint.rawMinimumMatchedAmount,r.formattedTotal=e,r.formattedUpsellTotal=t,r.declineButtonLabel=i,r.changeAmountButtonLabel=n,r.noChangeAmountButtonLabel=a,r.isAlreadyPaidAmountNotMatched=this.isAlreadyPaidAmountNotMatched()})),this.dtdDataPoint.employerDTD&&this.setEmployerViewState(this.dtdDataPoint.employer.name)}))}changeEmployerName(e){e||this.resetEmployerDTD(),this.dtdDataPoint.setEmployer(e),this.produceViewState((e=>{e.employer.name=this.dtdDataPoint.employer.name}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;if(this.pending=!0,this.checkoutService.collectDataPoint([this.dtdDataPoint]),this.checkoutService.syncUpdateCheckoutState(),!this.isPaymentScreen)return this.pending=!1,!0;this.setProcessingState("pending");const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return xi.isSuccess(e)?(this.setProcessingState("success"),yield pr(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),this.pending=!1,!0):e.failureResult.shouldLeave?(this.pending=!1,!0):(this.produceViewState((e=>{e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText"),e.additionalPayErrorMessage=this.checkoutService.additionalPayErrorMessage||""})),this.setProcessingState("error"),this.pending=!1,!1)}))}skip(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.dtdDataPoint.setSkipped(),this.leave()}))}getDTDCompanies(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.dtdDataPoint.getDTDCompanies(e);sC()(t,this.viewState.companies)||this.produceViewState((e=>{e.companies=t}))}))}setEmployerDTD(e){var t;const i=vt()(t=this.viewState.companies).call(t,(t=>t.id===e));return!i||(this.dtdDataPoint.setEmployerDTD(i),this.setEmployerViewState(i.company_name),this.dtdDataPoint.showed=this.viewState.showDTDUpsell&&this.viewState.showDTDUpsellExperiment,!1)}setEmployerViewState(e){const t=this.intl.formatCurrency(this.dtdDataPoint.upsellTotal,{currency:this.donationDataPoint.currency,display:"floatcents"});let i="";const n=this.donationDataPoint.frequency;i=n!==St.EK.ONCE?this.intl.translate("doubleDonationScreen.buttons.changeAmount.recurring",{amount:t,recurringType:this.recurringTypes[n]}):this.intl.translate("doubleDonationScreen.buttons.changeAmount.once",{amount:t}),this.produceViewState((n=>{n.employer.name=e,n.showDTDDescription=!1,n.showDTDUpsell=this.dtdDataPoint.minimumMatchedAmount>this.donationDataPoint.total,n.showDTDUpsellExperiment=!this.isAlreadyPaidAmountNotMatched(),n.showSkipButton=!(this.dtdDataPoint.isIntegrationEnabled&&this.isPaymentScreen||n.showDTDUpsell),n.showEmployerMatchedBlock=this.dtdDataPoint.minimumMatchedAmount<=this.donationDataPoint.total,n.DTDDoubledAmount=this.dtdDataPoint.DTDDoubledAmount,n.minimumMatchedAmount=this.dtdDataPoint.minimumMatchedAmount,n.upsellTotal=this.dtdDataPoint.upsellTotal,n.formattedUpsellTotal=t,n.changeAmountButtonLabel=i,n.DTDUpsellDoubledAmount=this.dtdDataPoint.upsellDoubledAmount,n.buttonType=this.getButtonType(n.showDTDUpsell),n.matchingPromisedAmount=this.dtdDataPoint.upsellDoubledAmount,n.matchingRatio=this.dtdDataPoint.matchingRatio,n.proposedAmount=this.dtdDataPoint.upsellTotal,n.proposedAmountBeforeFeeCovered=this.dtdDataPoint.rawMinimumMatchedAmount,n.isAlreadyPaidAmountNotMatched=this.isAlreadyPaidAmountNotMatched()}))}acceptUpsell(){return(0,m.mG)(this,void 0,void 0,(function*(){this.dtdDataPoint.accept(),yield this.leave()}))}resetEmployerDTD(){this.dtdDataPoint.resetEmployerDTD(),this.produceViewState((e=>{e.showDTDDescription=!0,e.showDTDUpsell=!1,e.showSkipButton=!this.dtdDataPoint.isIntegrationEnabled||!this.isPaymentScreen,e.showEmployerMatchedBlock=!1,e.buttonType=this.getButtonType(e.showDTDUpsell),e.isAlreadyPaidAmountNotMatched=this.isAlreadyPaidAmountNotMatched()}))}getInitialViewState(){return{locked:!1,showDTDDescription:!0,showEmployerMatchedBlock:!1,employer:{name:""},showDTDUpsell:!1,showDTDUpsellExperiment:!1,minimumMatchedAmount:0,DTDUpsellDoubledAmount:0,DTDDoubledAmount:0,currency:"USD",upsellTotal:0,showSkipButton:!0,total:0,processingState:"idle",companies:[],buttonType:"continue",isFeeCovered:!1,matchingPromisedAmount:0,matchingRatio:[1,1],proposedAmount:0,proposedAmountBeforeFeeCovered:0,isIntegrationEnabled:!1,frequency:St.EK.ONCE,formattedTotal:"",formattedUpsellTotal:"",declineButtonLabel:"",changeAmountButtonLabel:"",noChangeAmountButtonLabel:"",isAlreadyPaidAmountNotMatched:!1,isPaymentScreen:!1,payErrorMessage:"",additionalPayErrorMessage:""}}get isPaymentScreen(){return this.name===this.checkoutService.paymentScreenName}get recurringTypes(){return{[St.EK.DAILY]:this.intl.translate("widgetSubscriptionPeriodLabel.daily.noun"),[St.EK.WEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.noun"),[St.EK.BIWEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.noun"),[St.EK.EVERY_4_WEEKS]:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.noun"),[St.EK.MONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.noun"),[St.EK.BIMONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.noun"),[St.EK.QUARTERLY]:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.noun"),[St.EK.SEMIANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.noun"),[St.EK.ANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.annual.noun")}}getButtonType(e){return e?this.isPaymentScreen?"upsell_pay_now":"upsell_pay_later":this.isPaymentScreen?"amount_matched":"continue"}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}isAlreadyPaidAmountNotMatched(){return!this.checkoutService.checkoutConfiguration.infrastructureParams.showcase&&this.checkoutService.isPaid&&this.dtdDataPoint.minimumMatchedAmount>this.donationDataPoint.total}}class LA extends vA{constructor(e){super(e),this.paymentService=e.paymentService}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.checkoutService.restoreMailingAddressFromSnapshot(2)}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;if(this.pending=!0,this.produceViewState((e=>{e.processingState="pending"})),!(yield this.paymentService.startSepaFlow()))return this.produceViewState((e=>{e.shakeKey+=1,e.processingState="idle"})),this.pending=!1,!1;const e=yield this.checkoutService.hold();return this.pending=!1,!xi.isFailure(e)||(yield this.showError(),!1)}))}initiateSepa(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.paymentService.initiateSepa(e)}))}getInitialViewState(){return{processingState:"idle",shakeKey:0,locked:!1}}showError(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="error",e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")})),this.produceViewState((e=>{e.payErrorMessage=""}),!0)}))}}class jA extends vA{constructor(e){super(e),this.donationDataPoint=e.donationDataPoint,this.giftAidDataPoint=e.giftAidDataPoint}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){yield this.checkoutService.resetDataPoint("GiftAid"),this.produceViewState((e=>{var t;e.formattedAmount=this.intl.formatCurrency(null!==(t=this.donationDataPoint.total)&&void 0!==t?t:0,{currency:this.donationDataPoint.currency,display:"floatcents"}),e.frequency=this.donationDataPoint.frequency,e.legalText=this.giftAidDataPoint.legalText,e.isPaymentScreen=this.isPaymentScreen}))}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;if(this.pending=!0,this.checkoutService.collectDataPoint([this.giftAidDataPoint]),!this.isPaymentScreen)return this.pending=!1,!0;this.produceViewState((e=>{e.processingState="pending"}));const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return xi.isSuccess(e)||e.failureResult.shouldLeave?(this.pending=!1,!0):(this.produceViewState((e=>{e.payErrorMessage=this.checkoutService.payErrorMessage,e.processingState="error"})),this.pending=!1,!1)}))}changeGiftAid(e){e?this.giftAidDataPoint.accept():this.giftAidDataPoint.reject()}setShown(){this.giftAidDataPoint.setShown(!0)}changeLegalTextOverflowed(e){this.produceViewState((t=>{t.legalTextOverflowed=e}))}getInitialViewState(){return{locked:!1,showcase:this.checkoutService.checkoutConfiguration.infrastructureParams.showcase,formattedAmount:"",frequency:St.EK.MONTHLY,legalText:"",isPaymentScreen:!1,processingState:"idle",legalTextOverflowed:!1}}get isPaymentScreen(){return this.name===this.checkoutService.paymentScreenName}}class MA extends vA{constructor(e){super(e),this.paymentService=e.paymentService,this.idealDataPoint=e.idealDataPoint}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.checkoutService.getDataPoint("FiatDonation");yield this.paymentService.initiateIDEAL(),this.produceViewState((t=>{t.isSubscription=e.isRecurring,t.bank=this.idealDataPoint.bank}))}))}setBank(e){var t;const i=vt()(t=this.getInitialViewState().options).call(t,(t=>t.id===e));i&&(this.resetValidation(),this.idealDataPoint.bank=i,this.produceViewState((e=>{e.bank=i})))}resetValidation(){this.produceViewState((e=>{e.validation=HC.defaultValidationResult}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;if(this.validate(),!this.viewState.validation.fields.bank.isValid)return this.produceViewState((e=>{e.shakeKey+=1})),!1;this.checkoutService.collectDataPoint([this.idealDataPoint]),this.pending=!0,this.setProcessingState("pending");const e=yield this.checkoutService.hold();return this.pending=!1,!xi.isFailure(e)||(yield this.showError(),!1)}))}getInitialViewState(){return{processingState:"idle",shakeKey:0,locked:!1,isSubscription:!1,bank:{id:"",label:""},options:[{label:"ABN AMRO",id:"abn_amro"},{label:"ASN Bank",id:"asn_bank"},{label:"bunq",id:"bunq"},{label:"ING",id:"ing"},{label:"Knab",id:"knab"},{label:"Rabobank",id:"rabobank"},{label:"RegioBank",id:"regiobank"},{label:"Revolut",id:"revolut"},{label:"SNS",id:"sns_bank"},{label:"Triodos Bank",id:"triodos_bank"},{label:"Van Lanschot",id:"van_lanschot"}],validation:HC.defaultValidationResult}}validate(){this.produceViewState((e=>{e.validation=this.idealDataPoint.validate()}))}showError(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="error",e.errorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")})),this.produceViewState((e=>{e.errorMessage=""}),!0)}))}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}}class FA extends vA{constructor(e){super(e),this.paymentService=e.paymentService,this.donationDataPoint=e.donationDataPoint,this.donorNameDataPoint=e.donorNameDataPoint,this.donorEmailDataPoint=e.donorEmailDataPoint,this.idealDataPoint=e.idealDataPoint}get showNextStepOverview(){const e="success"===this.viewState.processingState;return!this.pending&&!e}back(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.checkoutService.canGoBack;if(this.flow.canGoBack&&e)return(yield this.withPending((()=>this.paymentService.isIDEALPaid())))?this.leave():this.flow.prev()}))}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{var t;e.email=this.donorEmailDataPoint.email,e.name=this.donorNameDataPoint.fullName,e.ideal.bank=this.idealDataPoint.bank.label,e.ideal.id=this.idealDataPoint.bank.id,e.formattedAmount=this.intl.formatCurrency(null!==(t=this.donationDataPoint.total)&&void 0!==t?t:0,{currency:this.donationDataPoint.currency,display:"floatcents"}),e.frequency=this.donationDataPoint.frequency}))}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0,this.setProcessingState("pending"),this.produceViewState((e=>{e.showReturnBankInfo=!0})),this.paymentService.openIDEALConfirmationWindow({onClose:()=>{this.produceViewState((e=>{e.showReturnBankInfo=!1}))}});const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return xi.isSuccess(e)?(this.setProcessingState("success"),yield pr(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),this.pending=!1,!0):e.failureResult.shouldLeave?(this.pending=!1,!0):(this.setProcessingState("error"),this.pending=!1,!1)}))}returnToBankWindow(){this.paymentService.focusIDEALConfirmationWindow()}getInitialViewState(){return{locked:!1,ideal:{bank:"",id:""},email:"",name:"",processingState:"idle",formattedAmount:"",frequency:St.EK.ONCE,errorMessage:"",showReturnBankInfo:!1}}setProcessingState(e){return"error"===e&&this.produceViewState((e=>{e.errorMessage=this.checkoutService.payErrorMessage})),this.produceViewState((t=>{t.processingState=e})),this}}class UA extends vA{constructor(e){super(e),this.frequency=St.EK.ONCE,this.paymentService=e.paymentService,this.donationDataPoint=e.donationDataPoint,this.paymentOptionsDataPoint=e.paymentOptionsDataPoint}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.handleErrors(),this.paymentOptionsDataPoint.calculatePaymentOptionsAvailability({currency:this.donationDataPoint.currency,frequency:this.donationDataPoint.frequency,total:this.donationDataPoint.total||0}),this.ensurePaymentMethodsInitialized(),this.donationDataPoint.calculateSmartCoveringFee(this.checkoutService.checkoutUIState.feeCoveringTouched),this.donationDataPoint.snapshotFeeCoveringSuggestion(this.checkoutService.checkoutUIState.feeCoveringTouched),this.checkoutService.updateSession(),this.paymentOptionsDataPoint.setPaymentMethod(null),this.paymentOptionsDataPoint.setPaymentOption(null);const e=this.getPaymentButtons();this.produceViewState((t=>{t.currency=this.donationDataPoint.currency,t.currencySymbol=this.donationDataPoint.currencySymbol,t.defaultCurrency=this.donationDataPoint.defaultCurrency,t.amount=this.donationDataPoint.amount||(this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?1e4:0),t.frequency=this.donationDataPoint.frequency,t.total=!this.donationDataPoint.amount&&this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?10600:this.donationDataPoint.total,t.processingFee=!this.donationDataPoint.amount&&this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?600:this.donationDataPoint.fee,t.isFeeCovered=this.donationDataPoint.isFeeCovered,t.includeFees=this.donationDataPoint.includeFees,t.showIncludeFee=this.isIncludeFeesSectionVisible(this.donationDataPoint.includeFees),t.prefixCurrencySymbol=this.intl.formatSymbol(this.donationDataPoint.currencySymbol,Qt.PREFIX),t.postfixCurrencySymbol=this.intl.formatSymbol(this.donationDataPoint.currencySymbol,Qt.POSTFIX),t.availableOptions=[...e.available];for(const[i,n]of ei()(t.buttonOptions))n.show=e.show.has(i);t.isStripeAccountConnected=this.paymentOptionsDataPoint.isStripeAccountConnected,t.livemode=this.checkoutService.livemode,t.isRecurring=this.donationDataPoint.isRecurring,t.recurringLabel=this.recurringLabel}))}))}beforeLeave(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.checkoutService.collectDataPoint([this.donationDataPoint,this.paymentOptionsDataPoint]),this.unlock(),!0}))}choosePaymentOption(e,t){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.pending){switch(this.lock(),this.paymentOptionsDataPoint.setPaymentMethod(null),this.paymentOptionsDataPoint.setPaymentOption(e),e){case cg.CARD:this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.CARD);break;case cg.GOOGLE_PAY:return this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?void this.unlock():(this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.GOOGLE_PAY),void(yield this.startGooglePay()));case cg.APPLE_PAY:return this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?void this.unlock():(this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.APPLE_PAY),void(yield this.startApplePay()));case cg.CLICK_TO_PAY:this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.CLICK_TO_PAY);break;case cg.UK_BACS:this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.UK_BACS);break;case cg.AU_BECS:this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.AU_BECS);break;case cg.ACSS:return this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?void this.unlock():(this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.ACSS),this.produceViewState((e=>{e.processingACSSState="pending"})),yield this.paymentService.initiateACSS({onPopupOpen:null==t?void 0:t.onModalShow,onPopupClose:null==t?void 0:t.onModalHide}),yield this.startACSS(),void this.produceViewState((e=>{e.processingACSSState="idle"})));case cg.US_BANK_ACCOUNT:return this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.US_BANK_ACCOUNT),this.paymentOptionsDataPoint.setPaymentOption(cg.US_BANK_ACCOUNT),this.produceViewState((e=>{e.processingUSBankAccountState="pending"})),yield this.paymentService.initiateUSBankAccount({}),this.produceViewState((e=>{e.processingUSBankAccountState="idle"})),this.unlock(),this.leave();case cg.US_BANK_ACCOUNT_VERIFICATION:return this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.US_BANK_ACCOUNT),this.paymentOptionsDataPoint.setPaymentOption(cg.US_BANK_ACCOUNT_VERIFICATION),this.produceViewState((e=>{e.processingUSBankAccountState="pending"})),yield this.paymentService.initiateUSBankAccount({}),this.produceViewState((e=>{e.processingUSBankAccountState="idle"})),this.unlock(),this.leave();case cg.US_BANK_ACCOUNT_INSTANT:return this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.US_BANK_ACCOUNT),this.paymentOptionsDataPoint.setPaymentOption(cg.US_BANK_ACCOUNT_INSTANT),this.produceViewState((e=>{e.processingUSBankAccountState="pending"})),yield this.paymentService.initiateUSBankAccount({onPopupOpen:null==t?void 0:t.onModalShow,onPopupClose:null==t?void 0:t.onModalHide}),this.startUSBankAccount(cg.US_BANK_ACCOUNT_INSTANT);case cg.PAYPAL:throw new Error("Paypal method can not be chosen");case cg.VENMO:throw new Error("Venmo method can not be chosen");case cg.PAYPAL_CONVERSION:return this.paymentOptionsDataPoint.setPaymentOption(cg.PAYPAL_CONVERSION),this.leaveWithoutPaymentOptionsCollect();case cg.SEPA:this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.SEPA);break;case cg.IDEAL:this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.IDEAL);break;default:throw new X(e)}return this.unlock(),this.leave()}}))}initiateVenmo(e){let{element:t,onClick:i,onHide:n}=e;return(0,m.mG)(this,void 0,void 0,(function*(){yield this.paymentService.initiateVenmo({element:t,holdDone:()=>{null==n||n(),this.leave()},onFail:e=>{null==n||n(),this.showError(e.message||this.intl.translate("common.errorOccurredText"),cg.VENMO)},onCancel:()=>{this.unlock(),null==n||n()},onButtonClick:()=>{this.lock(),this.paymentOptionsDataPoint.setPaymentOption(null),null==i||i()}}),yield this.syncButtonsAvailability()}))}closePaypalButton(){return this.paymentService.closePaypalButton()}closeVenmoButton(){return this.paymentService.closeVenmoButton()}initiatePaypal(e){let{element:t,buttonColor:i,onClick:n,onHide:a}=e;return this.paymentService.initiatePaypal({element:t,buttonColor:i,holdDone:()=>{null==a||a(),this.leave()},onFail:e=>{null==a||a(),this.unlock(),this.showError(e.message||this.intl.translate("common.errorOccurredText"),cg.PAYPAL)},onCancel:()=>{this.unlock(),null==a||a()},onButtonClick:()=>{this.lock(),this.paymentOptionsDataPoint.selectedPaymentOption!==cg.PAYPAL_CONVERSION&&this.paymentOptionsDataPoint.setPaymentOption(null),null==n||n()}})}togglePaypalActions(e){return(0,m.mG)(this,void 0,void 0,(function*(){yield this.paymentService.togglePaypalActions(e)}))}startGooglePay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentService.startGooglePay();if(this.unlock(),xi.isSuccess(e))return void(yield this.leave());const t=e.failureResult.message;t&&this.showError(t,cg.GOOGLE_PAY)}))}startApplePay(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentService.startApplePay();if(this.unlock(),xi.isSuccess(e))return void(yield this.leave());const t=e.failureResult.message;t&&this.showError(t,cg.APPLE_PAY)}))}startACSS(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.paymentService.startACSS();if(this.unlock(),xi.isSuccess(e))return void(yield this.leave());const t=e.failureResult.message;t&&this.showError(t,cg.ACSS)}))}startUSBankAccount(e){return(0,m.mG)(this,void 0,void 0,(function*(){const t=yield this.paymentService.startUSBankAccount();if(this.unlock(),xi.isSuccess(t))return void(yield this.leave());const i=t.failureResult.message;i?this.showError(i,e):this.produceViewState((e=>{e.processingUSBankAccountState="idle"}))}))}toggleFeeCovered(){this.donationDataPoint.isFeeCovered=!this.donationDataPoint.isFeeCovered,this.checkoutService.checkoutUIState.feeCoveringTouched=!0,this.produceViewState((e=>{e.isFeeCovered=this.donationDataPoint.isFeeCovered,e.total=this.donationDataPoint.total})),this.paymentOptionsDataPoint.calculatePaymentOptionsAvailability({currency:this.donationDataPoint.currency,frequency:this.donationDataPoint.frequency,total:this.donationDataPoint.total||0}),this.syncButtonsAvailability()}getInitialViewState(){var e;return{showIncludeFee:!0,stripeElementsAvailable:this.isStripeElementsAvailable,amount:0,currency:"USD",currencySymbol:"$",prefixCurrencySymbol:"",postfixCurrencySymbol:"",allowCentsForCharges:this.checkoutService.company.allowCentsForCharges,frequency:St.EK.ONCE,includeFees:St.__.DEFAULT_YES,processingFee:0,total:0,defaultCurrency:"USD",isFeeCovered:!1,availableOptions:[],buttonOptions:mt()(T()(e=ft()(cg)).call(e,(e=>[e,{show:!1}]))),locked:!1,processingACSSState:"idle",processingUSBankAccountState:"idle",isStripeAccountConnected:!1,livemode:!0,isRecurring:!0,recurringLabel:""}}get recurringLabel(){return function(e,t){switch(t){case St.EK.DAILY:return e.translate("paymentMethodScreen.perDay");case St.EK.WEEKLY:return e.translate("paymentMethodScreen.perWeek");case St.EK.BIWEEKLY:return e.translate("paymentMethodScreen.per2Weeks");case St.EK.EVERY_4_WEEKS:return e.translate("paymentMethodScreen.per4Weeks");case St.EK.MONTHLY:return e.translate("paymentMethodScreen.perMonth");case St.EK.BIMONTHLY:return e.translate("paymentMethodScreen.per2Months");case St.EK.QUARTERLY:return e.translate("paymentMethodScreen.perQuarter");case St.EK.SEMIANNUAL:return e.translate("paymentMethodScreen.per6Months");case St.EK.ANNUAL:return e.translate("paymentMethodScreen.perYear");default:return""}}(this.intl,this.donationDataPoint.frequency)}get isStripeElementsAvailable(){return this.checkoutService.checkoutConfiguration.infrastructureParams.env!==St.CB.PRODUCTION||this.checkoutService.checkoutConfiguration.infrastructureParams.isSSLEnabled}getPaymentButtons(){const e=new(q()),t=new(q()),i=this.paymentOptionsDataPoint.allowedPaymentMethods;if(i[St.GZ.APPLE_PAY].available&&(e.add(cg.APPLE_PAY),i[St.GZ.APPLE_PAY].show&&t.add(cg.APPLE_PAY)),e.add(cg.CARD),t.add(cg.CARD),i[St.GZ.PAYPAL].available){const n=this.checkoutService.checkoutConfiguration.company.paypalCurrencies;Be()(n).call(n,this.donationDataPoint.currency)?(e.add(cg.PAYPAL),i[St.GZ.PAYPAL].show&&t.add(cg.PAYPAL)):(e.add(cg.PAYPAL_CONVERSION),i[St.GZ.PAYPAL].show&&t.add(cg.PAYPAL_CONVERSION))}if(i[St.GZ.GOOGLE_PAY].available&&(e.add(cg.GOOGLE_PAY),i[St.GZ.GOOGLE_PAY].show&&t.add(cg.GOOGLE_PAY)),i[St.GZ.VENMO].available&&(e.add(cg.VENMO),i[St.GZ.VENMO].show&&t.add(cg.VENMO)),i[St.GZ.CLICK_TO_PAY].available&&(e.add(cg.CLICK_TO_PAY),i[St.GZ.CLICK_TO_PAY].show&&t.add(cg.CLICK_TO_PAY)),i[St.GZ.US_BANK_ACCOUNT].available){const n=this.checkoutService.checkoutConfiguration.company.stripe.usBankAccount.verification,a=dS(n)||cS(n),r=hS(n);a?(e.add(cg.US_BANK_ACCOUNT_INSTANT),i[St.GZ.US_BANK_ACCOUNT].show&&t.add(cg.US_BANK_ACCOUNT_INSTANT)):r?(e.add(cg.US_BANK_ACCOUNT),i[St.GZ.US_BANK_ACCOUNT].show&&t.add(cg.US_BANK_ACCOUNT)):(e.add(cg.US_BANK_ACCOUNT_VERIFICATION),i[St.GZ.US_BANK_ACCOUNT].show&&t.add(cg.US_BANK_ACCOUNT_VERIFICATION))}return i[St.GZ.UK_BACS].available&&(e.add(cg.UK_BACS),i[St.GZ.UK_BACS].show&&t.add(cg.UK_BACS)),i[St.GZ.AU_BECS].available&&(e.add(cg.AU_BECS),i[St.GZ.AU_BECS].show&&t.add(cg.AU_BECS)),i[St.GZ.ACSS].available&&(e.add(cg.ACSS),i[St.GZ.ACSS].show&&t.add(cg.ACSS)),i[St.GZ.SEPA].available&&(e.add(cg.SEPA),i[St.GZ.SEPA].show&&t.add(cg.SEPA)),i[St.GZ.IDEAL].available&&(e.add(cg.IDEAL),i[St.GZ.IDEAL].show&&t.add(cg.IDEAL)),dg.allSlotsAreTaken(t.size)&&(e.delete(cg.CLICK_TO_PAY),t.delete(cg.CLICK_TO_PAY)),{available:e,show:t}}ensurePaymentMethodsInitialized(){return(0,m.mG)(this,void 0,void 0,(function*(){yield this.paymentService.ensurePaymentMethodsInitialized(),yield this.syncButtonsAvailability()}))}leaveWithoutPaymentOptionsCollect(){return this.checkoutService.collectDataPoint([this.donationDataPoint]),this.unlock(),this.leave({omitBeforeLeave:!0})}syncButtonsAvailability(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.getPaymentButtons();this.produceViewState((t=>{var i;sC()(t.availableOptions,[...e.available])||(F()(i=t.availableOptions).call(i,0,t.availableOptions.length),t.availableOptions.push(...e.available));for(const[i,n]of ei()(t.buttonOptions))n.show=e.show.has(i)}))}))}showError(e,t){this.produceViewState((i=>{t!==cg.US_BANK_ACCOUNT_INSTANT&&t!==cg.US_BANK_ACCOUNT_VERIFICATION&&t!==cg.US_BANK_ACCOUNT||(i.processingUSBankAccountState="error"),i.buttonOptions[t].error=e})),P()((()=>{this.produceViewState((e=>{t!==cg.US_BANK_ACCOUNT_INSTANT&&t!==cg.US_BANK_ACCOUNT_VERIFICATION&&t!==cg.US_BANK_ACCOUNT||(e.processingUSBankAccountState="idle"),e.buttonOptions[t].error=void 0}))}),5e3)}isIncludeFeesSectionVisible(e){var t;return Be()(t=[St.__.DEFAULT_YES,St.__.DEFAULT_NO,St.__.SMART_COVERING]).call(t,e)}lock(){this.togglePaypalActions(!1),this.pending=!0}unlock(){this.togglePaypalActions(!0),this.pending=!1}handleErrors(){const e=this.checkoutService.getState().paymentOptions,t=this.checkoutService.getState().paymentErrors;e.clientPaymentMethod===St.GZ.US_BANK_ACCOUNT&&(t[St.GZ.US_BANK_ACCOUNT]&&e.selectedPaymentOption&&this.showError(this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText"),e.selectedPaymentOption),this.checkoutService.setPaymentError(St.GZ.US_BANK_ACCOUNT,!1)),t[St.GZ.PAYPAL]&&e.clientPaymentMethod===St.GZ.PAYPAL&&(this.showError(this.intl.translate("common.errorOccurredText"),cg.PAYPAL),this.checkoutService.setPaymentError(St.GZ.PAYPAL,!1))}}class BA extends vA{constructor(e){super(e),this.paymentService=e.paymentService,this.donationDataPoint=e.donationDataPoint,this.paypalDataPoint=e.paypalDataPoint}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.paypalDataPoint.isCurrencyConversionApplied=!1;const e=this.checkoutService.checkoutConfiguration.campaign.config,{amount:t,total:i}=this.paypalDataPoint.calculateNewPaypalAmounts(this.donationDataPoint.amount||0,this.donationDataPoint.currency,e.defaultCurrency);this.produceViewState((n=>{n.defaultCurrency=e.defaultCurrency,n.currency=e.defaultCurrency,n.amount=t,n.total=i,n.from.currency=this.donationDataPoint.currency,n.from.amount=this.donationDataPoint.amount||0,n.from.total=this.donationDataPoint.total}))}))}initiatePaypal(e){let{element:t,buttonColor:i,onClick:n,onHide:a}=e;return this.donationDataPoint.currency=this.viewState.currency,this.donationDataPoint.amount=this.viewState.amount,this.paymentService.initiatePaypal({element:t,buttonColor:i,holdDone:()=>{null==a||a(),this.paypalDataPoint.isCurrencyConversionApplied=!0,this.leave()},onFail:e=>{null==a||a(),this.showError(e.message||this.intl.translate("common.errorOccurredText"))},onCancel:a,onButtonClick:n})}beforeLeave(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.paypalDataPoint.isCurrencyConversionApplied||(this.donationDataPoint.currency=this.viewState.from.currency,this.donationDataPoint.amount=this.viewState.from.amount),this.closePaypalButton(),this.checkoutService.collectDataPoint([this.donationDataPoint]),!0}))}closePaypalButton(){return this.paymentService.closePaypalButton()}getInitialViewState(){return{locked:!1,currency:"",defaultCurrency:"",amount:0,total:0,from:{currency:"",amount:0,total:0}}}showError(e){this.produceViewState((t=>{t.errorMessage=e}))}}class GA extends vA{constructor(e){super(e),this.donationDataPoint=e.donationDataPoint,this.postDonationUpsellDataPoint=e.postDonationUpsellDataPoint}get periodLabel(){return this.recurringTypes[this.viewState.period]}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.total=this.donationDataPoint.total,e.currency=this.donationDataPoint.currency,e.recurringMinAmount=this.postDonationUpsellDataPoint.recurringMinAmount,e.amount=this.postDonationUpsellDataPoint.guaranteedAmount,e.startDate=this.postDonationUpsellDataPoint.startDate}))}))}makeAmountInputVisible(){this.produceViewState((e=>{e.showAmountInput=!0}))}changeAmount(e){this.postDonationUpsellDataPoint.amount=e,this.produceViewState((e=>{e.amount=this.postDonationUpsellDataPoint.amount})),this.validateAmount()}setShowedInSession(){return(0,m.mG)(this,void 0,void 0,(function*(){this.checkoutService.checkoutConfiguration.infrastructureParams.showcase||(this.postDonationUpsellDataPoint.setShowed(),yield this.checkoutService.updateSession(),yield this.checkoutService.tryCloseSession())}))}validateAmount(){const e=this.postDonationUpsellDataPoint.validateMinAmount(),t=this.postDonationUpsellDataPoint.validateMaxAmount();this.produceViewState((i=>{i.isAmountValid=e&&t,i.errors.min=!e,i.errors.max=!t}))}isAmountValid(){return(0,m.mG)(this,void 0,void 0,(function*(){return!!this.viewState.isAmountValid||(this.produceViewState((e=>{e.shakeKey+=1})),!1)}))}accept(){return(0,m.mG)(this,void 0,void 0,(function*(){return this.checkoutService.checkoutConfiguration.infrastructureParams.showcase?this.leave():!this.pending&&(yield this.isAmountValid())?(yield this.checkoutService.acceptPostDonationUpsell())?(this.postDonationUpsellDataPoint.accept(),this.pending=!1,this.leave()):void this.produceViewState((e=>{e.confirmError=!0})):void 0}))}getInitialViewState(){return{locked:!1,total:0,currency:"",amount:0,period:J.EK.MONTHLY,showAmountInput:!1,confirmError:!1,recurringMinAmount:0,startDate:(new Date).toString(),isAmountValid:!0,errors:{min:!1,max:!1},shakeKey:0,isShowcase:!1,flowType:this.checkoutService.type}}get recurringTypes(){return{[J.EK.DAILY]:this.intl.translate("widgetSubscriptionPeriodLabel.daily.adverb"),[J.EK.WEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adverb"),[J.EK.BIWEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adverb"),[J.EK.EVERY_4_WEEKS]:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.adverb"),[J.EK.MONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adverb"),[J.EK.BIMONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adverb"),[J.EK.QUARTERLY]:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adverb"),[J.EK.SEMIANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adverb"),[J.EK.ANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.annual.adverb")}}}class qA extends vA{constructor(e){super(e),this.ukBacsDataPoint=e.ukBacsDataPoint}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.checkoutService.restoreMailingAddressFromSnapshot(3),this.produceViewState((e=>{e.accountHolderName=this.ukBacsDataPoint.accountHolderName,e.accountNumber=this.ukBacsDataPoint.accountNumber,e.sortCode=this.ukBacsDataPoint.sortCode,e.termsChecked=this.ukBacsDataPoint.termsAccepted,this.checkoutService.getState().paymentErrors[St.GZ.UK_BACS]&&(e.shakeKey+=1)})),this.checkoutService.getState().paymentErrors[St.GZ.UK_BACS]&&this.setProcessingState("error"),this.checkoutService.setPaymentError(St.GZ.UK_BACS,!1)}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){this.pending=!0;const e=this.ukBacsDataPoint.validate();return e.isValid?(this.setProcessingState("pending"),this.isPaymentScreen?this.pay():this.hold()):(this.produceViewState((t=>{t.errors.sortCode=!e.fields.sortCode.isValid,t.errors.accountNumber=!e.fields.accountNumber.isValid,t.errors.accountHolderName=!e.fields.accountHolderName.isValid,t.errors.termsChecked=!e.fields.termsAccepted.isValid,t.shakeKey+=1})),this.pending=!1,!1)}))}changeSortCode(e){e.length>6||(this.ukBacsDataPoint.sortCode=e,this.produceViewState((e=>{e.errors.sortCode=!1,e.sortCode=this.ukBacsDataPoint.sortCode})))}changeAccountNumber(e){e.length>17||(this.ukBacsDataPoint.accountNumber=e,this.produceViewState((e=>{e.errors.accountNumber=!1,e.accountNumber=this.ukBacsDataPoint.accountNumber})))}changeAccountHolderName(e){this.ukBacsDataPoint.accountHolderName=e,this.produceViewState((e=>{e.errors.accountHolderName=!1,e.accountHolderName=this.ukBacsDataPoint.accountHolderName}))}toggleTermsChecked(){this.ukBacsDataPoint.termsAccepted=!this.ukBacsDataPoint.termsAccepted,this.produceViewState((e=>{e.errors.termsChecked=!1,e.termsChecked=this.ukBacsDataPoint.termsAccepted}))}fillDemoData(e){const t=qA.demoData.sortCode.split(""),i=qA.demoData.accountNumber.split(""),n=qA.demoData.accountHolderName.split(""),a=Uv()((()=>{var r,s,o;if(t.length)null===(r=e.sortCode.current)||void 0===r||r.focus(),this.changeSortCode(this.viewState.sortCode+t.shift());else if(i.length)null===(s=e.accountNumber.current)||void 0===s||s.focus(),this.changeAccountNumber(this.viewState.accountNumber+i.shift());else{if(!n.length)return clearInterval(a);null===(o=e.accountHolderName.current)||void 0===o||o.focus(),this.changeAccountHolderName(this.viewState.accountHolderName+n.shift())}}),50);return()=>clearInterval(a)}getInitialViewState(){return{locked:!1,accountNumber:"",sortCode:"",shakeKey:0,accountHolderName:"",termsChecked:!0,errors:{},processingState:"idle",livemode:this.checkoutService.checkoutConfiguration.infrastructureParams.livemode,companyName:this.checkoutService.checkoutConfiguration.company.name}}get isPaymentScreen(){var e,t;return this.checkoutService.isReadyToRetryPay&&(null===(t=null===(e=this.checkoutService.getState())||void 0===e?void 0:e.paymentOptions)||void 0===t?void 0:t.clientPaymentMethod)===St.GZ.UK_BACS}setProcessingState(e){this.produceViewState((t=>{t.payErrorMessage=this.checkoutService.payErrorMessage,t.processingState=e}))}pay(){return(0,m.mG)(this,void 0,void 0,(function*(){this.pending=!0;const e=yield this.checkoutService.hold();if(xi.isFailure(e))return this.handlePayFailure(e);const t=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return xi.isFailure(t)?this.handlePayFailure(t):(this.setProcessingState("success"),yield pr(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),this.pending=!1,!0)}))}handlePayFailure(e){return(0,m.mG)(this,void 0,void 0,(function*(){return e.failureResult.shouldLeave?(this.pending=!1,!0):(yield this.showError(),this.pending=!1,!1)}))}hold(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=yield this.withPending((()=>this.checkoutService.hold()));return!xi.isFailure(e)||(yield this.showError(),!1)}))}showError(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="error",e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")})),this.produceViewState((e=>{e.payErrorMessage=""}),!0)}))}}qA.demoData={sortCode:"108800",accountNumber:"00012345",accountHolderName:"Michael Smith"};class KA extends vA{constructor(e){super(e),this.donationDataPoint=e.donationDataPoint,this.donorEmailDataPoint=e.donorEmailDataPoint,this.ukBacsDataPoint=e.ukBacsDataPoint}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{var t;e.ukBacs.accountHolderName=this.ukBacsDataPoint.accountHolderName,e.ukBacs.accountNumber=this.ukBacsDataPoint.accountNumber,e.ukBacs.sortCode=this.ukBacsDataPoint.sortCode,e.email=this.donorEmailDataPoint.email,e.company.stripe.ukBacsDisplayName=this.checkoutService.checkoutConfiguration.company.stripe.ukBacsDisplayName,e.formattedAmount=this.intl.formatCurrency(null!==(t=this.donationDataPoint.total)&&void 0!==t?t:0,{currency:this.donationDataPoint.currency,display:"floatcents"}),e.frequency=this.donationDataPoint.frequency}))}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0,this.setProcessingState("pending");const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return xi.isSuccess(e)?(this.pending=!1,this.setProcessingState("success"),yield pr(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),!0):e.failureResult.shouldLeave?(this.pending=!1,!0):(this.pending=!1,yield this.showError(),!1)}))}getInitialViewState(){return{locked:!1,ukBacs:{sortCode:"",accountHolderName:"",accountNumber:""},email:"",company:{stripe:{ukBacsDisplayName:"Stripe"}},processingState:"idle",formattedAmount:"",frequency:St.EK.MONTHLY}}showError(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="error",e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")})),this.produceViewState((e=>{e.payErrorMessage=""}),!0)}))}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}}class VA extends Or{start(e){var t;const i=e;Be()(t=VA.INCLUDED_LOCALES).call(t,i.locale)&&this.widgetKey&&super.start()}get isTestGroup(){return this.isActive&&this.isVariant(Fr.TEST)}}VA.INCLUDED_LOCALES=[rn.c.EN_US,rn.c.EN_GB,rn.c.EN_CA];class HA extends vA{constructor(e,t,i,n){super(n),this.preDonationUpsellDataPoint=e,this.tributeDataPoint=t,this.upsellAggregate=i,this.experiments.register(xr.UPSELL_BUTTONS_EXPERIMENT,VA)}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.startExperiments();const e=this.upsellAggregate.getBeforeEnterViewState();this.produceViewState((t=>{t.currency=e.currency,t.targetFrequency=e.targetFrequency,t.upsell.fromAmount=e.upsell.fromAmount,t.lowMonthlyAmount=e.lowMonthlyAmount,t.highMonthlyAmount=e.highMonthlyAmount,t.isAnnualTribute=e.isAnnualTribute,t.highButtonText=e.highButtonText,t.lowButtonText=e.lowButtonText,t.screenTitle=e.screenTitle,t.questionText=e.questionText,t.descriptionText=e.descriptionText,t.experiments.upsellButtons=this.isUpsellButtonsExperimentEnabled}))}))}setShowed(){this.upsellAggregate.setShowed()}confirm(e){return(0,m.mG)(this,void 0,void 0,(function*(){return this.upsellAggregate.selectUpsell(e,{lowMonthlyAmount:this.viewState.lowMonthlyAmount,highMonthlyAmount:this.viewState.highMonthlyAmount}),this.checkoutService.collectDataPoint([this.preDonationUpsellDataPoint]),this.checkoutService.syncUpdateCheckoutState(),this.leave({omitBeforeLeave:!0})}))}getInitialViewState(){return{locked:!1,upsell:{fromAmount:0},currency:"USD",highButtonText:"",lowButtonText:"",highMonthlyAmount:0,lowMonthlyAmount:0,screenTitle:"",questionText:"",questionShortText:"",descriptionText:"",targetFrequency:St.EK.MONTHLY,isAnnualTribute:!1,experiments:{upsellButtons:!1}}}get isUpsellButtonsExperimentEnabled(){return this.buttonsExperiment.isTestGroup}get buttonsExperiment(){return this.experiments.get(xr.UPSELL_BUTTONS_EXPERIMENT)}get upsellEvery4WeeksExperiment(){return this.experiments.get(xr.UPSELL_EVERY_4_WEEKS_EXPERIMENT)}startExperiments(){this.tryStartUpsellButtonsExperiment(),this.tryStartUpsellEvery4WeeksExperiment()}tryStartUpsellButtonsExperiment(){this.upsellAggregate.isMonthly&&this.buttonsExperiment.start({locale:this.intl.locale})}tryStartUpsellEvery4WeeksExperiment(){this.upsellEvery4WeeksExperiment.start({localeCode:this.intl.locale,recurringPlans:this.checkoutService.company.recurringPlans,isTributeFilled:this.tributeDataPoint.isFilled})}}class YA extends vA{constructor(e,t){super(t),this.usBankAccountDataPoint=e}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.routingNumber=this.usBankAccountDataPoint.routingNumber,e.accountNumber=this.usBankAccountDataPoint.accountNumber,e.accountHolderName=this.usBankAccountDataPoint.accountHolderName})),this.hasPaymentError&&this.showError(),this.checkoutService.setPaymentError(St.GZ.US_BANK_ACCOUNT,!1)}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0,this.setProcessingState("pending");const e=this.usBankAccountDataPoint.validate();if(!e.isValid)return this.produceViewState((t=>{t.errors.routingNumber=!e.fields.routingNumber.isValid,t.errors.accountNumber=!e.fields.accountNumber.isValid,t.errors.accountHolderName=!e.fields.accountHolderName.isValid,t.shakeKey+=1,t.processingState="idle"})),this.pending=!1,!1;const t=yield this.checkoutService.hold();return xi.isSuccess(t)?(this.pending=!1,!0):(this.showError(),this.pending=!1,!1)}))}changeAccountNumber(e){e.length>17||(this.usBankAccountDataPoint.accountNumber=e,this.produceViewState((e=>{e.errors.accountNumber=!1,e.accountNumber=this.usBankAccountDataPoint.accountNumber})))}changeRoutingNumber(e){e.length>9||(this.usBankAccountDataPoint.routingNumber=e,this.produceViewState((e=>{e.errors.routingNumber=!1,e.routingNumber=this.usBankAccountDataPoint.routingNumber})))}changeAccountHolderName(e){this.usBankAccountDataPoint.accountHolderName=e,this.produceViewState((e=>{e.errors.accountHolderName=!1,e.accountHolderName=this.usBankAccountDataPoint.accountHolderName}))}changeAccountType(e){this.usBankAccountDataPoint.accountType=e,this.produceViewState((e=>{e.accountType=this.usBankAccountDataPoint.accountType}))}fillDemoData(e){const t=YA.demoData.routingNumber.split(""),i=YA.demoData.accountNumber.split(""),n=YA.demoData.accountHolderName.split(""),a=Uv()((()=>{var r,s,o;if(t.length)null===(r=e.routingNumber.current)||void 0===r||r.focus(),this.changeRoutingNumber(this.viewState.routingNumber+t.shift());else if(i.length)null===(s=e.accountNumber.current)||void 0===s||s.focus(),this.changeAccountNumber(this.viewState.accountNumber+i.shift());else{if(!n.length)return clearInterval(a);null===(o=e.accountHolderName.current)||void 0===o||o.focus(),this.changeAccountHolderName(this.viewState.accountHolderName+n.shift())}}),50);return()=>clearInterval(a)}getInitialViewState(){return{locked:!1,routingNumber:"",accountNumber:"",accountHolderName:"",accountType:"individual",shakeKey:0,processingState:"idle",errors:{},livemode:this.checkoutService.checkoutConfiguration.infrastructureParams.livemode}}get hasPaymentError(){return this.checkoutService.getState().paymentErrors[St.GZ.US_BANK_ACCOUNT]}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}showError(){this.produceViewState((e=>{e.shakeKey+=1,e.processingState="error",e.errorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")}))}}YA.demoData={routingNumber:"110000000",accountNumber:"000123456789",accountHolderName:"Michael Smith"};class ZA extends vA{constructor(e,t,i,n){super(n),this.usBankAccountDataPoint=e,this.donorNameDataPoint=t,this.donationDataPoint=i}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.usBankAccount.accountHolderName=this.usBankAccountDataPoint.accountHolderName||this.donorNameDataPoint.fullName,e.usBankAccount.accountNumberLast4=this.usBankAccountDataPoint.accountNumberLast4,e.usBankAccount.routingNumber=this.usBankAccountDataPoint.routingNumber,e.usBankAccount.financialInstitution=this.usBankAccountDataPoint.financialInstitution,e.isRecurring=this.donationDataPoint.isRecurring}))}))}beforeLeave(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0,this.setProcessingState("pending");const e=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return xi.isSuccess(e)?(this.pending=!1,this.setProcessingState("success"),yield pr(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave),!0):(this.pending=!1,!!e.failureResult.shouldLeave||(yield this.showError(),!1))}))}getInitialViewState(){return{locked:!1,usBankAccount:{accountHolderName:"",accountNumberLast4:"",routingNumber:"",financialInstitution:"",agreementDate:this.intl.formatDate(new Date,{type:Ge.nx.LONG_WITH_YEAR})},companyName:this.checkoutService.company.name,processingState:"idle",isRecurring:!1}}showError(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.processingState="error",e.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")})),this.produceViewState((e=>{e.payErrorMessage=""}),!0)}))}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}}class $A extends vA{constructor(e,t,i){super(i),this.paymentOptionsDataPoint=e,this.paymentService=t}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.hasPaymentError&&this.showError(),this.checkoutService.setPaymentError(St.GZ.US_BANK_ACCOUNT,!1)}))}authorizeToBank(e){return(0,m.mG)(this,void 0,void 0,(function*(){if(this.pending)return;this.pending=!0,this.setProcessingState("pending"),this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.US_BANK_ACCOUNT),this.paymentOptionsDataPoint.setPaymentOption(cg.US_BANK_ACCOUNT_INSTANT),yield this.paymentService.initiateUSBankAccount({onPopupOpen:null==e?void 0:e.onModalShow,onPopupClose:null==e?void 0:e.onModalHide,verificationType:"instant"});const t=yield this.paymentService.startUSBankAccount();if(xi.isSuccess(t))return this.setProcessingState("idle"),this.pending=!1,this.leave();const i=t.failureResult.message;i?this.showError(i):this.setProcessingState("idle"),this.pending=!1}))}fillDetailsManually(){return(0,m.mG)(this,void 0,void 0,(function*(){if(!this.pending)return this.pending=!0,this.setProcessingState("pending"),this.paymentOptionsDataPoint.setPaymentMethod(St.GZ.US_BANK_ACCOUNT),this.paymentOptionsDataPoint.setPaymentOption(cg.US_BANK_ACCOUNT_VERIFICATION),yield this.paymentService.initiateUSBankAccount({}),this.pending=!1,this.setProcessingState("idle"),this.leave({omitBeforeLeave:!0})}))}getInitialViewState(){return{test:1,processingState:"idle",loginToBankError:"",locked:!1}}get hasPaymentError(){return this.checkoutService.getState().paymentErrors[St.GZ.US_BANK_ACCOUNT]}setProcessingState(e){this.produceViewState((t=>{t.processingState=e}))}showError(e){this.produceViewState((t=>{t.processingState="error",t.loginToBankError=e||this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText")}))}}class zA extends vA{constructor(e,t){super(t),this.usBankAccountDataPoint=e}get amountExample(){return`+${this.intl.formatCurrency(0,{currency:"USD"}).replace("00","xx")}`}get descriptorCodeExample(){return{prefix:"SM",amount:`+${this.intl.formatCurrency(1,{currency:"USD"})}`}}beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.produceViewState((e=>{e.statementDescriptor=this.statementDescriptor,e.verificationType=this.verificationType}))}))}getInitialViewState(){return{locked:!1,statementDescriptor:"",verificationType:"amounts"}}get verificationType(){const e=this.usBankAccountDataPoint.verificationType;if(!e)throw new Error("Verification type is not defined");return e}get statementDescriptor(){switch(this.usBankAccountDataPoint.verificationType){case"descriptor_code":return this.checkoutService.company.stripe.statementDescriptor||this.checkoutService.company.name;case"amounts":return"ACCTVERIFY";default:return""}}}const WA={[fn.US_BANK_ACCOUNT]:class extends YA{},[fn.US_BANK_ACCOUNT_DONATE_OPTIONS]:class extends $A{},[fn.US_BANK_ACCOUNT_CONFIRMATION]:class extends ZA{},[fn.US_BANK_ACCOUNT_VERIFICATION_GUIDE]:class extends zA{},[fn.AU_BECS]:class extends PA{},[fn.CLICK_TO_PAY_SPLASH]:class extends DA{},[fn.CREDIT_CARD]:class extends TA{},[fn.DONATE]:class extends IA{},[fn.DOUBLE]:class extends RA{},[fn.GIFT_AID]:class extends jA{},[fn.PAYMENT_OPTIONS]:class extends UA{},[fn.PAYPAL_CONVERSION]:class extends BA{},[fn.POST_DONATION_UPSELL]:class extends GA{},[fn.SEPA]:class extends LA{},[fn.IDEAL]:class extends MA{},[fn.IDEAL_CONFIRMATION]:class extends FA{},[fn.UK_BACS]:class extends qA{},[fn.UK_BACS_CONFIRMATION]:class extends KA{},[fn.UPSELL]:class extends HA{},[Fa.QUESTIONS]:class extends wA{},[Fa.COMMENT]:class extends SA{},[Fa.MAILING_ADDRESS]:class extends xA{},[Fa.PRIVACY]:class extends kA{},[Fa.THANK_YOU]:class extends NA{},[Fa.REMIND_ME]:class extends vA{beforeEnter(){return(0,m.mG)(this,void 0,void 0,(function*(){this.remindMeLaterDataPoint.setState({shown:!0,used:!1}),this.checkoutService.abandon()}))}updateEmail(e){this.donorEmailDataPoint.email=e,this.produceViewState((t=>{t.email.isValid||(t.email.isValid=XC.defaultValidationResult.fields.email.isValid),t.email.value=e}))}updateIsTermsAndConditionsAccepted(e){this.termsAndConditionsDataPoint.isAccepted=e,this.produceViewState((t=>{t.termsAndConditions.isValid||(t.termsAndConditions.isValid=rb.defaultValidationResult.fields.isAccepted.isValid),t.termsAndConditions.isAccepted=e}))}save(){return(0,m.mG)(this,void 0,void 0,(function*(){const e=this.donorEmailDataPoint.validate().isValid,t=this.termsAndConditionsDataPoint.validate().isValid,i=this.remindMeLaterDataPoint.validate().isValid,n=e&&t&&i;return this.produceViewState((i=>{i.email.isValid=e,i.termsAndConditions.isValid=t})),!!n&&(this.produceViewState((e=>{e.loadingState=!0})),this.remindMeLaterDataPoint.setState({used:!0,shown:!0}),yield this.checkoutService.updateSession(),yield this.checkoutService.abandon(),this.produceViewState((e=>{e.saved=!0,e.loadingState=!1})),!0)}))}saveOnClose(){this.donorEmailDataPoint.validate().isValid||this.updateEmail(""),this.termsAndConditionsDataPoint.validate().isValid||this.updateIsTermsAndConditionsAccepted(!1)}getInitialViewState(){return{locked:!1,email:{value:this.donorEmailDataPoint.email,isValid:!0},termsAndConditions:{isAccepted:this.termsAndConditionsDataPoint.isAccepted,isValid:!0,text:this.termsAndConditionsDataPoint.text},saved:!1,loadingState:!1,isTermsAndConditionsEnabled:this.termsAndConditionsDataPoint.isEnabled}}get remindMeLaterDataPoint(){return this.checkoutService.getDataPoint("RemindMeLater")}get termsAndConditionsDataPoint(){return this.checkoutService.getDataPoint("TermsAndConditions")}get donorEmailDataPoint(){return this.checkoutService.getDataPoint("DonorEmail")}}};class XA{static isDonateScreenController(e,t){return t===fn.DONATE}static isPaymentOptionScreenController(e,t){return t===fn.PAYMENT_OPTIONS}static isCreditCardScreenController(e,t){return t===fn.CREDIT_CARD}static isDoubleDonationScreenController(e,t){return t===fn.DOUBLE}static isGiftAidScreenController(e,t){return t===fn.GIFT_AID}static isUSBankAccountScreenController(e,t){return t===fn.US_BANK_ACCOUNT}static isUSBankAccountDonateOptionsScreenController(e,t){return t===fn.US_BANK_ACCOUNT_DONATE_OPTIONS}static isUSBankAccountConfirmationScreenController(e,t){return t===fn.US_BANK_ACCOUNT_CONFIRMATION}static isUSBankAccountVerificationGuideScreenController(e,t){return t===fn.US_BANK_ACCOUNT_VERIFICATION_GUIDE}static isIDEALScreenController(e,t){return t===fn.IDEAL}static isIDEALConfirmationScreenController(e,t){return t===fn.IDEAL_CONFIRMATION}static isPaypalConversionScreenController(e,t){return t===fn.PAYPAL_CONVERSION}static isSepaConversionScreenController(e,t){return t===fn.SEPA}static isPostDonationUpsellScreenController(e,t){return t===fn.POST_DONATION_UPSELL}static isUKBacsScreenController(e,t){return t===fn.UK_BACS}static isUKBacsConfirmationScreenController(e,t){return t===fn.UK_BACS_CONFIRMATION}static isUpsellScreenController(e,t){return t===fn.UPSELL}static isClickToPaySplashScreenController(e,t){return t===fn.CLICK_TO_PAY_SPLASH}static isAUBecsScreenController(e,t){return t===fn.AU_BECS}static isThankYouScreenController(e,t){return t===Fa.THANK_YOU}static isMailingAddressScreenController(e,t){return t===Fa.MAILING_ADDRESS}constructor(e,t,i,n,a,r,s,o){this.checkoutService=e,this.paymentService=t,this.intl=i,this.debug=n,this.subscriptionPeriodLabelsService=a,this.currencyService=r,this.suggestionsService=s,this.experiments=o}create(e,t){const i=WA[e],n={name:e,flow:t,checkoutService:this.checkoutService,debug:this.debug,intl:this.intl,subscriptionPeriodLabelsService:this.subscriptionPeriodLabelsService,currencyService:this.currencyService,experiments:this.experiments};return XA.isDonateScreenController(i,e)?new i(x()(x()({},n),{suggestionsService:this.suggestionsService,donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),tributeDataPoint:this.checkoutService.getDataPoint("Tribute"),commentDataPoint:this.checkoutService.getDataPoint("Comment"),designationDataPoint:this.checkoutService.getDataPoint("Designation")}),this.upsellAggregate):XA.isPaymentOptionScreenController(i,e)?new i(x()(x()({},n),{paymentService:this.paymentService,donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),paymentOptionsDataPoint:this.checkoutService.getDataPoint("PaymentOptions")})):XA.isCreditCardScreenController(i,e)?new i(x()(x()({},n),{paymentService:this.paymentService,donationDataPoint:this.checkoutService.getDataPoint("FiatDonation")})):XA.isDoubleDonationScreenController(i,e)?new i(x()(x()({},n),{donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),dtdDataPoint:this.checkoutService.getDataPoint("DTD")})):XA.isGiftAidScreenController(i,e)?new i(x()(x()({},n),{donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),giftAidDataPoint:this.checkoutService.getDataPoint("GiftAid")})):XA.isUSBankAccountScreenController(i,e)?new i(this.checkoutService.getDataPoint("USBankAccount"),n):XA.isUSBankAccountDonateOptionsScreenController(i,e)?new i(this.checkoutService.getDataPoint("PaymentOptions"),this.paymentService,n):XA.isUSBankAccountConfirmationScreenController(i,e)?new i(this.checkoutService.getDataPoint("USBankAccount"),this.checkoutService.getDataPoint("DonorName"),this.checkoutService.getDataPoint("FiatDonation"),n):XA.isUSBankAccountVerificationGuideScreenController(i,e)?new i(this.checkoutService.getDataPoint("USBankAccount"),n):XA.isIDEALScreenController(i,e)?new i(x()(x()({},n),{paymentService:this.paymentService,idealDataPoint:this.checkoutService.getDataPoint("IDEAL")})):XA.isIDEALConfirmationScreenController(i,e)?new i(x()(x()({},n),{paymentService:this.paymentService,donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),donorNameDataPoint:this.checkoutService.getDataPoint("DonorName"),donorEmailDataPoint:this.checkoutService.getDataPoint("DonorEmail"),idealDataPoint:this.checkoutService.getDataPoint("IDEAL")})):XA.isPaypalConversionScreenController(i,e)?new i(x()(x()({},n),{paymentService:this.paymentService,donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),paypalDataPoint:this.checkoutService.getDataPoint("PaypalConversion")})):XA.isPostDonationUpsellScreenController(i,e)?new i(x()(x()({},n),{donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),postDonationUpsellDataPoint:this.checkoutService.getDataPoint("PostDonationUpsell")})):XA.isUKBacsScreenController(i,e)?new i(x()(x()({},n),{ukBacsDataPoint:this.checkoutService.getDataPoint("UKBacs")})):XA.isUKBacsConfirmationScreenController(i,e)?new i(x()(x()({},n),{donationDataPoint:this.checkoutService.getDataPoint("FiatDonation"),donorEmailDataPoint:this.checkoutService.getDataPoint("DonorEmail"),ukBacsDataPoint:this.checkoutService.getDataPoint("UKBacs")})):XA.isUpsellScreenController(i,e)?new i(this.checkoutService.getDataPoint("PreDonationUpsell"),this.checkoutService.getDataPoint("Tribute"),this.upsellAggregate,n):XA.isClickToPaySplashScreenController(i,e)||XA.isAUBecsScreenController(i,e)||XA.isSepaConversionScreenController(i,e)?new i(x()(x()({},n),{paymentService:this.paymentService})):XA.isThankYouScreenController(i,e)?new i(this.checkoutService.getDataPoint("FiatDonation"),this.checkoutService.getDataPoint("Tribute"),this.redirectApi,this.sharingApi,n):XA.isMailingAddressScreenController(i,e)?new i(this.checkoutService.getDataPoint("OnBehalfOf"),this.countriesService,n):new i(n)}get redirectApi(){return this.checkoutService.redirectApi}get sharingApi(){var e,t;return this._sharingApi||(this._sharingApi=(e={checkoutType:this.checkoutService.checkoutConfiguration.checkoutType,isShowcase:this.checkoutService.checkoutConfiguration.infrastructureParams.showcase,campaignConfig:this.checkoutService.campaignConfig}).checkoutType===w.PAGE&&(null===(t=e.campaignConfig)||void 0===t?void 0:t.campaignPage)?new cA({sharingChannels:x()(x()({},e.campaignConfig.campaignPage.thankYouScreen.sharing.channels),{copyLink:!1}),sharingLink:e.campaignConfig.campaignPage.thankYouScreen.sharing.link,showcase:e.isShowcase,sharingText:e.campaignConfig.campaignPage.thankYouScreen.sharing.text}):new cA({sharingChannels:x()(x()({},e.campaignConfig.thankYouScreen.sharing.channels),{copyLink:!1}),sharingLink:e.campaignConfig.thankYouScreen.sharing.link,showcase:e.isShowcase,sharingText:e.campaignConfig.thankYouScreen.sharing.text})),this._sharingApi}get countriesService(){return this._countriesService||(this._countriesService=(0,Tb.p)({intl:this.intl,excludePalestineFromCountriesList:this.checkoutService.checkoutConfiguration.featureConfig.excludePalestineFromCountriesList})),this._countriesService}get upsellAggregate(){return this._upsellAggregate||(this._upsellAggregate=new gA(this.checkoutService,this.intl,this.checkoutService.getDataPoint("PreDonationUpsell"),this.checkoutService.getDataPoint("Tribute"))),this._upsellAggregate}}const QA={mandatory:e=>{const t=e(),i=t.paymentOptions,n=t.paymentErrors[St.GZ.PAYPAL]&&i.clientPaymentMethod===St.GZ.PAYPAL,a=t.paymentErrors[St.GZ.US_BANK_ACCOUNT]&&i.selectedPaymentOption===cg.US_BANK_ACCOUNT_INSTANT&&!i.usBankAccountVerificationSetup.isInstantAndAbav;return n||a},next:e=>{const t=e(),i=t.paymentOptions.clientPaymentMethod,n=t.paymentOptions.selectedPaymentOption;if(!i&&!n)throw new Error("clientPaymentMethod and selectedPaymentOption can not be null at the same time");return i?function(e){const t=e.paymentOptions.clientPaymentMethod,i=e.paymentOptions.selectedPaymentOption;switch(t){case St.GZ.CARD:return fn.CREDIT_CARD;case St.GZ.PAYPAL:return Fa.PRIVACY;case St.GZ.CLICK_TO_PAY:return fn.CLICK_TO_PAY_SPLASH;case St.GZ.US_BANK_ACCOUNT:return i===cg.US_BANK_ACCOUNT?fn.US_BANK_ACCOUNT_DONATE_OPTIONS:i===cg.US_BANK_ACCOUNT_INSTANT?e.paymentErrors[St.GZ.US_BANK_ACCOUNT]?fn.US_BANK_ACCOUNT_DONATE_OPTIONS:Fa.PRIVACY:fn.US_BANK_ACCOUNT;case St.GZ.UK_BACS:return fn.UK_BACS;case St.GZ.AU_BECS:return fn.AU_BECS;case St.GZ.SEPA:return fn.SEPA;case St.GZ.IDEAL:return fn.IDEAL;case St.GZ.ACSS:case St.GZ.GOOGLE_PAY:case St.GZ.APPLE_PAY:case St.GZ.VENMO:return Fa.PRIVACY;default:return fn.CREDIT_CARD}}(t):function(e){const t=e.paymentOptions.selectedPaymentOption;switch(t){case cg.PAYPAL_CONVERSION:return fn.PAYPAL_CONVERSION;case cg.US_BANK_ACCOUNT:return fn.US_BANK_ACCOUNT_DONATE_OPTIONS;case cg.US_BANK_ACCOUNT_INSTANT:return Fa.PRIVACY;case cg.US_BANK_ACCOUNT_VERIFICATION:return fn.US_BANK_ACCOUNT;default:throw new Error(`Unhandled selectedPaymentOption "${t}"`)}}(t)}},JA=fn.DONATE;class eE extends Error{constructor(e,t){super(`Can not move to ${e} screen if ${t}`)}}const tE=Ma(Ga);function iE(e){var t;let{checkoutConfiguration:i,intl:n,tracker:a,debug:r,currencyService:s,suggestionsService:o,targetWindow:c,globalWindow:l,sentry:u,paymentMethods:d,stripeLoadingPromise:h,applePayStripeLoadingPromise:m,subscriptionPeriodLabelsService:p,userSession:g,addressService:f,eventEmitter:v,checkoutAPIBridge:S,experiments:C,initialScreen:b,logger:A,stripe:E,requestService:x,paymentMethodAvailabilityManagerRepository:k}=e;const w=new gv(oC.SESSION_UPDATE_DEBOUNCE),N=new cC(a,i,u,w,x),P=new Ib(i,s,f,o,n,g,N,C,a,u,k,{flowType:Dt.MONEY}),D=new Rb(P),T=new hC(D,i,N),_=function(e,t,i,n){const a=e.campaign.config;return new nC(a,t,e,i,n)}(i,r,D,C),O=new aC(i,_,{screenSet:{privacy:Fa.PRIVACY,usBankAccountConfirmation:fn.US_BANK_ACCOUNT_CONFIRMATION,ukBacsConfirmation:fn.UK_BACS_CONFIRMATION,idealConfirmation:fn.IDEAL_CONFIRMATION,double:fn.DOUBLE,mailingAddress:Fa.MAILING_ADDRESS,giftAid:fn.GIFT_AID}}),I=function(e){const t=new Gb(Kb);return new qb(t,e)}(i.campaign.config),R=new Xv(N),L=new Fb(N),j=function(e,t){return new Vb(e,t,{screens:{firstScreen:Hb,unrestrictedExitScreens:Jb,remindMeLaterUnavailableScreens:tA,mobileExitScreens:eA,alwaysRenderedScreens:Zb,screensWithoutTributeBadge:$b,mobileScreensWithoutAskTitle:wo,mobileScreensWithAskText:zb,mobileScreensWithoutFaqLinks:No,mobileScreensWithoutAskPage:Po,screensWithoutAskOverlay:Wb,canNotGoBackScreens:Yb,alwaysShowCloseButtonScreens:Xb,conditionallyShowCloseButtonScreens:Qb}})}(I,_),M=new gS(u,n,k,{stripe:{elementStyles:E.elementStyles,elementClasses:E.elementClasses}}),F=new Mb(i,_,M,D,N,T,s,n,d,c,h,m,{stripe:{elementsOptions:E.elementsOptions}}),U=new Ub(l,i,s,D.getDataPoint("FiatDonation"),D.getDataPoint("PostDonationUpsell"),D.getDataPoint("DonorName"),D.getDataPoint("DonorEmail"),D.getDataPoint("Designation")),B=new OS(D,i,_,T,N,F,j,a,s,n,c,u,M,O,v,S,r,C,R,L,A,U,{screenSet:{thankYou:Fa.THANK_YOU}}),G=new XA(B,F,n,r,p,s,o,C),q=b&&tE(b)?b:void 0;var K;return{checkoutService:B,formFlow:function(e,t,i){const n=new hv(e);return new dv(n,t,i)}(G,(K=q,{defaultInitial:()=>JA,initial:()=>K||JA,screens:{[fn.DONATE]:{next:e=>e().comment.isRequired?Fa.COMMENT:fn.UPSELL},[Fa.COMMENT]:{guard:e=>{const t=e();if(!t.comment.isEnabled)throw new eE(Fa.COMMENT,`"comment.isEnabled" is ${t.comment.isEnabled}`);return!1},next:()=>fn.DONATE},[fn.UPSELL]:{guard:e=>{const t=e();return!!t.preDonationUpsell.upsellCurtainUsed||!(t.preDonationUpsell.isEnabled&&t.designationAllowsRecurring)},next:()=>fn.PAYMENT_OPTIONS},[fn.PAYMENT_OPTIONS]:QA,[fn.CREDIT_CARD]:{mandatory:e=>{const t=e();return t.isReadyToRetryPay&&t.paymentErrors[St.GZ.CARD]},guard:e=>{if(e().paymentOptions.clientPaymentMethod!==St.GZ.CARD)throw new eE(fn.CREDIT_CARD,`"clientPaymentMethod" is not "${St.GZ.CARD}"`);return!1},next:()=>Fa.PRIVACY},[fn.PAYPAL_CONVERSION]:{guard:e=>{if(e().paymentOptions.selectedPaymentOption!==cg.PAYPAL_CONVERSION)throw new eE(fn.PAYPAL_CONVERSION,`"selectedPaymentOption" is not "${cg.PAYPAL_CONVERSION}"`);return!1},next:e=>e().isPaypalCurrencyConversionApplied?Fa.PRIVACY:fn.PAYMENT_OPTIONS},[fn.CLICK_TO_PAY_SPLASH]:{guard:e=>{if(e().paymentOptions.clientPaymentMethod!==St.GZ.CLICK_TO_PAY)throw new eE(fn.CLICK_TO_PAY_SPLASH,`"clientPaymentMethod" is not "${St.GZ.CLICK_TO_PAY}"`);return!1},next:()=>Fa.PRIVACY},[fn.US_BANK_ACCOUNT]:{mandatory:e=>{const t=e(),i=t.paymentOptions;return t.paymentErrors[St.GZ.US_BANK_ACCOUNT]&&i.selectedPaymentOption===cg.US_BANK_ACCOUNT_VERIFICATION},guard:e=>{if(e().paymentOptions.clientPaymentMethod!==St.GZ.US_BANK_ACCOUNT)throw new eE(fn.US_BANK_ACCOUNT,`"clientPaymentMethod" is not "${St.GZ.US_BANK_ACCOUNT}"`);return!1},next:e=>Fa.PRIVACY},[fn.US_BANK_ACCOUNT_DONATE_OPTIONS]:{mandatory:e=>{const t=e(),i=t.paymentOptions;return t.paymentErrors[St.GZ.US_BANK_ACCOUNT]&&i.selectedPaymentOption===cg.US_BANK_ACCOUNT_INSTANT&&i.usBankAccountVerificationSetup.isInstantAndAbav},guard:e=>{if(e().paymentOptions.clientPaymentMethod!==St.GZ.US_BANK_ACCOUNT)throw new eE(fn.US_BANK_ACCOUNT_DONATE_OPTIONS,`"clientPaymentMethod" is not "${St.GZ.US_BANK_ACCOUNT}"`);return!1},next:e=>e().paymentOptions.selectedPaymentOption===cg.US_BANK_ACCOUNT_VERIFICATION?fn.US_BANK_ACCOUNT:Fa.PRIVACY},[fn.US_BANK_ACCOUNT_CONFIRMATION]:{guard:e=>{const t=e();if(t.paymentOptions.clientPaymentMethod!==St.GZ.US_BANK_ACCOUNT)throw new eE(fn.US_BANK_ACCOUNT_CONFIRMATION,`"clientPaymentMethod" is not "${St.GZ.US_BANK_ACCOUNT}"`);return!!t.isPaid},next:e=>e().paymentOptions.usBankAccountVerificationSetup.isMicroDepositOnly?fn.US_BANK_ACCOUNT_VERIFICATION_GUIDE:Fa.QUESTIONS},[fn.US_BANK_ACCOUNT_VERIFICATION_GUIDE]:{guard:e=>{if(e().paymentOptions.clientPaymentMethod!==St.GZ.US_BANK_ACCOUNT)throw new eE(fn.US_BANK_ACCOUNT_VERIFICATION_GUIDE,`"clientPaymentMethod" is not "${St.GZ.US_BANK_ACCOUNT}"`);return!1},next:()=>Fa.QUESTIONS},[fn.UK_BACS]:{mandatory:e=>e().paymentErrors[St.GZ.UK_BACS],guard:e=>{if(e().paymentOptions.clientPaymentMethod!==St.GZ.UK_BACS)throw new eE(fn.UK_BACS,`"clientPaymentMethod" is not "${St.GZ.UK_BACS}"`);return!1},next:e=>{const t=e();return t.isReadyToRetryPay&&!t.hasMailingAddressError?fn.UK_BACS_CONFIRMATION:Fa.PRIVACY}},[fn.UK_BACS_CONFIRMATION]:{guard:e=>{const t=e();if(t.paymentOptions.clientPaymentMethod!==St.GZ.UK_BACS)throw new eE(fn.UK_BACS_CONFIRMATION,`"clientPaymentMethod" is not "${St.GZ.UK_BACS}"`);return!!t.isPaid},next:()=>Fa.QUESTIONS},[fn.AU_BECS]:{guard:e=>{if(e().paymentOptions.clientPaymentMethod!==St.GZ.AU_BECS)throw new eE(fn.AU_BECS,`"clientPaymentMethod" is not "${St.GZ.AU_BECS}"`);return!1},next:()=>Fa.PRIVACY},[fn.SEPA]:{guard:e=>{if(e().paymentOptions.clientPaymentMethod!==St.GZ.SEPA)throw new eE(fn.SEPA,`"clientPaymentMethod" is not "${St.GZ.SEPA}"`);return!1},next:()=>Fa.PRIVACY},[fn.IDEAL]:{guard:e=>{if(e().paymentOptions.clientPaymentMethod!==St.GZ.IDEAL)throw new eE(fn.IDEAL,`"clientPaymentMethod" is not "${St.GZ.IDEAL}"`);return!1},next:()=>Fa.PRIVACY},[fn.IDEAL_CONFIRMATION]:{guard:e=>{const t=e();if(t.paymentOptions.clientPaymentMethod!==St.GZ.IDEAL)throw new eE(fn.IDEAL,`"clientPaymentMethod" is not "${St.GZ.IDEAL}"`);return!!t.isPaid},next:e=>{const t=e();return t.mailingAddress.isEnabled&&!t.mailingAddress.isCollected?Fa.MAILING_ADDRESS:Fa.QUESTIONS}},[Fa.PRIVACY]:{guard:e=>e().isReadyToRetryPay&&e().personalInformation.isCollected,next:e=>{const t=e();return t.mailingAddress.isRequired&&!t.giftAid.isEnabled?Fa.MAILING_ADDRESS:fn.DOUBLE}},[fn.DOUBLE]:{guard:e=>{const t=e();return!(!t.isReadyToRetryPay||!t.doubleDonation.isCollected)||!t.doubleDonation.isEnabled},next:()=>fn.GIFT_AID},[fn.GIFT_AID]:{guard:e=>{const t=e();return!(!t.isReadyToRetryPay||!t.giftAid.isCollected)||!t.giftAid.isEnabled},next:(e,t)=>{const i=e(),n=i.paymentOptions.selectedPaymentOption;if((i.mailingAddress.isRequired||i.giftAid.isAccepted)&&!t.has(Fa.MAILING_ADDRESS))return Fa.MAILING_ADDRESS;if(t.has(Fa.MAILING_ADDRESS))switch(n){case cg.UK_BACS:return fn.UK_BACS_CONFIRMATION;case cg.IDEAL:return fn.IDEAL_CONFIRMATION;case cg.US_BANK_ACCOUNT:case cg.US_BANK_ACCOUNT_INSTANT:case cg.US_BANK_ACCOUNT_VERIFICATION:return fn.US_BANK_ACCOUNT_CONFIRMATION;default:return Fa.QUESTIONS}return n===cg.IDEAL?fn.IDEAL_CONFIRMATION:Fa.MAILING_ADDRESS}},[Fa.MAILING_ADDRESS]:{mandatory:e=>e().hasMailingAddressError,guard:e=>{const t=e();return!(!t.isReadyToRetryPay||!t.mailingAddress.isCollected||t.hasMailingAddressError)||!t.mailingAddress.isEnabled&&!t.giftAid.isAccepted},next:(e,t)=>{const i=e();return i.doubleDonation.isEnabled&&!t.has(fn.DOUBLE)&&i.mailingAddress.isRequired&&!i.giftAid.isAccepted?fn.DOUBLE:i.paymentOptions.selectedPaymentOption===cg.UK_BACS?fn.UK_BACS_CONFIRMATION:i.paymentOptions.clientPaymentMethod===St.GZ.US_BANK_ACCOUNT?fn.US_BANK_ACCOUNT_CONFIRMATION:(i.mailingAddress.isRequired||i.giftAid.isAccepted)&&i.paymentOptions.selectedPaymentOption===cg.IDEAL?fn.IDEAL_CONFIRMATION:Fa.QUESTIONS}},[Fa.QUESTIONS]:{guard:e=>!e().questions.isEnabled,next:()=>fn.POST_DONATION_UPSELL},[fn.POST_DONATION_UPSELL]:{guard:e=>{const t=e();return!(t.postDonationUpsell.isEnabled&&t.designationAllowsRecurring)},next:()=>Fa.THANK_YOU},[Fa.THANK_YOU]:{},[Fa.REMIND_ME]:{final:!0,guard:e=>!e().remindMeLater.show}}}),y()(t=_.get).call(t,_))}}const nE={[Dt.MONEY]:()=>(0,u.mG)(void 0,void 0,void 0,(function*(){return iE})),[Dt.CRYPTO]:()=>{throw new Error(`Not Availaible, ${Dt.CRYPTO}`)},[Dt.STOCK]:()=>{throw new Error(`Not Availaible, ${Dt.CRYPTO}`)}};class aE{constructor(e){this.validators=e}run(e){for(const t of this.validators)if(!t(e))return null;return e}}const rE=[function(e){const t=["ChunkLoadError","LoadScriptError"];return e.stacktrace&&e.stacktrace.frames&&e.type&&-1===Da()(t).call(t,e.type)?e:null},function(e){const t=["17 is not provided","19 is not provided","response status 0","ResizeObserver loop limit exceeded","r._mergeOptions is not a function","google_tag_manager","Stripe.js could not be loaded","Unexpected number '0'. Expected an opening '('","Campaign page render aborted","Checkout render aborted","this.getSetOfTimeouts(...).flat is not a function"],i=e.value;return i?-1!==ug()(t).call(t,(e=>Be()(i).call(i,e)))?null:e:null},function(e){const t=e.userAgent||"";return Be()(t).call(t,"Yeti")?null:e},function(e){return e.stacktrace&&e.stacktrace.frames&&1===e.stacktrace.frames.length&&e.stacktrace.frames[0]&&e.stacktrace.frames[0].filename&&/checkout-sentry-vendor/i.test(e.stacktrace.frames[0].filename)?null:e}],sE=/widget\/[A-Z\d]{8}$/g;class oE{constructor(e){this.errorsStack=[],this.sentry=null,e.forceOff||(e.sentry?this.sentry=e.sentry:function(e,t){return(0,u.mG)(this,void 0,void 0,(function*(){const n=yield i.e(3206).then(i.bind(i,79469));if(!e.uri)return null;if(!("navigator"in window&&window.navigator instanceof window.Navigator))return null;const a=new aE(rE);n.init({enabled:e.env!==St.CB.TESTING,dsn:e.uri,environment:e.env,release:e.version,integrations:[new n.BrowserTracing]});const r=e.mainDomain.split(":").shift(),s=r?[r]:[];return n.configureScope((t=>{var i;t.setTag("scope",e.scope),t.setTag("malformed",!!window.FUN_IS_MALFORMED_ENV),t.setTag("supported_browser",e.isBrowserSupported),t.setTag("supported_browser_version",e.isBrowserSupportedVersion),t.setTag("look_like_bot",""===window.navigator.userAgent||0===(null===(i=window.navigator.languages)||void 0===i?void 0:i.length)||window.navigator.webdriver);const n=(e,t)=>!!t&&-1!==Da()(t).call(t,e);let r=0;t.addEventProcessor(((e,t)=>{var i,o,c;if(r>=10)return null;const l=t.originalException;if(l instanceof Li){const t=l[_i];t&&R()(t)&&(e.fingerprint=t)}if(null===(i=e.exception)||void 0===i?void 0:be()(i))for(let t=0;t<be()(e.exception).length;t++){var u;const i=a.run(x()(x()({},be()(e.exception)[t]),{userAgent:null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent}));if(!i||!i.stacktrace||!i.stacktrace.frames)return null;const l=wr()(u=i.stacktrace.frames).call(u,(e=>S()(s).call(s,(t=>n(t,e.filename))))),d=i.stacktrace.frames[0];if((null===(c=d.filename)||void 0===c?void 0:c.match(sE))&&d.function&&(e.fingerprint=["{{ default }}",String(d.function)]),l)return r+=1,e}return null}))})),g()(t).call(t,(e=>{n.captureException(e)})),n}))}(e,this.errorsStack).then((e=>{this.sentry=e,this.errorsStack=[]})))}getErrorHandler(){return(e,t)=>this.captureError(e,t)}captureError(e,t){if(this.sentry)return this.sentry.captureException(e,t),void console.error(e);this.errorsStack.push(e),console.error(e)}getSentryInstance(){return{captureException:(e,t)=>this.captureError(e,t),configureScope:e=>{this.sentry&&this.sentry.configureScope(e)}}}}class cE extends k{constructor(e,t,i,n,a,r,s,o,c){super(e,t),this.checkoutUI=e,this.embedTracker=i,this.debug=n,this.keysKeeper=a,this.targetWindow=r,this.globalWindow=s,this.params=o,this.sentry=c}get questionsScreenPageCount(){return this.checkoutCore.flowManager.questionsScreenPageCount}update(e){return(0,u.mG)(this,void 0,void 0,(function*(){this.checkoutCore.dispose(),this.removeStripeIframes(this.globalWindow.document),this.removeStripeIframes(this.targetWindow.document);const t=new Jr(this.embedTracker,this.debug,this.keysKeeper,new(h()),this.targetWindow,this.globalWindow,x()(x()({},this.params),{resolvedConfig:this.convertShowcaseConfigToCheckoutConfig(e),isMobile:e.isMobile,localeCode:e.localeCode||""}),nE,this.sentry),i=this.isFlowTypeChanged(t);this.checkoutCore=t,yield t.run({initialScreen:e.initialScreen,localeCode:e.localeCode||t.checkoutConfiguration.campaign.config.localization.defaultLocale}),yield this.checkoutUI.replaceCore(this.checkoutCore,{forceRender:i}),this.updateIframeHtmlClass(e.isMobile)}))}removeStripeIframes(e){const t=e.querySelectorAll('iframe[name*="privateStripe"]');g()(t).call(t,(e=>{e.remove()}))}convertShowcaseConfigToCheckoutConfig(e){return(0,jt.zm)(e)}isFlowTypeChanged(e){return this.checkoutCore.checkoutConfiguration.defaultFlowType!==e.checkoutConfiguration.defaultFlowType}updateIframeHtmlClass(e){const t=this.targetWindow.document.querySelector("html");e?null==t||t.classList.remove("desktop-view"):null==t||t.classList.add("desktop-view")}}class lE extends tv{replaceCore(e,t){return(0,u.mG)(this,void 0,void 0,(function*(){this.checkoutCore=e,(null==t?void 0:t.forceRender)?yield this.forceRender():(yield this.configure(),yield this.render(),yield this.checkoutCore.flowManager.restart())}))}configure(){return(0,u.mG)(this,void 0,void 0,(function*(){this.iframe.configure({locale:this.checkoutCore.intl.locale,styles:yield cv(this.checkoutCore.intl.language),showcase:!0})}))}forceRender(){return(0,u.mG)(this,void 0,void 0,(function*(){this.regenerateKey(),yield this.render(),this.show()}))}}const uE=(e,t,n,a,r)=>(0,u.mG)(void 0,void 0,void 0,(function*(){const s=function(e){return function(e){const t=[/^https?:\/\/translate\.googleusercontent\.com/i,/^file:\/\/\//,/^https?:\/\/craigchurchministries\.org/i,/^https?:\/\/heartwoodhaven\.org/i,/^https?:\/\/wordpress-506039-2071925\.cloudwaysapps\.com/i];window.FUN_EXPERIMENTAL_SENTRY||t.push(/^https?:\/\/.*\.?mozilla\.org/i);const i="SQUARESPACE_ROLLUPS"in window||"Squarespace"in window,n=S()(t).call(t,(e=>e.test(window.location.href))),a=window.Sentry,r=window.FUN_DASHBOARD;return new oE({env:e.env,uri:e.uri,mainDomain:e.mainDomain,version:e.version,forceOff:!r&&(n||i||!!a),sentry:r&&a?a:void 0,isBrowserSupported:e.isBrowserSupported,isBrowserSupportedVersion:e.isBrowserSupportedVersion,scope:e.scope})}({uri:e.integrations.sentryUri,version:e.embedVersion,mainDomain:e.mainDomain,env:e.env,isBrowserSupported:e.browserData.isCommonBrowser,isBrowserSupportedVersion:e.browserData.isSupported,scope:"checkout"}).getSentryInstance()}(a);try{if(a.showcase){const i=yield function(e,t,i,n,a,r){return(0,u.mG)(this,void 0,void 0,(function*(){const s=t.createInstance("ShowcaseCheckout");s.log("checkoutCreateParams",n);const o=yield ov(n),c=b("#root",o),l=A(o),u=new(h()),d=new Jr(e,s,i,u,l.target,l.global,n,nE,a),m=new lE(c,o,u,d.sentryInstance,s,d),p=new cE(m,d,e,s,i,l.target,l.global,n,a);yield d.run({initialScreen:n.initialScreen,localeCode:d.checkoutConfiguration.campaign.config.localization.defaultLocale});const g={locale:d.intl.locale};return o.configure(g),yield m.open({preloadFirstScreen:!1,abortController:r}),s.log("Opened"),p}))}(e,t,n,a,s,r);return i}return yield function(e,t,n,a,r){var s;return(0,u.mG)(this,void 0,void 0,(function*(){const o=t.createInstance("Checkout");o.log("checkoutCreateParams",a);const c=yield ov(a),l=b("#root",c),u=A(c),d=null===(s=a.infrastructureQueryParams)||void 0===s?void 0:s._fundraiseup_country;if(!a.livemode&&d){const e=yield function(e){return(0,m.mG)(this,void 0,void 0,(function*(){return function(e,t){const i=e[t];return{location:{countryCode:t,city:"TEST_PANEL",country:"TEST_PANEL"},langCurrencies:i||["USD"],countryCurrencies:i||["USD"]}}((yield Promise.resolve().then(i.t.bind(i,59222,19))).default,e)}))}(d);a.resolvedConfig.config.currencies.countryCurrencies=e.countryCurrencies,a.resolvedConfig.config.currencies.langCurrencies=e.langCurrencies,a.resolvedConfig.user.address.countryCode=d}const p=new(h()),g=new Jr(e,o,n,p,u.target,u.global,a,nE,r),f=new tv(l,c,p,g.sentryInstance,o,g);c.configure({locale:g.intl.locale,styles:yield cv(g.intl.language)});const y=new C(u.global),v=new k(f,g,y);return yield g.run(),v.initialize(),yield f.onHide((e=>{v.destroy({shouldReopen:e.shouldReopen}),o.log("Closed")})).open({preloadFirstScreen:!1}),y.hideAll(),o.log("Opened"),g.logger.checkoutOpen({key:g.checkoutConfiguration.campaign.key,name:g.checkoutConfiguration.campaign.name},g.checkoutAPIBridge.getOpenParams()),v}))}(e,t,n,a,s)}catch(e){throw s.captureException(e),e}}));(0,l.k)().provide(17,(()=>uE))},99828:function(e,t,i){"use strict";i.d(t,{p:function(){return h}});var n=i(90899),a=i.n(n),r=i(50381),s=i.n(r),o=i(49924),c=i.n(o);i(33093),i(97715);var l=i(46301);class u{constructor(e,t){this.intlService=e,this.params=t,this.countries=this.getInitialCountriesList()}getMailingAddressCountriesList(){var e;return a()(e=this.countries).call(e,(e=>{let{countryName:t,countryCode:i}=e;return{countryName:t,countryCode:i}}))}getTelInputCountries(){var e;const t=s()(e=this.countries).call(e,(e=>"dialCode"in e));return a()(t).call(t,(e=>({name:e.countryName,iso2:e.countryCode,dialCode:e.dialCode,priority:e.priority||0,areaCodes:e.areaCodes||null})))}get language(){return this.intlService.language}getInitialCountriesList(){var e;let t=[{countryName:this.intlService.translate("countries.afghanistan")||"Afghanistan",countryCode:"AF",dialCode:"93"},{countryName:this.intlService.translate("countries.albania")||"Albania",countryCode:"AL",dialCode:"355"},{countryName:this.intlService.translate("countries.algeria")||"Algeria",countryCode:"DZ",dialCode:"213"},{countryName:this.intlService.translate("countries.americanSamoa")||"American Samoa",countryCode:"AS",dialCode:"1684"},{countryName:this.intlService.translate("countries.andorra")||"Andorra",countryCode:"AD",dialCode:"376"},{countryName:this.intlService.translate("countries.angola")||"Angola",countryCode:"AO",dialCode:"244"},{countryName:this.intlService.translate("countries.anguilla")||"Anguilla",countryCode:"AI",dialCode:"1264"},{countryName:this.intlService.translate("countries.antiguaAndBarbuda")||"Antigua and Barbuda",countryCode:"AG",dialCode:"1268"},{countryName:this.intlService.translate("countries.argentina")||"Argentina",countryCode:"AR",dialCode:"54"},{countryName:this.intlService.translate("countries.armenia")||"Armenia",countryCode:"AM",dialCode:"374"},{countryName:this.intlService.translate("countries.aruba")||"Aruba",countryCode:"AW",dialCode:"297"},{countryName:this.intlService.translate("countries.australia")||"Australia",countryCode:"AU",dialCode:"61",priority:0},{countryName:this.intlService.translate("countries.austria")||"Austria",countryCode:"AT",dialCode:"43"},{countryName:this.intlService.translate("countries.alandIslands")||"land Islands",countryCode:"AX",dialCode:"358",priority:1},{countryName:this.intlService.translate("countries.azerbaijan")||"Azerbaijan",countryCode:"AZ",dialCode:"994"},{countryName:this.intlService.translate("countries.bahamas")||"Bahamas",countryCode:"BS",dialCode:"1242"},{countryName:this.intlService.translate("countries.bahrain")||"Bahrain",countryCode:"BH",dialCode:"973"},{countryName:this.intlService.translate("countries.bangladesh")||"Bangladesh",countryCode:"BD",dialCode:"880"},{countryName:this.intlService.translate("countries.barbados")||"Barbados",countryCode:"BB",dialCode:"1246"},{countryName:this.intlService.translate("countries.belarus")||"Belarus",countryCode:"BY",dialCode:"375"},{countryName:this.intlService.translate("countries.belgium")||"Belgium",countryCode:"BE",dialCode:"32"},{countryName:this.intlService.translate("countries.belize")||"Belize",countryCode:"BZ",dialCode:"501"},{countryName:this.intlService.translate("countries.benin")||"Benin",countryCode:"BJ",dialCode:"229"},{countryName:this.intlService.translate("countries.bermuda")||"Bermuda",countryCode:"BM",dialCode:"1441"},{countryName:this.intlService.translate("countries.bhutan")||"Bhutan",countryCode:"BT",dialCode:"975"},{countryName:this.intlService.translate("countries.bolivia")||"Bolivia",countryCode:"BO",dialCode:"591"},{countryName:this.intlService.translate("countries.bosniaAndHerzegovina")||"Bosnia and Herzegovina",countryCode:"BA",dialCode:"387"},{countryName:this.intlService.translate("countries.botswana")||"Botswana",countryCode:"BW",dialCode:"267"},{countryName:this.intlService.translate("countries.brazil")||"Brazil",countryCode:"BR",dialCode:"55"},{countryName:this.intlService.translate("countries.britishIndianOceanTerritory")||"British Indian Ocean Territory",countryCode:"IO",dialCode:"246"},{countryName:this.intlService.translate("countries.britishVirginIslands")||"British Virgin Islands",countryCode:"VG",dialCode:"1284"},{countryName:this.intlService.translate("countries.brunei")||"Brunei",countryCode:"BN",dialCode:"673"},{countryName:this.intlService.translate("countries.bulgaria")||"Bulgaria",countryCode:"BG",dialCode:"359"},{countryName:this.intlService.translate("countries.burkinaFaso")||"Burkina Faso",countryCode:"BF",dialCode:"226"},{countryName:this.intlService.translate("countries.burundi")||"Burundi",countryCode:"BI",dialCode:"257"},{countryName:this.intlService.translate("countries.cambodia")||"Cambodia",countryCode:"KH",dialCode:"855"},{countryName:this.intlService.translate("countries.cameroon")||"Cameroon",countryCode:"CM",dialCode:"237"},{countryName:this.intlService.translate("countries.canada")||"Canada",countryCode:"CA",dialCode:"1",priority:1,areaCodes:["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]},{countryName:this.intlService.translate("countries.capeVerde")||"Cape Verde",countryCode:"CV",dialCode:"238"},{countryName:this.intlService.translate("countries.caribbeanNetherlands")||"Caribbean Netherlands",countryCode:"BQ",dialCode:"599",priority:1},{countryName:this.intlService.translate("countries.caymanIslands")||"Cayman Islands",countryCode:"KY",dialCode:"1345"},{countryName:this.intlService.translate("countries.centralAfricanRepublic")||"Central African Republic",countryCode:"CF",dialCode:"236"},{countryName:this.intlService.translate("countries.chad")||"Chad",countryCode:"TD",dialCode:"235"},{countryName:this.intlService.translate("countries.chile")||"Chile",countryCode:"CL",dialCode:"56"},{countryName:this.intlService.translate("countries.china")||"China",countryCode:"CN",dialCode:"86"},{countryName:this.intlService.translate("countries.christmasIsland")||"Christmas Island",countryCode:"CX",dialCode:"61",priority:2},{countryName:this.intlService.translate("countries.cocos")||"Cocos Islands",countryCode:"CC",dialCode:"61",priority:1},{countryName:this.intlService.translate("countries.colombia")||"Colombia",countryCode:"CO",dialCode:"57"},{countryName:this.intlService.translate("countries.comoros")||"Comoros",countryCode:"KM",dialCode:"269"},{countryName:this.intlService.translate("countries.congoDRC")||"Congo (DRC)",countryCode:"CD",dialCode:"243"},{countryName:this.intlService.translate("countries.congoRepublic")||"Congo (Republic)",countryCode:"CG",dialCode:"242"},{countryName:this.intlService.translate("countries.cookIslands")||"Cook Islands",countryCode:"CK",dialCode:"682"},{countryName:this.intlService.translate("countries.costaRica")||"Costa Rica",countryCode:"CR",dialCode:"506"},{countryName:this.intlService.translate("countries.coteDIvoire")||"Cte dIvoire",countryCode:"CI",dialCode:"225"},{countryName:this.intlService.translate("countries.croatia")||"Croatia",countryCode:"HR",dialCode:"385"},{countryName:this.intlService.translate("countries.cuba")||"Cuba",countryCode:"CU",dialCode:"53"},{countryName:this.intlService.translate("countries.curasao")||"Curaao",countryCode:"CW",dialCode:"599",priority:0},{countryName:this.intlService.translate("countries.cyprus")||"Cyprus",countryCode:"CY",dialCode:"357"},{countryName:this.intlService.translate("countries.czechRepublic")||"Czech Republic",countryCode:"CZ",dialCode:"420"},{countryName:this.intlService.translate("countries.denmark")||"Denmark",countryCode:"DK",dialCode:"45"},{countryName:this.intlService.translate("countries.djibouti")||"Djibouti",countryCode:"DJ",dialCode:"253"},{countryName:this.intlService.translate("countries.dominica")||"Dominica",countryCode:"DM",dialCode:"1767"},{countryName:this.intlService.translate("countries.dominicanRepublic")||"Dominican Republic",countryCode:"DO",dialCode:"1",priority:2,areaCodes:["809","829","849"]},{countryName:this.intlService.translate("countries.ecuador")||"Ecuador",countryCode:"EC",dialCode:"593"},{countryName:this.intlService.translate("countries.egypt")||"Egypt",countryCode:"EG",dialCode:"20"},{countryName:this.intlService.translate("countries.elSalvador")||"El Salvador",countryCode:"SV",dialCode:"503"},{countryName:this.intlService.translate("countries.equatorialGuinea")||"Equatorial Guinea",countryCode:"GQ",dialCode:"240"},{countryName:this.intlService.translate("countries.eritrea")||"Eritrea",countryCode:"ER",dialCode:"291"},{countryName:this.intlService.translate("countries.estonia")||"Estonia",countryCode:"EE",dialCode:"372"},{countryName:this.intlService.translate("countries.ethiopia")||"Ethiopia",countryCode:"ET",dialCode:"251"},{countryName:this.intlService.translate("countries.falklandIslands")||"Falkland Islands",countryCode:"FK",dialCode:"500"},{countryName:this.intlService.translate("countries.faroeIslands")||"Faroe Islands",countryCode:"FO",dialCode:"298"},{countryName:this.intlService.translate("countries.fiji")||"Fiji",countryCode:"FJ",dialCode:"679"},{countryName:this.intlService.translate("countries.finland")||"Finland",countryCode:"FI",dialCode:"358",priority:0},{countryName:this.intlService.translate("countries.france")||"France",countryCode:"FR",dialCode:"33"},{countryName:this.intlService.translate("countries.frenchGuiana")||"French Guiana",countryCode:"GF",dialCode:"594"},{countryName:this.intlService.translate("countries.frenchPolynesia")||"French Polynesia",countryCode:"PF",dialCode:"689"},{countryCode:"TF",countryName:this.intlService.translate("countries.frenchSouthernTerritories")||"French Southern Territories"},{countryName:this.intlService.translate("countries.gabon")||"Gabon",countryCode:"GA",dialCode:"241"},{countryName:this.intlService.translate("countries.gambia")||"Gambia",countryCode:"GM",dialCode:"220"},{countryName:this.intlService.translate("countries.georgia")||"Georgia",countryCode:"GE",dialCode:"995"},{countryName:this.intlService.translate("countries.germany")||"Germany",countryCode:"DE",dialCode:"49"},{countryName:this.intlService.translate("countries.ghana")||"Ghana",countryCode:"GH",dialCode:"233"},{countryName:this.intlService.translate("countries.gibraltar")||"Gibraltar",countryCode:"GI",dialCode:"350"},{countryName:this.intlService.translate("countries.greece")||"Greece",countryCode:"GR",dialCode:"30"},{countryName:this.intlService.translate("countries.greenland")||"Greenland",countryCode:"GL",dialCode:"299"},{countryName:this.intlService.translate("countries.grenada")||"Grenada",countryCode:"GD",dialCode:"1473"},{countryName:this.intlService.translate("countries.guadeloupe")||"Guadeloupe",countryCode:"GP",dialCode:"590",priority:0},{countryName:this.intlService.translate("countries.guam")||"Guam",countryCode:"GU",dialCode:"1671"},{countryName:this.intlService.translate("countries.guatemala")||"Guatemala",countryCode:"GT",dialCode:"502"},{countryName:this.intlService.translate("countries.guernsey")||"Guernsey",countryCode:"GG",dialCode:"44",priority:1},{countryName:this.intlService.translate("countries.guinea")||"Guinea",countryCode:"GN",dialCode:"224"},{countryName:this.intlService.translate("countries.guineaBissau")||"Guinea-Bissau",countryCode:"GW",dialCode:"245"},{countryName:this.intlService.translate("countries.guyana")||"Guyana",countryCode:"GY",dialCode:"592"},{countryName:this.intlService.translate("countries.haiti")||"Haiti",countryCode:"HT",dialCode:"509"},{countryName:this.intlService.translate("countries.honduras")||"Honduras",countryCode:"HN",dialCode:"504"},{countryName:this.intlService.translate("countries.hongKong")||"Hong Kong",countryCode:"HK",dialCode:"852"},{countryName:this.intlService.translate("countries.hungary")||"Hungary",countryCode:"HU",dialCode:"36"},{countryName:this.intlService.translate("countries.iceland")||"Iceland",countryCode:"IS",dialCode:"354"},{countryName:this.intlService.translate("countries.india")||"India",countryCode:"IN",dialCode:"91"},{countryName:this.intlService.translate("countries.indonesia")||"Indonesia",countryCode:"ID",dialCode:"62"},{countryName:this.intlService.translate("countries.iran")||"Iran",countryCode:"IR",dialCode:"98"},{countryName:this.intlService.translate("countries.iraq")||"Iraq",countryCode:"IQ",dialCode:"964"},{countryName:this.intlService.translate("countries.ireland")||"Ireland",countryCode:"IE",dialCode:"353"},{countryName:this.intlService.translate("countries.isleOfMan")||"Isle of Man",countryCode:"IM",dialCode:"44",priority:2},{countryName:this.intlService.translate("countries.israel")||"Israel",countryCode:"IL",dialCode:"972"},{countryName:this.intlService.translate("countries.italy")||"Italy",countryCode:"IT",dialCode:"39",priority:0},{countryName:this.intlService.translate("countries.jamaica")||"Jamaica",countryCode:"JM",dialCode:"1876"},{countryName:this.intlService.translate("countries.japan")||"Japan",countryCode:"JP",dialCode:"81"},{countryName:this.intlService.translate("countries.jersey")||"Jersey",countryCode:"JE",dialCode:"44",priority:3},{countryName:this.intlService.translate("countries.jordan")||"Jordan",countryCode:"JO",dialCode:"962"},{countryName:this.intlService.translate("countries.kazakhstan")||"Kazakhstan",countryCode:"KZ",dialCode:"7",priority:1},{countryName:this.intlService.translate("countries.kenya")||"Kenya",countryCode:"KE",dialCode:"254"},{countryName:this.intlService.translate("countries.kiribati")||"Kiribati",countryCode:"KI",dialCode:"686"},{countryName:this.intlService.translate("countries.kosovo")||"Kosovo",countryCode:"XK",dialCode:"383"},{countryName:this.intlService.translate("countries.kuwait")||"Kuwait",countryCode:"KW",dialCode:"965"},{countryName:this.intlService.translate("countries.kyrgyzstan")||"Kyrgyzstan",countryCode:"KG",dialCode:"996"},{countryName:this.intlService.translate("countries.laos")||"Laos",countryCode:"LA",dialCode:"856"},{countryName:this.intlService.translate("countries.latvia")||"Latvia",countryCode:"LV",dialCode:"371"},{countryName:this.intlService.translate("countries.lebanon")||"Lebanon",countryCode:"LB",dialCode:"961"},{countryName:this.intlService.translate("countries.lesotho")||"Lesotho",countryCode:"LS",dialCode:"266"},{countryName:this.intlService.translate("countries.liberia")||"Liberia",countryCode:"LR",dialCode:"231"},{countryName:this.intlService.translate("countries.libya")||"Libya",countryCode:"LY",dialCode:"218"},{countryName:this.intlService.translate("countries.liechtenstein")||"Liechtenstein",countryCode:"LI",dialCode:"423"},{countryName:this.intlService.translate("countries.lithuania")||"Lithuania",countryCode:"LT",dialCode:"370"},{countryName:this.intlService.translate("countries.luxembourg")||"Luxembourg",countryCode:"LU",dialCode:"352"},{countryName:this.intlService.translate("countries.macau")||"Macau",countryCode:"MO",dialCode:"853"},{countryName:this.intlService.translate("countries.macedonia")||"Macedonia (FYROM)",countryCode:"MK",dialCode:"389"},{countryName:this.intlService.translate("countries.madagascar")||"Madagascar",countryCode:"MG",dialCode:"261"},{countryName:this.intlService.translate("countries.malawi")||"Malawi",countryCode:"MW",dialCode:"265"},{countryName:this.intlService.translate("countries.malaysia")||"Malaysia",countryCode:"MY",dialCode:"60"},{countryName:this.intlService.translate("countries.maldives")||"Maldives",countryCode:"MV",dialCode:"960"},{countryName:this.intlService.translate("countries.mali")||"Mali",countryCode:"ML",dialCode:"223"},{countryName:this.intlService.translate("countries.malta")||"Malta",countryCode:"MT",dialCode:"356"},{countryName:this.intlService.translate("countries.marshallIslands")||"Marshall Islands",countryCode:"MH",dialCode:"692"},{countryName:this.intlService.translate("countries.martinique")||"Martinique",countryCode:"MQ",dialCode:"596"},{countryName:this.intlService.translate("countries.mauritania")||"Mauritania",countryCode:"MR",dialCode:"222"},{countryName:this.intlService.translate("countries.mauritius")||"Mauritius",countryCode:"MU",dialCode:"230"},{countryName:this.intlService.translate("countries.mayotte")||"Mayotte",countryCode:"YT",dialCode:"262",priority:1},{countryName:this.intlService.translate("countries.mexico")||"Mexico",countryCode:"MX",dialCode:"52"},{countryName:this.intlService.translate("countries.micronesia")||"Micronesia",countryCode:"FM",dialCode:"691"},{countryName:this.intlService.translate("countries.moldova")||"Moldova",countryCode:"MD",dialCode:"373"},{countryName:this.intlService.translate("countries.monaco")||"Monaco",countryCode:"MC",dialCode:"377"},{countryName:this.intlService.translate("countries.mongolia")||"Mongolia",countryCode:"MN",dialCode:"976"},{countryName:this.intlService.translate("countries.montenegro")||"Montenegro",countryCode:"ME",dialCode:"382"},{countryName:this.intlService.translate("countries.montserrat")||"Montserrat",countryCode:"MS",dialCode:"1664"},{countryName:this.intlService.translate("countries.morocco")||"Morocco",countryCode:"MA",dialCode:"212",priority:0},{countryName:this.intlService.translate("countries.mozambique")||"Mozambique",countryCode:"MZ",dialCode:"258"},{countryName:this.intlService.translate("countries.myanmar")||"Myanmar (Burma)",countryCode:"MM",dialCode:"95"},{countryName:this.intlService.translate("countries.namibia")||"Namibia",countryCode:"NA",dialCode:"264"},{countryName:this.intlService.translate("countries.nauru")||"Nauru",countryCode:"NR",dialCode:"674"},{countryName:this.intlService.translate("countries.nepal")||"Nepal",countryCode:"NP",dialCode:"977"},{countryName:this.intlService.translate("countries.netherlands")||"Netherlands",countryCode:"NL",dialCode:"31"},{countryName:this.intlService.translate("countries.newCaledonia")||"New Caledonia",countryCode:"NC",dialCode:"687"},{countryName:this.intlService.translate("countries.newZealand")||"New Zealand",countryCode:"NZ",dialCode:"64"},{countryName:this.intlService.translate("countries.nicaragua")||"Nicaragua",countryCode:"NI",dialCode:"505"},{countryName:this.intlService.translate("countries.niger")||"Niger",countryCode:"NE",dialCode:"227"},{countryName:this.intlService.translate("countries.nigeria")||"Nigeria",countryCode:"NG",dialCode:"234"},{countryName:this.intlService.translate("countries.niue")||"Niue",countryCode:"NU",dialCode:"683"},{countryName:this.intlService.translate("countries.norfolkIsland")||"Norfolk Island",countryCode:"NF",dialCode:"672"},{countryName:this.intlService.translate("countries.northKorea")||"North Korea",countryCode:"KP",dialCode:"850"},{countryName:this.intlService.translate("countries.northernMarianaIslands")||"Northern Mariana Islands",countryCode:"MP",dialCode:"1670"},{countryName:this.intlService.translate("countries.norway")||"Norway",countryCode:"NO",dialCode:"47",priority:0},{countryName:this.intlService.translate("countries.oman")||"Oman",countryCode:"OM",dialCode:"968"},{countryName:this.intlService.translate("countries.pakistan")||"Pakistan",countryCode:"PK",dialCode:"92"},{countryName:this.intlService.translate("countries.palau")||"Palau",countryCode:"PW",dialCode:"680"},{countryName:this.intlService.translate("countries.palestine")||"Palestine",countryCode:"PS",dialCode:"970"},{countryName:this.intlService.translate("countries.panama")||"Panama",countryCode:"PA",dialCode:"507"},{countryName:this.intlService.translate("countries.papuaNewGuinea")||"Papua New Guinea",countryCode:"PG",dialCode:"675"},{countryName:this.intlService.translate("countries.paraguay")||"Paraguay",countryCode:"PY",dialCode:"595"},{countryName:this.intlService.translate("countries.peru")||"Peru",countryCode:"PE",dialCode:"51"},{countryName:this.intlService.translate("countries.philippines")||"Philippines",countryCode:"PH",dialCode:"63"},{countryCode:"PN",countryName:this.intlService.translate("countries.pitcairn")||"Pitcairn"},{countryName:this.intlService.translate("countries.poland")||"Poland",countryCode:"PL",dialCode:"48"},{countryName:this.intlService.translate("countries.portugal")||"Portugal",countryCode:"PT",dialCode:"351"},{countryName:this.intlService.translate("countries.puertoRico")||"Puerto Rico",countryCode:"PR",dialCode:"1",priority:3,areaCodes:["787","939"]},{countryName:this.intlService.translate("countries.qatar")||"Qatar",countryCode:"QA",dialCode:"974"},{countryName:this.intlService.translate("countries.reunion")||"Runion",countryCode:"RE",dialCode:"262",priority:0},{countryName:this.intlService.translate("countries.romania")||"Romania",countryCode:"RO",dialCode:"40"},{countryName:this.intlService.translate("countries.russia")||"Russia",countryCode:"RU",dialCode:"7",priority:0},{countryName:this.intlService.translate("countries.rwanda")||"Rwanda",countryCode:"RW",dialCode:"250"},{countryName:this.intlService.translate("countries.saintBarthelemy")||"Saint Barthlemy",countryCode:"BL",dialCode:"590",priority:1},{countryName:this.intlService.translate("countries.saintHelena")||"Saint Helena",countryCode:"SH",dialCode:"290"},{countryName:this.intlService.translate("countries.saintKittsAndNevis")||"Saint Kitts and Nevis",countryCode:"KN",dialCode:"1869"},{countryName:this.intlService.translate("countries.saintLucia")||"Saint Lucia",countryCode:"LC",dialCode:"1758"},{countryName:this.intlService.translate("countries.saintMartin")||"Saint Martin (Saint-Martin",countryCode:"MF",dialCode:"590",priority:2},{countryName:this.intlService.translate("countries.saintPierreAndMiquelon")||"Saint Pierre and Miquelon",countryCode:"PM",dialCode:"508"},{countryName:this.intlService.translate("countries.saintVincentAndTheGrenadines")||"Saint Vincent and the Grenadines",countryCode:"VC",dialCode:"1784"},{countryName:this.intlService.translate("countries.samoa")||"Samoa",countryCode:"WS",dialCode:"685"},{countryName:this.intlService.translate("countries.sanMarino")||"San Marino",countryCode:"SM",dialCode:"378"},{countryName:this.intlService.translate("countries.saoTomeAndPrincipe")||"So Tom and Prncipe",countryCode:"ST",dialCode:"239"},{countryName:this.intlService.translate("countries.saudiArabia")||"Saudi Arabia",countryCode:"SA",dialCode:"966"},{countryName:this.intlService.translate("countries.senegal")||"Senegal",countryCode:"SN",dialCode:"221"},{countryName:this.intlService.translate("countries.serbia")||"Serbia",countryCode:"RS",dialCode:"381"},{countryName:this.intlService.translate("countries.seychelles")||"Seychelles",countryCode:"SC",dialCode:"248"},{countryName:this.intlService.translate("countries.sierraLeone")||"Sierra Leone",countryCode:"SL",dialCode:"232"},{countryName:this.intlService.translate("countries.singapore")||"Singapore",countryCode:"SG",dialCode:"65"},{countryName:this.intlService.translate("countries.sintMaarten")||"Sint Maarten",countryCode:"SX",dialCode:"1721"},{countryName:this.intlService.translate("countries.slovakia")||"Slovakia",countryCode:"SK",dialCode:"421"},{countryName:this.intlService.translate("countries.slovenia")||"Slovenia",countryCode:"SI",dialCode:"386"},{countryName:this.intlService.translate("countries.solomonIslands")||"Solomon Islands",countryCode:"SB",dialCode:"677"},{countryName:this.intlService.translate("countries.somalia")||"Somalia",countryCode:"SO",dialCode:"252"},{countryName:this.intlService.translate("countries.southAfrica")||"South Africa",countryCode:"ZA",dialCode:"27"},{countryCode:"GS",countryName:this.intlService.translate("countries.southGeorgiaAndTheSouthSandwichIslands")||"South Georgia and the South Sandwich Islands"},{countryName:this.intlService.translate("countries.southKorea")||"South Korea",countryCode:"KR",dialCode:"82"},{countryName:this.intlService.translate("countries.southSudan")||"South Sudan",countryCode:"SS",dialCode:"211"},{countryName:this.intlService.translate("countries.spain")||"Spain",countryCode:"ES",dialCode:"34"},{countryName:this.intlService.translate("countries.sriLanka")||"Sri Lanka",countryCode:"LK",dialCode:"94"},{countryName:this.intlService.translate("countries.sudan")||"Sudan",countryCode:"SD",dialCode:"249"},{countryName:this.intlService.translate("countries.suriname")||"Suriname",countryCode:"SR",dialCode:"597"},{countryName:this.intlService.translate("countries.svalbardAndJanMayen")||"Svalbard and Jan Mayen",countryCode:"SJ",dialCode:"47",priority:1},{countryName:this.intlService.translate("countries.swaziland")||"Swaziland",countryCode:"SZ",dialCode:"268"},{countryName:this.intlService.translate("countries.sweden")||"Sweden",countryCode:"SE",dialCode:"46"},{countryName:this.intlService.translate("countries.switzerland")||"Switzerland",countryCode:"CH",dialCode:"41"},{countryName:this.intlService.translate("countries.syria")||"Syria",countryCode:"SY",dialCode:"963"},{countryName:this.intlService.translate("countries.taiwan")||"Taiwan",countryCode:"TW",dialCode:"886"},{countryName:this.intlService.translate("countries.tajikistan")||"Tajikistan",countryCode:"TJ",dialCode:"992"},{countryName:this.intlService.translate("countries.tanzania")||"Tanzania",countryCode:"TZ",dialCode:"255"},{countryName:this.intlService.translate("countries.thailand")||"Thailand",countryCode:"TH",dialCode:"66"},{countryName:this.intlService.translate("countries.timorLeste")||"Timor-Leste",countryCode:"TL",dialCode:"670"},{countryName:this.intlService.translate("countries.togo")||"Togo",countryCode:"TG",dialCode:"228"},{countryName:this.intlService.translate("countries.tokelau")||"Tokelau",countryCode:"TK",dialCode:"690"},{countryName:this.intlService.translate("countries.tonga")||"Tonga",countryCode:"TO",dialCode:"676"},{countryName:this.intlService.translate("countries.trinidadAndTobago")||"Trinidad and Tobago",countryCode:"TT",dialCode:"1868"},{countryName:this.intlService.translate("countries.tunisia")||"Tunisia",countryCode:"TN",dialCode:"216"},{countryName:this.intlService.translate("countries.turkey")||"Turkey",countryCode:"TR",dialCode:"90"},{countryName:this.intlService.translate("countries.turkmenistan")||"Turkmenistan",countryCode:"TM",dialCode:"993"},{countryName:this.intlService.translate("countries.turksAndCaicosIslands")||"Turks and Caicos Islands",countryCode:"TC",dialCode:"1649"},{countryName:this.intlService.translate("countries.tuvalu")||"Tuvalu",countryCode:"TV",dialCode:"688"},{countryName:this.intlService.translate("countries.usVirginIslands")||"U.S. Virgin Islands",countryCode:"VI",dialCode:"1340"},{countryName:this.intlService.translate("countries.uganda")||"Uganda",countryCode:"UG",dialCode:"256"},{countryName:this.intlService.translate("countries.ukraine")||"Ukraine",countryCode:"UA",dialCode:"380"},{countryName:this.intlService.translate("countries.unitedArabEmirates")||"United Arab Emirates",countryCode:"AE",dialCode:"971"},{countryName:this.intlService.translate("countries.unitedKingdom")||"United Kingdom",countryCode:"GB",dialCode:"44",priority:0},{countryCode:"UM",countryName:this.intlService.translate("countries.unitedStatesMinorOutlyingIslands")||"United States Minor Outlying Islands"},{countryName:this.intlService.translate("countries.unitedStates")||"United States",countryCode:"US",dialCode:"1",priority:0},{countryName:this.intlService.translate("countries.uruguay")||"Uruguay",countryCode:"UY",dialCode:"598"},{countryName:this.intlService.translate("countries.uzbekistan")||"Uzbekistan",countryCode:"UZ",dialCode:"998"},{countryName:this.intlService.translate("countries.vanuatu")||"Vanuatu",countryCode:"VU",dialCode:"678"},{countryName:this.intlService.translate("countries.vaticanCity")||"Vatican City",countryCode:"VA",dialCode:"39",priority:1},{countryName:this.intlService.translate("countries.venezuela")||"Venezuela",countryCode:"VE",dialCode:"58"},{countryName:this.intlService.translate("countries.vietnam")||"Vietnam",countryCode:"VN",dialCode:"84"},{countryName:this.intlService.translate("countries.wallisAndFutuna")||"Wallis and Futuna",countryCode:"WF",dialCode:"681"},{countryName:this.intlService.translate("countries.westernSahara")||"Western Sahara",countryCode:"EH",dialCode:"212",priority:1},{countryName:this.intlService.translate("countries.yemen")||"Yemen",countryCode:"YE",dialCode:"967"},{countryName:this.intlService.translate("countries.zambia")||"Zambia",countryCode:"ZM",dialCode:"260"},{countryName:this.intlService.translate("countries.zimbabwe")||"Zimbabwe",countryCode:"ZW",dialCode:"263"}];return this.language&&this.language!==l.uZ.EN&&(t=this.sortCountryListAlphabetically(t)),i=t,(null===(e=this.params)||void 0===e?void 0:e.excludePalestineFromCountriesList)?s()(i).call(i,(e=>{let{countryCode:t}=e;return"PS"!==t})):i;var i}sortCountryListAlphabetically(e){return c()(e).call(e,((e,t)=>{const i=e.countryName.toLowerCase(),n=t.countryName.toLowerCase();return i<n?-1:i>n?1:0}))}}const d={language:null,translate:()=>null};function h(e){const t=(null==e?void 0:e.intl)||d;return new u(t,{excludePalestineFromCountriesList:null==e?void 0:e.excludePalestineFromCountriesList})}},11354:function(e,t,i){"use strict";i.d(t,{I:function(){return s}});var n=i(22970),a=i(17238),r=i(76271);class s{loadFiat(e){const t=r;return s.formatFiatCurrencies(t,e)}loadCrypto(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=yield this.getCryptoCurrencies();return s.formatCryptoCurrencies(e)}))}static formatFiatCurrencies(e,t){t||(t={translate:()=>null});const i={};for(const n in e){const r=e[n];i[n]={name:t.translate(`currencies.${n}`)||r.name,code:n,symbol:r.symbol,digits:r.digits,type:a.x.FIAT,sources:[a.x.FIAT]}}return i}static formatCryptoCurrencies(e){const t={};for(const i in e){const n=e[i];t[i]={name:n.name,code:i,symbol:n.symbol,digits:n.digits,protocol:n.protocol,networkName:n.networkName,network:n.network,provider:n.provider,type:a.x.CRYPTO,sources:n.provider}}return t}}},36582:function(e,t,i){"use strict";i.d(t,{R:function(){return n}});const n=2},70886:function(e,t,i){"use strict";i.d(t,{X:function(){return s}});var n=i(33093),a=i.n(n),r=i(71100);function s(e,t){return t&&a()(r.y).call(r.y,e)?"":e}},71100:function(e,t,i){"use strict";i.d(t,{y:function(){return r},i:function(){return s}});var n=i(33093),a=i.n(n);const r=["GBP"];function s(e){return a()(r).call(r,e)}},17238:function(e,t,i){"use strict";var n;i.d(t,{x:function(){return n}}),function(e){e.FIAT="fiat",e.CRYPTO="crypto"}(n||(n={}))},58142:function(e,t,i){"use strict";i.d(t,{k:function(){return s}});var n=i(36004),a=i.n(n);class r{constructor(){this.providers=new(a()),this.cache=new(a())}get(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.providers.get(e);if(!i)throw new Error(`${String(e)} is not provided`);if(t&&this.cache.has(e))return this.cache.get(e);const n=i();return t?(this.cache.has(e)||this.cache.set(e,n),n):n}provide(e,t){return this.providers.has(e)?(console.warn(`14 ${String(e)}`),this):(this.providers.set(e,t),this)}}function s(){return window.FUN_SERVICE_CONTAINER||(window.FUN_SERVICE_CONTAINER=new r),window.FUN_SERVICE_CONTAINER}},76278:function(e,t,i){"use strict";i.d(t,{O5:function(){return c},FX:function(){return l},um:function(){return u},Lb:function(){return d},f0:function(){return h},j5:function(){return m},zm:function(){return p}});var n=i(50418),a=i.n(n),r=(i(49401),i(8005),i(26562),i(85738)),s=i.n(r);i(58142);const o=/#(.+?)(&|$)/;function c(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return{};const i=/([^=&#?]+)=([^=&#?]+)/gi,n={};for(;;){const a=i.exec(e);if(!a)break;const[,r,s]=a;try{t?n[decodeURIComponent(r)]=decodeURIComponent(s):n[r]=s}catch(e){console.error(e)}}return n}function l(e,t){let i=e;for(;;){if(t(i))return i;if(!i.parentNode)return;i=i.parentNode}}function u(e,t){if(e.getAttribute)return e.getAttribute("data-"+t)||void 0}function d(e){if(!e)return null;if(!o.test(e))return null;const t=/(#.+?)$/.exec(e);if(!t)return null;const i=t[0],n=o.exec(i);if(!n)return null;const r=n[1],s=c(i),l={key:r};return a()(l,s),l}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=[];for(const n in e){const a=e[n];t?i.push(`${encodeURIComponent(n)}=${encodeURIComponent(a)}`):i.push(`${n}=${a}`)}return i.join("&")}function m(e,t){const i=e.storage;let n=0;const a=i.getField("xFactor");if(a)return Number(a)||0;if(!e.sessionAt)return n;try{const i=s()(),a=e.sessionPage,r=i-e.sessionAt;t&&(n+=10),/win/i.test(window.navigator.platform)&&(n-=10),/mac/i.test(window.navigator.platform)&&(n+=5),r>648e4&&(n+=10),a<=2&&(n+=15),a>5&&(n+=5),r<6e3&&(n+=5),r>=18e3&&(n+=10)}catch(e){n=0,console.error(e)}return n&&i.setField("xFactor",String(n)),n}function p(e,t){var i;const n=a()({},e,{campaign:a()(a()({},e.widget),{recentDonations:(null==t?void 0:t.campaign.recentDonations)||null,config:a()(a()({},e.widget.config),{experimentsSettings:{desktop:{},mobile:{}},trend:{once:0,daily:0,weekly:0,biweekly:0,every4weeks:0,monthly:0,bimonthly:0,quarterly:0,semiannual:0,annual:0}})}),config:a()({},e.serverConfig),goals:[],aiSuggestions:[],fundraisingPage:null,user:{address:a()(a()({},e.user.address),{region:""})}});return t&&n.campaign.config.campaignPage&&(n.campaign.config.campaignPage.goal.raisedAmount=(null===(i=t.campaign.config.campaignPage)||void 0===i?void 0:i.goal.raisedAmount)||null),n}},75937:function(e,t,i){"use strict";i.d(t,{dI:function(){return l},j9:function(){return g},w0:function(){return p},C3:function(){return d}}),i(69117),i(16465),i(87636),i(11052);var n=i(33093),a=i.n(n);i(71899);var r=i(98238),s=i(77884);const o=[s.c.AR_001],c=[r.u.AR];function l(e){return e.split("-")[0]}s.c.AR_001;const u={"&amp;":"&"};function d(e){let t=e;for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&a()(e).call(e,r)&&(i=r,n=u[r],t=t.replace(new RegExp(i,"g"),n));var i,n;return t}function h(e){return a()(o).call(o,e)}function m(e){return a()(c).call(c,e)}function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!t&&h(e)?"rtl":"ltr"}function g(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!t&&m(e)?"rtl":"ltr"}},782:function(e,t,i){"use strict";var n;i.d(t,{G:function(){return n}}),function(e){e.CARD="creditCard",e.APPLE_PAY="applePay",e.GOOGLE_PAY="googlePay",e.CLICK_TO_PAY="clickToPay",e.ACH="ach",e.PLAID="plaid",e.PAYPAL="paypal",e.VENMO="venmo",e.AU_BECS="auBecsDebit",e.UK_BACS="ukBacs",e.ACSS="acss",e.SEPA="sepa",e.IDEAL="ideal",e.CRYPTO="crypto",e.STOCK="stock",e.US_BANK_ACCOUNT="usBankAccount"}(n||(n={}))},24140:function(e,t,i){"use strict";var n;i.d(t,{E:function(){return n}}),function(e){e.ONCE="once",e.DAILY="daily",e.WEEKLY="weekly",e.BIWEEKLY="biweekly",e.EVERY_4_WEEKS="every4weeks",e.MONTHLY="monthly",e.BIMONTHLY="bimonthly",e.QUARTERLY="quarterly",e.SEMIANNUAL="semiannual",e.ANNUAL="annual"}(n||(n={}))},66178:function(e,t,i){"use strict";var n;i.d(t,{GZ:function(){return T.G},rL:function(){return y},EK:function(){return _.E},Ey:function(){return l},fx:function(){return d},xB:function(){return P},El:function(){return v},OQ:function(){return E}}),function(e){e.ACH_VERIFICATION_REQUIRED="ach_verification_required",e.INCOMPLETE="incomplete",e.RETRYING="retrying",e.WAITING_FOR_TRANSFER="waiting_for_transfer",e.PAYPAL_ACTION_REQUIRED="paypal_action_required",e.SCHEDULED="scheduled",e.DISPUTE_LOST="dispute_lost",e.ACCOUNT_CLOSED="account_closed",e.ACCOUNT_FROZEN="account_frozen",e.AUTHENTICATION_REQUIRED="authentication_required",e.BANK_ACCOUNT_RESTRICTED="bank_account_restricted",e.CARD_DECLINED="card_declined",e.CREDIT_CARD_ACTION_REQUIRED="credit_card_action_required",e.DEBIT_NOT_AUTHORIZED="debit_not_authorized",e.EXPIRED_CARD="expired_card",e.INCORRECT_CVC="incorrect_cvc",e.INCORRECT_NUMBER="incorrect_number",e.INCORRECT_ZIP="incorrect_zip",e.INSUFFICIENT_FUNDS="insufficient_funds",e.INVALID_ACCOUNT_NUMBER="invalid_account_number",e.NO_ACCOUNT="no_account",e.PARAMETER_INVALID_INTEGER="parameter_invalid_integer",e.PROCESSING_ERROR="processing_error",e.RESOURCE_MISSING="resource_missing",e.ACH_VERIFICATION_FAILED="ach_verification_failed",e.ACH_VERIFICATION_EXPIRED="ach_verification_expired",e.FUN_VERIFICATION_CANCEL="fun_verification_cancel",e.SUBSCRIPTION_CANCELLED_BY_COMPANY="subscription_cancelled_by_company",e.SUBSCRIPTION_CANCELLED_BY_CUSTOMER="subscription_cancelled_by_customer",e.SUBSCRIPTION_SKIPPED_BY_COMPANY="subscription_skipped_by_company",e.SUBSCRIPTION_SKIPPED_BY_CUSTOMER="subscription_skipped_by_customer",e.PAYMENT_METHOD_INVALIDATED="payment_method_invalidated",e.FAILED_BY_TERMINATION_FLOW="failed_by_termination_flow",e.NOT_ELIGIBLE="not_eligible",e.UNKNOWN_REASON="unknown_reason",e.CANCELLED_BY_CUSTOMER="cancelled_by_customer",e.CANCELLED_BY_COMPANY="cancelled_by_company"}(n||(n={}));var a,r,s,o,c,l,u,d,h,m,p,g,f,y,v,S,C,b,A,E,x,k,w,N,P,D,T=i(782),_=i(24140);!function(e){e.BITCOIN="bitcoin",e.ETHEREUM="ethereum",e.BITCOINCASH="bitcoincash",e.LITECOIN="litecoin",e.ZCASH="zcash",e.FILECOIN="filecoin",e.DOGECOIN="dogecoin",e.TEZOS="tezos",e.SOLANA="solana",e.POLKADOT="polkadot"}(a||(a={})),function(e){e.PENDING="pending",e.FAILED="failed",e.SUCCESS="success",e.REFUNDED="refunded"}(r||(r={})),function(e){e.FAIL="fail",e.FAIL_NOT_ELIGIBLE="fail_not_eligible",e.WAIT_FOR_TRANSFER="wait_for_transfer",e.SUCCEED="succeed"}(s||(s={})),function(e){e.PENDING="pending",e.SUCCESS="success",e.FAILED="failed"}(o||(o={})),function(e){e.ACH="ach",e.GOOGLE_PAY="android_pay",e.APPLE_PAY="apple_pay",e.CLICK_TO_PAY="masterpass",e.PLAID="plaid"}(c||(c={})),function(e){e.CARD="card",e.BANK_ACCOUNT="bank_account",e.PAYPAL="paypal",e.VENMO="venmo",e.SOURCE="source",e.AU_BECS="au_becs_debit",e.UK_BACS="bacs_debit",e.ACSS="acss_debit",e.SEPA="sepa_debit",e.IDEAL="ideal",e.CRYPTO="crypto",e.STOCK="stock",e.US_BANK_ACCOUNT="us_bank_account"}(l||(l={})),function(e){e.CHARGEABLE="chargeable",e.NEW="new",e.VERIFICATION_FAILED="verification_failed",e.VERIFIED="verified",e.VALIDATED="validated",e.ERRORED="errored"}(u||(u={})),function(e){e.STRIPE="stripe",e.PAYPAL="paypal",e.MANUAL_BROKERAGE="manualBrokerage",e.GEMINI="gemini",e.COINBASE_COMMERCE="coinbaseCommerce"}(d||(d={})),function(e){e.STRIPE_TOKEN="stripeToken",e.CLICK_TO_PAY="clickToPay",e.STRIPE_PAYMENT_METHOD="stripePaymentMethod"}(h||(h={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.FAILED="failed"}(m||(m={})),function(e){e.RETRYING="retrying",e.ACH_VERIFICATION_REQUIRED="ach_verification_required",e.SCHEDULED="scheduled",e.PAUSED="paused",e.CANCELLED_BY_COMPANY="cancelled_by_company",e.CANCELLED_BY_CUSTOMER="cancelled_by_customer",e.CANCELLED_BY_TERMINATION_FLOW="cancelled_by_termination_flow",e.CANCELLED_BY_DISPUTE_LOST="cancelled_by_dispute_lost",e.CANCELLED_BY_LIMIT="cancelled_by_limit",e.ACH_VERIFICATION_FAILED="ach_verification_failed",e.ACH_VERIFICATION_EXPIRED="ach_verification_expired",e.PAYMENT_METHOD_INVALIDATED="payment_method_invalidated",e.FAILED_BY_INSUFFICIENT="failed_by_insufficient_data"}(p||(p={})),function(e){e.CARD="card",e.BANK_ACCOUNT="bank_account",e.US_BANK_ACCOUNT="us_bank_account",e.AU_BECS="au_becs_debit",e.UK_BACS="bacs_debit",e.ACSS="acss_debit",e.SEPA="sepa_debit",e.IDEAL="ideal"}(g||(g={})),function(e){e.VISA="Visa",e.VISA_ELECTRON="Visa Electron",e.MASTER_CARD="MasterCard",e.AMERICAN_EXPRESS="American Express",e.DINERS_CLUB="Diners Club",e.DISCOVER="Discover",e.JCB="JCB",e.UNION_PAY="UnionPay"}(f||(f={})),function(e){e.VISA="visa",e.AMERICAN_EXPRESS="amex",e.MASTERCARD="mastercard",e.DISCOVER="discover"}(y||(y={})),function(e){e[e.STANDARD=290]="STANDARD",e[e.NON_PROFIT=220]="NON_PROFIT"}(v||(v={})),function(e){e[e.AUTO=-1]="AUTO",e[e.NEVER=0]="NEVER",e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR",e[e.FIVE=5]="FIVE",e[e.SIX=6]="SIX"}(S||(S={})),function(e){e.NEW="new",e.VALIDATED="validated",e.VERIFIED="verified",e.FAILED="verification_failed",e.ERRORED="errored"}(C||(C={})),function(e){e.INDIVIDUAL="individual",e.COMPANY="company"}(b||(b={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.DISABLED="disabled"}(A||(A={})),function(e){e.REQUIRES_ACTION="requires_action",e.REQUIRES_CONFIRMATION="requires_confirmation",e.REQUIRES_PAYMENT_METHOD="requires_payment_method",e.REQUIRES_CAPTURE="requires_capture",e.PROCESSING="processing",e.SUCCEEDED="succeeded",e.CANCELLED="canceled"}(E||(E={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(x||(x={})),function(e){e.ACH_VERIFICATION_REQUIRED="ach_verification_required",e.ACH_VERIFICATION_FAILED="ach_verification_failed",e.ACH_VERIFICATION_CANCELLED="ach_verification_cancelled",e.ACH_VERIFICATION_EXPIRED="ach_verification_expired",e.UNKNOWN_ERROR="unknown_error",e.DEACTIVATED_ON_PROVIDER_SIDE="deactivated_on_provider_side",e.ACCOUNT_CLOSED="account_closed",e.ACCOUNT_FROZEN="account_frozen",e.AUTHENTICATION_REQUIRED="authentication_required",e.BANK_ACCOUNT_RESTRICTED="bank_account_restricted",e.CARD_DECLINED="card_declined",e.DEBIT_NOT_AUTHORIZED="debit_not_authorized",e.EXPIRED_CARD="expired_card",e.FUN_VERIFICATION_CANCEL="fun_verification_cancel",e.FUN_WRONG_PAYMENT_METHOD="fun_wrong_payment_method",e.INCORRECT_CVC="incorrect_cvc",e.INCORRECT_NUMBER="incorrect_number",e.INCORRECT_ZIP="incorrect_zip",e.INSUFFICIENT_FUNDS="insufficient_funds",e.INVALID_ACCOUNT_NUMBER="invalid_account_number",e.NO_ACCOUNT="no_account",e.PROCESSING_ERROR="processing_error",e.RESOURCE_MISSING="resource_missing",e.MANDATE_INACTIVE="mandate_inactive",e.STRIPE_CUSTOMER_REQUIRED="stripe_customer_required",e.STRIPE_CUSTOMER_NONE="stripe_customer_none"}(k||(k={})),function(e){e.PAYMENT_METHOD_INVALIDATED="fun_payment_method_invalidated",e.CHARGE_VERIFICATION_CANCELLED="fun_verification_cancel",e.PAYMENT_METHOD_VERIFICATION_EXPIRED="fun_verification_expired",e.PAYMENT_METHOD_VERIFICATION_FAILED="fun_verification_failed",e.CHARGE_VERIFICATION_CANCELLED_BY_COMPANY="fun_verification_cancel_by_company",e.CHARGE_VERIFICATION_CANCELLED_BY_SUPPORTER="fun_verification_cancel_by_supporter",e.PAYMENT_WAS_CANCELLED="fun_payment_was_cancelled",e.ACCOUNT_WAS_TERMINATED="fun_account_was_terminated"}(w||(w={})),function(e){e.UPDATE_SUBSCRIPTION_CUSTOMER_ADDRESS="update_subscription_customer_address",e.UPDATE_CHARGE_CUSTOMER_ADDRESS="update_charge_customer_address",e.UPDATE_SUBSCRIPTION_QUESTIONS="update_subscription_questions",e.UPDATE_CHARGE_RECEIPT="update_charge_receipt",e.UPDATE_SUBSCRIPTION_AMOUNT="update_subscription_amount",e.UPDATE_SUBSCRIPTION_CUSTOM_FIELDS="update_subscription_custom_fields",e.UPDATE_SUBSCRIPTION_GOAL="update_subscription_goal",e.UPDATE_CHARGE_GOAL="update_charge_goal",e.REFUND_APPLICATION_FEE="refund_application_fee",e.UPDATE_CHARGE_WIDGET="update_charge_widget",e.UPDATE_SUBSCRIPTION_LIMITS="update_subscription_limits"}(N||(N={})),function(e){e.PAYPAL_ERROR="PAYPAL_ERROR",e.PAYPAL_REQUEST_ERROR="PAYPAL_REQUEST_ERROR",e.REFUND_FAILED_INSUFFICIENT_FUNDS="REFUND_FAILED_INSUFFICIENT_FUNDS",e.TRANSACTION_REFUSED="TRANSACTION_REFUSED",e.TRANSACTION_ALREADY_REFUNDED="TRANSACTION_ALREADY_REFUNDED",e.USER_ACCOUNT_RESTRICTED="USER_ACCOUNT_RESTRICTED",e.INTERNAL="INTERNAL",e.UNAVAILABLE="UNAVAILABLE",e.EXECUTE_AGREEMENT_BUYER_NOT_ACCEPTED="EXECUTE_AGREEMENT_BUYER_NOT_ACCEPTED",e.ORDER_EXPIRED="ORDER_EXPIRED"}(P||(P={})),function(e){let t;!function(e){let t,i,n,a,r,s;!function(e){e.CREATED="charge.created",e.PENDING="charge.pending",e.REFUNDED="charge.refunded",e.FAILED="charge.failed",e.UPDATED="charge.updated",e.SUCCESS="charge.success",e.SUCCESS_DISPUTE_CREATED="charge.success_dispute_created",e.SUCCESS_EARLY_FRAUD_WARNING="charge.success_early_fraud_warning",e.SUCCESS_DISPUTE_LOST="charge.success_dispute_lost",e.PENDING_ACH_VERIFICATION_REQUIRED="charge.pending_ach_verification_required",e.PENDING_INCOMPLETE="charge.pending_incomplete",e.PENDING_SCHEDULED="charge.pending_scheduled",e.PENDING_WAITING_FOR_TRANSFER="charge.pending_waiting_for_transfer",e.PENDING_PAYPAL_ACTION_REQUIRED="charge.pending_paypal_action_required",e.PENDING_RETRYING="charge.pending_retrying"}(t=e.EChargeEvent||(e.EChargeEvent={})),function(e){e.ACTIVATED="subscription.activated",e.SCHEDULED="subscription.scheduled",e.FAILED="subscription.failed",e.COMPLETED="subscription.completed",e.CANCELLED="subscription.cancelled",e.TERMS_UPDATED="subscription.subscription_terms.updated",e.DETAILS_UPDATED="subscription.details.updated",e.PAUSED="subscription.paused",e.RETRYING="subscription.retrying"}(i=e.ESubscriptionEvent||(e.ESubscriptionEvent={})),function(e){e.PENDING="charge_attempt.pending",e.SUCCESS="charge_attempt.success",e.FAILED="charge_attempt.failed"}(n=e.EChargeAttemptEvent||(e.EChargeAttemptEvent={})),function(e){e.ACTIVATE="payment_method.active",e.DEACTIVATE="payment_method.inactive",e.CREATED="payment_method.created"}(a=e.EPaymentMethodEvent||(e.EPaymentMethodEvent={})),function(e){e.CREATED="tribute.created",e.UPDATED="tribute.updated",e.SHARED="tribute.shared"}(r=e.ETributeEvent||(e.ETributeEvent={})),function(e){e.CREATED="abandoned_donation.created",e.OPEN="abandoned_donation.open",e.CANCELLED="abandoned_donation.cancelled",e.COMPLETED="abandoned_donation.completed"}(s=e.EAbandonedDonationEvent||(e.EAbandonedDonationEvent={}))}(t=e.DomainEvent||(e.DomainEvent={}))}(D||(D={}))},4558:function(e,t,i){"use strict";var n;i.d(t,{C:function(){return n}}),function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.STAGING="staging",e.TESTING="testing"}(n||(n={}))},97715:function(e,t,i){"use strict";var n;i.d(t,{GZ:function(){return A.GZ},EK:function(){return A.EK},Ey:function(){return A.Ey},CB:function(){return E.C},xR:function(){return h},C9:function(){return r},h2:function(){return c},Tl:function(){return d},$W:function(){return u},__:function(){return n},Bx:function(){return l}}),function(e){e.DEFAULT_YES="defaultYes",e.DEFAULT_NO="defaultNo",e.ONLY_YES="onlyYes",e.ONLY_NO="onlyNo",e.SMART_COVERING="smartCovering"}(n||(n={}));var a,r,s,o,c,l,u,d,h,m,p,g,f,y,v,S,C,b,A=i(66178),E=i(4558);!function(e){e.DONOR_PORTAL="donorPortal",e.PARTNER_PORTAL="partnerPortal",e.DASHBOARD="dashboard"}(a||(a={})),function(e){e.AUSTRALIA="AU",e.AUSTRIA="AT",e.BELGIUM="BE",e.BRAZIL="BR",e.BULGARIA="BG",e.CANADA="CA",e.CROATIA="HR",e.CYPRUS="CY",e.CZECH_REPUBLIC="CZ",e.DENMARK="DK",e.ESTONIA="EE",e.FINLAND="FI",e.FRANCE="FR",e.GERMANY="DE",e.GREECE="GR",e.HONG_KONG="HK",e.HUNGARY="HU",e.INDIA="IN",e.INDONESIA="ID",e.IRELAND="IE",e.ITALY="IT",e.JAPAN="JP",e.LATVIA="LV",e.LITHUANIA="LT",e.LUXEMBOURG="LU",e.MALAYSIA="MY",e.MALTA="MT",e.MEXICO="MX",e.NETHERLANDS="NL",e.NEW_ZEALAND="NZ",e.NORWAY="NO",e.POLAND="PL",e.PORTUGAL="PT",e.ROMANIA="RO",e.SINGAPORE="SG",e.SLOVAKIA="SK",e.SLOVENIA="SI",e.SPAIN="ES",e.SWEDEN="SE",e.SWITZERLAND="CH",e.THAILAND="TH",e.UNITED_ARAB_EMIRATES="AE",e.UNITED_KINGDOM="GB",e.UNITED_STATES="US",e.GIBRALTAR="GI",e.LIECHTENSTEIN="LI",e.PHILIPPINES="PH",e.ISRAEL="IL"}(r||(r={})),function(e){e.PAN_ONLY="PAN_ONLY",e.CRYPTOGRAM_3DS="CRYPTOGRAM_3DS"}(s||(s={})),function(e){e.AMEX="AMEX",e.DISCOVER="DISCOVER",e.JCB="JCB",e.MASTERCARD="MASTERCARD",e.VISA="VISA"}(o||(o={})),function(e){e.IN_HONOR_MEMORY="inHonorMemory",e.DEDICATION="dedication"}(c||(c={})),function(e){e.DEFAULT_MONTHLY="defaultMonthly",e.ONLY_MONTHLY="onlyMonthly",e.DEFAULT_ONETIME="defaultOnetime",e.ONLY_ONETIME="onlyOnetime"}(l||(l={})),function(e){e.RECURRING="recurring",e.ONE_TIME="one-time",e.ALL="all"}(u||(u={})),function(e){e.FUNDRAISING_PAGE="fundraisingPage",e.REDIRECT="redirect",e.THANK_YOU_SCREEN="thankYouScreen"}(d||(d={})),function(e){e.DESKTOP="desktop",e.MOBILE="mobile"}(h||(h={})),function(e){e.DISABLED="disabled",e.DRY_RUN="dry-run",e.ENABLED="enabled"}(m||(m={})),function(e){e.LIVE="live",e.TEST="test"}(p||(p={})),function(e){e.CLOSE="close",e.CLOSED="closed",e.OPEN="open",e.CLICK="click",e.KEYDOWN="keydown",e.DIRTY="dirty",e.INPUT="input",e.LOADING="loading",e.MOUNTED="mounted",e.PAGE_CREATED="page:created",e.TEAM_CREATED="team:created",e.SUGGESTION_SELECTED="suggestion-selected",e.READY="ready",e.SUBMIT="submit",e.UPDATE="update",e.UPDATED="updated",e.CREATE="create",e.ARCHIVE="archive",e.UNARCHIVE="unarchive",e.ADD="add",e.SAVE="save",e.SAVED="saved",e.CHANGE="change",e.DUPLICATE="duplicate",e.REMOVE="remove",e.UPDATE_LOADING="update:loading"}(g||(g={})),function(e){e.TEXT="text",e.EMAIL="email"}(f||(f={})),function(e){e.WEBSITE="website",e.CAMPAIGN_PAGE="campaignPage",e.VIRTUAL_TERMINAL="virtualTerminal",e.DONOR_PORTAL="donorPortal",e.DASHBOARD="dashboard",e.RECURRING_MIGRATION="recurringMigration"}(y||(y={})),function(e){e.DAY_7="7d",e.MONTH="1m",e.MONTH_3="3m",e.YEAR_TO_DAY="ytd",e.YEAR="1y",e.YEAR_5="5y"}(v||(v={})),function(e){e.FULL="full",e.CHUNK="chunk"}(S||(S={})),function(e){e.CHARGES="charges",e.COMPANIES="companies",e.CUSTOMERS="customers",e.ELEMENTS="elements",e.SUBSCRIPTIONS="subscriptions",e.WIDGETS="widgets",e.FUNDRAISING_PAGES="fundraisingpages",e.USERS="users"}(C||(C={})),function(e){e.FULL="full",e.FROM="from"}(b||(b={})),v.DAY_7,v.MONTH,v.MONTH_3,v.YEAR_TO_DAY,v.YEAR,v.YEAR_5},60751:function(e,t,i){"use strict";i.d(t,{d:function(){return a}});var n=i(77884);const a=[n.c.EN_US,n.c.EN_GB,n.c.EN_CA,n.c.FR_CA,n.c.FR_FR,n.c.ES,n.c.NL,n.c.NO,n.c.DE,n.c.FI_FI,n.c.SV,n.c.IT,n.c.PT_PT,n.c.PT_BR,n.c.AR_001,n.c.ZH_CN,n.c.ZH_TW,n.c.JA,n.c.KO,n.c.HU,n.c.DA,n.c.ES_US,n.c.RU_RU]},46301:function(e,t,i){"use strict";i.d(t,{c0:function(){return d.c},uZ:function(){return u.u},dI:function(){return l.d},nx:function(){return c}});var n,a,r,s,o,c,l=i(60751),u=i(98238),d=i(77884);u.u.EN,u.u.FR,u.u.ES,u.u.NL,u.u.NO,u.u.DE,u.u.FI,u.u.AR,u.u.SV,u.u.IT,u.u.PT,u.u.ZH,u.u.JA,u.u.KO,u.u.HU,u.u.DA,u.u.RU,function(e){e.LOCALE="locale",e.PREFERRED_LOCALE="preferredLocale"}(n||(n={})),n.PREFERRED_LOCALE,function(e){e.EN="English",e.ES="Spanish",e.FR="French",e.NL="Dutch",e.NO="Norwegian",e.DE="German",e.FI="Finnish",e.AR="Arabic",e.SV="Swedish",e.IT="Italian",e.PT="Portuguese",e.ZH="Chinese",e.JA="Japanese",e.KO="Korean",e.HU="Hungarian",e.DA="Danish",e.RU="Russian"}(a||(a={})),u.u.EN,a.EN,u.u.ES,a.ES,u.u.FR,a.FR,u.u.NL,a.NL,u.u.NO,a.NO,u.u.DE,a.DE,u.u.FI,a.FI,u.u.AR,a.AR,u.u.SV,a.SV,u.u.IT,a.IT,u.u.PT,a.PT,u.u.ZH,a.ZH,u.u.JA,a.JA,u.u.KO,a.KO,u.u.HU,a.HU,u.u.DA,a.DA,u.u.RU,a.RU,u.u.EN,d.c.EN_US,u.u.ES,d.c.ES,u.u.FR,d.c.FR_CA,u.u.NL,d.c.NL,u.u.NO,d.c.NO,u.u.DE,d.c.DE,u.u.FI,d.c.FI_FI,u.u.AR,d.c.AR_001,u.u.SV,d.c.SV,u.u.IT,d.c.IT,u.u.PT,d.c.PT_PT,u.u.ZH,d.c.ZH_TW,u.u.JA,d.c.JA,u.u.KO,d.c.KO,u.u.HU,d.c.HU,u.u.DA,d.c.DA,u.u.RU,d.c.RU_RU,function(e){e.EN_US="English (USA)",e.EN_GB="English (Great Britain)",e.EN_CA="English (Canada)",e.FR_CA="French (Canada)",e.FR_FR="French (France)",e.ES="Spanish",e.NL="Dutch",e.NO="Norwegian",e.DE="German",e.FI_FI="Finnish",e.AR_001="Arabic (World)",e.SV="Swedish",e.IT="Italian",e.PT_PT="Portuguese (Portugal)",e.PT_BR="Portuguese (Brazil)",e.ZH_CN="Chinese Simplified",e.ZH_TW="Chinese Traditional",e.JA="Japanese",e.KO="Korean",e.HU="Hungarian",e.DA="Danish",e.ES_US="Spanish (United States)",e.RU_RU="Russian"}(r||(r={})),function(e){e.EN_US="English (USA)",e.EN_GB="English (Great Britain)",e.EN_CA="English (Canada)",e.FR_CA="Franais (Canada)",e.FR_FR="Franais (France)",e.ES="Espaol",e.NL="Nederlands",e.NO="Norsk",e.DE="Deutsch",e.FI_FI="Suomi",e.AR_100=" ",e.SV="Svenska",e.IT="Italiano",e.PT_PT="Portugus (Portugal)",e.PT_BR="Portugus (Brazil)",e.ZH_CN="",e.ZH_TW="",e.JA="",e.KO="",e.HU="Magyar",e.DA="Dansk",e.ES_US="Espaol (Estados Unidos)",e.RU_RU=""}(s||(s={})),function(e){e.EN_US="English",e.EN_GB="English",e.EN_CA="English",e.FR_CA="French",e.FR_FR="French",e.ES="Spanish",e.NL="Dutch",e.NO="Norwegian",e.DE="German",e.FI_FI="Finnish",e.AR_001="Arabic",e.SV="Swedish",e.IT="Italian",e.PT_PT="Portuguese",e.PT_BR="Portuguese",e.ZH_CN="Chinese",e.ZH_TW="Chinese",e.JA="Japanese",e.KO="Korean",e.HU="Hungarian",e.DA="Danish",e.ES_US="Spanish (United States)",e.RU_RU="Russian"}(o||(o={})),d.c.EN_US,r.EN_US,d.c.EN_GB,r.EN_GB,d.c.EN_CA,r.EN_CA,d.c.FR_CA,r.FR_CA,d.c.FR_FR,r.FR_FR,d.c.ES,r.ES,d.c.NL,r.NL,d.c.NO,r.NO,d.c.DE,r.DE,d.c.FI_FI,r.FI_FI,d.c.AR_001,r.AR_001,d.c.SV,r.SV,d.c.IT,r.IT,d.c.PT_PT,r.PT_PT,d.c.PT_BR,r.PT_BR,d.c.ZH_CN,r.ZH_CN,d.c.ZH_TW,r.ZH_TW,d.c.JA,r.JA,d.c.KO,r.KO,d.c.HU,r.HU,d.c.DA,r.DA,d.c.ES_US,r.ES_US,d.c.RU_RU,r.RU_RU,d.c.EN_US,o.EN_US,d.c.EN_GB,o.EN_GB,d.c.EN_CA,o.EN_CA,d.c.FR_CA,o.FR_CA,d.c.FR_FR,o.FR_FR,d.c.ES,o.ES,d.c.NL,o.NL,d.c.NO,o.NO,d.c.DE,o.DE,d.c.FI_FI,o.FI_FI,d.c.AR_001,o.AR_001,d.c.SV,o.SV,d.c.IT,o.IT,d.c.PT_PT,o.PT_PT,d.c.PT_BR,o.PT_BR,d.c.ZH_CN,o.ZH_CN,d.c.ZH_TW,o.ZH_TW,d.c.JA,o.JA,d.c.KO,o.KO,d.c.HU,o.HU,d.c.DA,o.DA,d.c.ES_US,o.ES_US,d.c.RU_RU,o.RU_RU,d.c.EN_US,s.EN_US,d.c.EN_GB,s.EN_GB,d.c.EN_CA,s.EN_CA,d.c.FR_CA,s.FR_CA,d.c.FR_FR,s.FR_FR,d.c.ES,s.ES,d.c.NL,s.NL,d.c.NO,s.NO,d.c.DE,s.DE,d.c.FI_FI,s.FI_FI,d.c.AR_001,s.AR_100,d.c.SV,s.SV,d.c.IT,s.IT,d.c.PT_PT,s.PT_PT,d.c.PT_BR,s.PT_BR,d.c.ZH_CN,s.ZH_CN,d.c.ZH_TW,s.ZH_TW,d.c.JA,s.JA,d.c.KO,s.KO,d.c.HU,s.HU,d.c.DA,s.DA,d.c.ES_US,s.ES_US,d.c.RU_RU,s.RU_RU,function(e){e.LONG="long",e.SHORT="short",e.LONG_WITH_YEAR="longWithYear"}(c||(c={}))},98238:function(e,t,i){"use strict";var n;i.d(t,{u:function(){return n}}),function(e){e.EN="en",e.ES="es",e.FR="fr",e.NL="nl",e.NO="no",e.DE="de",e.FI="fi",e.AR="ar",e.SV="sv",e.IT="it",e.PT="pt",e.ZH="zh",e.JA="ja",e.KO="ko",e.HU="hu",e.DA="da",e.RU="ru"}(n||(n={}))},77884:function(e,t,i){"use strict";var n;i.d(t,{c:function(){return n}}),function(e){e.EN_US="en-US",e.EN_GB="en-GB",e.EN_CA="en-CA",e.FR_CA="fr-CA",e.FR_FR="fr-FR",e.ES="es",e.NL="nl",e.NO="no",e.DE="de",e.FI_FI="fi-FI",e.AR_001="ar-001",e.SV="sv",e.IT="it",e.PT_PT="pt-PT",e.PT_BR="pt-BR",e.ZH_CN="zh-CN",e.ZH_TW="zh-TW",e.JA="ja",e.KO="ko",e.HU="hu",e.DA="da",e.RU_RU="ru-RU",e.ES_US="es-US"}(n||(n={}))},56451:function(e,t,i){var n={"./ideal-bank-abn_amro.svg":36427,"./ideal-bank-asn_bank.svg":74493,"./ideal-bank-bunq.svg":86544,"./ideal-bank-ing.svg":89103,"./ideal-bank-knab.svg":60869,"./ideal-bank-rabobank.svg":1395,"./ideal-bank-regiobank.svg":33065,"./ideal-bank-revolut.svg":79505,"./ideal-bank-sns_bank.svg":61320,"./ideal-bank-triodos_bank.svg":35307,"./ideal-bank-van_lanschot.svg":60340};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=56451},36427:function(e,t,i){"use strict";e.exports=i.p+"checkout-shared/src/images/ideal-bank-abn_amro.8b659b9eaf73d0a5593c.svg"},74493:function(e,t,i){"use strict";e.exports=i.p+"checkout-shared/src/images/ideal-bank-asn_bank.75e9aaa2e49b54c63a84.svg"},86544:function(e,t,i){"use strict";e.exports=i.p+"checkout-shared/src/images/ideal-bank-bunq.0f2299d195d226c43f44.svg"},89103:function(e,t,i){"use strict";e.exports=i.p+"checkout-shared/src/images/ideal-bank-ing.d147726146c783b9f0c8.svg"},60869:function(e,t,i){"use strict";e.exports=i.p+"checkout-shared/src/images/ideal-bank-knab.ff3eb11c1e5b453423f1.svg"},1395:function(e,t,i){"use strict";e.exports=i.p+"checkout-shared/src/images/ideal-bank-rabobank.bc7c3bc447d28811f3f5.svg"},33065:function(e,t,i){"use strict";e.exports=i.p+"checkout-shared/src/images/ideal-bank-regiobank.754029ce41452201b2aa.svg"},79505:function(e,t,i){"use strict";e.exports=i.p+"checkout-shared/src/images/ideal-bank-revolut.07b817c42da8bc1ad174.svg"},61320:function(e,t,i){"use strict";e.exports=i.p+"checkout-shared/src/images/ideal-bank-sns_bank.20104828a8ec6ad204c9.svg"},35307:function(e,t,i){"use strict";e.exports=i.p+"checkout-shared/src/images/ideal-bank-triodos_bank.edfb3d33c27ef424b371.svg"},60340:function(e,t,i){"use strict";e.exports=i.p+"checkout-shared/src/images/ideal-bank-van_lanschot.5a90ff35bc8d50ed3098.svg"},65819:function(e,t,i){"use strict";e.exports=i.p+"common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-300.woff2"},55976:function(e,t,i){"use strict";e.exports=i.p+"common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-400.woff2"},77070:function(e,t,i){"use strict";e.exports=i.p+"common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-500.woff2"},4351:function(e,t,i){"use strict";e.exports=i.p+"common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-600.woff2"},21162:function(e,t,i){"use strict";e.exports=i.p+"common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-700.woff2"},80047:function(e,t,i){"use strict";e.exports=i.p+"common-fonts/ibm-plex-sans/ibmplexsans-v19-300.woff2"},54615:function(e,t,i){"use strict";e.exports=i.p+"common-fonts/ibm-plex-sans/ibmplexsans-v19-400.woff2"},17338:function(e,t,i){"use strict";e.exports=i.p+"common-fonts/ibm-plex-sans/ibmplexsans-v19-500.woff2"},51122:function(e,t,i){"use strict";e.exports=i.p+"common-fonts/ibm-plex-sans/ibmplexsans-v19-600.woff2"},71722:function(e,t,i){"use strict";e.exports=i.p+"common-fonts/ibm-plex-sans/ibmplexsans-v19-700.woff2"},75011:function(e,t,i){"use strict";e.exports=i.p+"common-fonts/sacramento/sacramento-v15-400.woff2"},10763:function(e){"use strict";e.exports=JSON.parse('{"u":"URL","ck":"companyKey","cm":"checkoutCompanyKey","cd":"clientId","ct":"clientTime","cz":"clientTimeZone","lo":"clientLocale","ek":"elementKey","el":"elementLocale","er":"elementReminderKey","ey":"elementType","ep":"elementParams","et":"eventType","te":"customEventType","ev":"customEventData","ed":"elementData","eg":"eventTags","pv":"pageViewId","pl":"pageViewLifetime","r":"referer","rh":"resolutionHeight","rw":"resolutionWidth","t":"title","hl":"uaHistoryLength","wk":"widgetKey","wh":"windowHeight","wx":"windowScrollX","wy":"windowScrollY","ww":"windowWidth","cv":"checkoutViewId","ce":"checkoutError","co":"checkoutOpenTime","cl":"checkoutLifetime","cs":"checkoutScreen","sd":"checkoutScreenData","cc":"checkoutClickElement","cf":"checkoutFrequency","fp":"clickDOMPath","fh":"clickAHref","ft":"clickText","dk":"chargeCampaignKey","dd":"chargeKey","du":"chargeInUSDAmount","di":"chargeInDefaultCurrencyAmount","da":"chargeAmount","dc":"chargeCurrency","df":"chargeFeeCovered","dm":"chargePaymentMethod","dr":"chargeIsRecurring","dn":"chargeHasComment","dh":"chargeHasTribute","dg":"chargeGoal","st":"splitTestName","sv":"splitTestVariant","pm":"paymentMethod","ws":"widgetSession","lm":"livemode","fv":"funSnippetVersion","fe":"funEmbedRelease","vf":"isFundraiseupVisitor","lc":"checkoutLocale","cr":"checkoutIsRecurring","cy":"checkoutCurrency","ca":"checkoutAmount","cu":"checkoutInUSDAmount","yr":"checkoutCurrencyRate","fa":"checkoutDefaultAmount","cp":"checkoutPresets","ps":"pageScripts","ol":"clientOnLine","dt":"clientDoNotTrack","pr":"clientDevicePixelRatio","rm":"clientDeviceMemory","hc":"clientHardwareConcurrency","nt":"clientConnectionType","nd":"clientConnectionDownlink","nr":"clientConnectionRTT","ne":"clientConnectionEffectiveType","bc":"clientBatteryCharging","bt":"clientBatteryChargingTime","bd":"clientBatteryDischargingTime","bl":"clientBatteryLevel","de":"dataLayerEventName","dp":"dataLayerParams","fn":"pixelEventName","fs":"pixelEventData","gk":"fundraisingGroupKey","pk":"fundraisingPageKey","pc":"fundraisingPageCustomerKey","ec":"eventComment","ba":"uaIsInApp","uw":"uaWebdriver","rd":"duration","se":"source","sk":"supporterKey","ak":"agentKey","pu":"pointingDeviceIsUsed","fo":"donationType","cn":"clientCookieConsent","tt":"checkoutType"}')},76271:function(e){"use strict";e.exports=JSON.parse('{"SHP":{"name":"St. Helena Pound","code":"SHP","symbol":"","digits":2},"EUR":{"name":"Euro","code":"EUR","symbol":"","digits":2},"AED":{"name":"United Arab Emirates Dirham","code":"AED","symbol":"","digits":2},"AFN":{"name":"Afghan Afghani","code":"AFN","symbol":"","digits":2},"XCD":{"name":"East Caribbean Dollar","code":"XCD","symbol":"$","digits":2},"ALL":{"name":"Albanian Lek","code":"ALL","symbol":"","digits":2},"AMD":{"name":"Armenian Dram","code":"AMD","symbol":"","digits":2},"AOA":{"name":"Angolan Kwanza","code":"AOA","symbol":"Kz","digits":2},"ARS":{"name":"Argentine Peso","code":"ARS","symbol":"$","digits":2},"USD":{"name":"US Dollar","code":"USD","symbol":"$","digits":2},"AUD":{"name":"Australian Dollar","code":"AUD","symbol":"$","digits":2},"ANG":{"name":"Netherlands Antillean Guilder","code":"ANG","symbol":"","digits":2},"AWG":{"name":"Aruban Florin","code":"AWG","symbol":"","digits":2},"AZN":{"name":"Azerbaijani Manat","code":"AZN","symbol":"","digits":2},"BAM":{"name":"Bosnia-Herzegovina Convertible Mark","code":"BAM","symbol":"KM","digits":2},"BBD":{"name":"Barbadian Dollar","code":"BBD","symbol":"$","digits":2},"INR":{"name":"Indian Rupee","code":"INR","symbol":"","digits":2},"PKR":{"name":"Pakistani Rupee","code":"PKR","symbol":"Rs","digits":2},"BDT":{"name":"Bangladeshi Taka","code":"BDT","symbol":"","digits":2},"XOF":{"name":"West African CFA Franc","code":"XOF","symbol":"","digits":0},"BGN":{"name":"Bulgarian Lev","code":"BGN","symbol":"","digits":2},"BHD":{"name":"Bahraini Dinar","code":"BHD","symbol":"","digits":2},"BIF":{"name":"Burundian Franc","code":"BIF","symbol":"","digits":0},"BMD":{"name":"Bermudan Dollar","code":"BMD","symbol":"$","digits":2},"MYR":{"name":"Malaysian Ringgit","code":"MYR","symbol":"RM","digits":2},"BND":{"name":"Brunei Dollar","code":"BND","symbol":"$","digits":2},"BOB":{"name":"Bolivian Boliviano","code":"BOB","symbol":"Bs","digits":2},"BRL":{"name":"Brazilian Real","code":"BRL","symbol":"R$","digits":2},"BSD":{"name":"Bahamian Dollar","code":"BSD","symbol":"$","digits":2},"BTN":{"name":"Bhutanese Ngultrum","code":"BTN","symbol":"","digits":2},"NOK":{"name":"Norwegian Krone","code":"NOK","symbol":"kr","digits":2},"ZAR":{"name":"South African Rand","code":"ZAR","symbol":"R","digits":2},"BWP":{"name":"Botswanan Pula","code":"BWP","symbol":"P","digits":2},"BYN":{"name":"Belarusian Ruble","code":"BYN","symbol":"","digits":2},"BZD":{"name":"Belize Dollar","code":"BZD","symbol":"$","digits":2},"CAD":{"name":"Canadian Dollar","code":"CAD","symbol":"$","digits":2},"CDF":{"name":"Congolese Franc","code":"CDF","symbol":"","digits":2},"XAF":{"name":"Central African CFA Franc","code":"XAF","symbol":"","digits":0},"CHF":{"name":"Swiss Franc","code":"CHF","symbol":"","digits":2},"NZD":{"name":"New Zealand Dollar","code":"NZD","symbol":"$","digits":2},"CLP":{"name":"Chilean Peso","code":"CLP","symbol":"$","digits":0},"CNY":{"name":"Chinese Yuan","code":"CNY","symbol":"","digits":2},"COP":{"name":"Colombian Peso","code":"COP","symbol":"$","digits":2},"CRC":{"name":"Costa Rican Coln","code":"CRC","symbol":"","digits":2},"CVE":{"name":"Cape Verdean Escudo","code":"CVE","symbol":"","digits":2},"CZK":{"name":"Czech Koruna","code":"CZK","symbol":"K","digits":2},"DJF":{"name":"Djiboutian Franc","code":"DJF","symbol":"","digits":0},"DKK":{"name":"Danish Krone","code":"DKK","symbol":"kr","digits":2},"DOP":{"name":"Dominican Peso","code":"DOP","symbol":"$","digits":2},"DZD":{"name":"Algerian Dinar","code":"DZD","symbol":"","digits":2},"EGP":{"name":"Egyptian Pound","code":"EGP","symbol":"E","digits":2},"MAD":{"name":"Moroccan Dirham","code":"MAD","symbol":"","digits":2},"ETB":{"name":"Ethiopian Birr","code":"ETB","symbol":"","digits":2},"FJD":{"name":"Fijian Dollar","code":"FJD","symbol":"$","digits":2},"FKP":{"name":"Falkland Islands Pound","code":"FKP","symbol":"","digits":2},"JPY":{"name":"Japanese Yen","code":"JPY","symbol":"","digits":0},"GBP":{"name":"British Pound","code":"GBP","symbol":"","digits":2},"GEL":{"name":"Georgian Lari","code":"GEL","symbol":"","digits":2},"GHS":{"name":"Ghanaian Cedi","code":"GHS","symbol":"GH","digits":2},"GIP":{"name":"Gibraltar Pound","code":"GIP","symbol":"","digits":2},"GMD":{"name":"Gambian Dalasi","code":"GMD","symbol":"","digits":2},"GNF":{"name":"Guinean Franc","code":"GNF","symbol":"FG","digits":0},"GTQ":{"name":"Guatemalan Quetzal","code":"GTQ","symbol":"Q","digits":2},"GYD":{"name":"Guyanaese Dollar","code":"GYD","symbol":"$","digits":2},"HKD":{"name":"Hong Kong Dollar","code":"HKD","symbol":"$","digits":2},"HNL":{"name":"Honduran Lempira","code":"HNL","symbol":"L","digits":2},"HRK":{"name":"Croatian Kuna","code":"HRK","symbol":"kn","digits":2},"HTG":{"name":"Haitian Gourde","code":"HTG","symbol":"","digits":2},"HUF":{"name":"Hungarian Forint","code":"HUF","symbol":"Ft","digits":2},"IDR":{"name":"Indonesian Rupiah","code":"IDR","symbol":"Rp","digits":2},"ILS":{"name":"Israeli New Shekel","code":"ILS","symbol":"","digits":2},"ISK":{"name":"Icelandic Krna","code":"ISK","symbol":"kr","digits":2},"JMD":{"name":"Jamaican Dollar","code":"JMD","symbol":"$","digits":2},"JOD":{"name":"Jordanian Dinar","code":"JOD","symbol":"","digits":2},"KES":{"name":"Kenyan Shilling","code":"KES","symbol":"","digits":2},"KGS":{"name":"Kyrgystani Som","code":"KGS","symbol":"","digits":2},"KHR":{"name":"Cambodian Riel","code":"KHR","symbol":"","digits":2},"KMF":{"name":"Comorian Franc","code":"KMF","symbol":"CF","digits":0},"KRW":{"name":"South Korean Won","code":"KRW","symbol":"","digits":0},"KWD":{"name":"Kuwaiti Dinar","code":"KWD","symbol":"","digits":2},"KYD":{"name":"Cayman Islands Dollar","code":"KYD","symbol":"$","digits":2},"KZT":{"name":"Kazakhstani Tenge","code":"KZT","symbol":"","digits":2},"LAK":{"name":"Laotian Kip","code":"LAK","symbol":"","digits":2},"LBP":{"name":"Lebanese Pound","code":"LBP","symbol":"L","digits":2},"LKR":{"name":"Sri Lankan Rupee","code":"LKR","symbol":"Rs","digits":2},"LRD":{"name":"Liberian Dollar","code":"LRD","symbol":"$","digits":2},"LSL":{"name":"Lesotho Loti","code":"LSL","symbol":"","digits":2},"MDL":{"name":"Moldovan Leu","code":"MDL","symbol":"","digits":2},"MGA":{"name":"Malagasy Ariary","code":"MGA","symbol":"Ar","digits":0},"MKD":{"name":"Macedonian Denar","code":"MKD","symbol":"","digits":2},"MMK":{"name":"Myanmar Kyat","code":"MMK","symbol":"K","digits":2},"MNT":{"name":"Mongolian Tugrik","code":"MNT","symbol":"","digits":2},"MOP":{"name":"Macanese Pataca","code":"MOP","symbol":"","digits":2},"MRO":{"name":"Mauritanian Ouguiya (19732017)","code":"MRO","symbol":"","digits":2},"MUR":{"name":"Mauritian Rupee","code":"MUR","symbol":"Rs","digits":2},"MVR":{"name":"Maldivian Rufiyaa","code":"MVR","symbol":"","digits":2},"MWK":{"name":"Malawian Kwacha","code":"MWK","symbol":"","digits":2},"MXN":{"name":"Mexican Peso","code":"MXN","symbol":"$","digits":2},"MZN":{"name":"Mozambican Metical","code":"MZN","symbol":"","digits":2},"NAD":{"name":"Namibian Dollar","code":"NAD","symbol":"$","digits":2},"XPF":{"name":"CFP Franc","code":"XPF","symbol":"","digits":0},"NGN":{"name":"Nigerian Naira","code":"NGN","symbol":"","digits":2},"NIO":{"name":"Nicaraguan Crdoba","code":"NIO","symbol":"C$","digits":2},"SEK":{"name":"Swedish Krona","code":"SEK","symbol":"kr","digits":2},"NPR":{"name":"Nepalese Rupee","code":"NPR","symbol":"Rs","digits":2},"OMR":{"name":"Omani Rial","code":"OMR","symbol":"","digits":2},"PAB":{"name":"Panamanian Balboa","code":"PAB","symbol":"","digits":2},"PEN":{"name":"Peruvian Sol","code":"PEN","symbol":"","digits":2},"PGK":{"name":"Papua New Guinean Kina","code":"PGK","symbol":"","digits":2},"PHP":{"name":"Philippine Peso","code":"PHP","symbol":"","digits":2},"PLN":{"name":"Polish Zloty","code":"PLN","symbol":"z","digits":2},"PYG":{"name":"Paraguayan Guarani","code":"PYG","symbol":"","digits":0},"QAR":{"name":"Qatari Riyal","code":"QAR","symbol":"","digits":2},"RON":{"name":"Romanian Leu","code":"RON","symbol":"lei","digits":2},"RSD":{"name":"Serbian Dinar","code":"RSD","symbol":"","digits":2},"RUB":{"name":"Russian Ruble","code":"RUB","symbol":"","digits":2},"RWF":{"name":"Rwandan Franc","code":"RWF","symbol":"RF","digits":0},"SAR":{"name":"Saudi Riyal","code":"SAR","symbol":"","digits":2},"SBD":{"name":"Solomon Islands Dollar","code":"SBD","symbol":"$","digits":2},"SCR":{"name":"Seychellois Rupee","code":"SCR","symbol":"","digits":2},"SGD":{"name":"Singapore Dollar","code":"SGD","symbol":"$","digits":2},"SLL":{"name":"Sierra Leonean Leone (19642022)","code":"SLL","symbol":"","digits":2},"SLE":{"name":"Sierra Leonean Leone","code":"SLE","symbol":"","digits":2},"SOS":{"name":"Somali Shilling","code":"SOS","symbol":"","digits":2},"SRD":{"name":"Surinamese Dollar","code":"SRD","symbol":"$","digits":2},"STD":{"name":"So Tom & Prncipe Dobra (19772017)","code":"STD","symbol":"","digits":2},"SVC":{"name":"Salvadoran Coln","code":"SVC","symbol":"","digits":2},"SZL":{"name":"Swazi Lilangeni","code":"SZL","symbol":"","digits":2},"THB":{"name":"Thai Baht","code":"THB","symbol":"","digits":2},"TJS":{"name":"Tajikistani Somoni","code":"TJS","symbol":"","digits":2},"TND":{"name":"Tunisian Dinar","code":"TND","symbol":"","digits":2},"TOP":{"name":"Tongan Paanga","code":"TOP","symbol":"T$","digits":2},"TRY":{"name":"Turkish Lira","code":"TRY","symbol":"","digits":2},"TTD":{"name":"Trinidad & Tobago Dollar","code":"TTD","symbol":"$","digits":2},"TWD":{"name":"New Taiwan Dollar","code":"TWD","symbol":"$","digits":2},"TZS":{"name":"Tanzanian Shilling","code":"TZS","symbol":"","digits":2},"UAH":{"name":"Ukrainian Hryvnia","code":"UAH","symbol":"","digits":2},"UYU":{"name":"Uruguayan Peso","code":"UYU","symbol":"$","digits":2},"UZS":{"name":"Uzbekistani Som","code":"UZS","symbol":"","digits":2},"VND":{"name":"Vietnamese Dong","code":"VND","symbol":"","digits":0},"VUV":{"name":"Vanuatu Vatu","code":"VUV","symbol":"","digits":0},"WST":{"name":"Samoan Tala","code":"WST","symbol":"","digits":2},"YER":{"name":"Yemeni Rial","code":"YER","symbol":"","digits":2},"ZMW":{"name":"Zambian Kwacha","code":"ZMW","symbol":"ZK","digits":2}}')},59222:function(e){"use strict";e.exports=JSON.parse('{"AC":["SHP"],"AD":["EUR"],"AE":["AED"],"AF":["AFN"],"AG":["XCD"],"AI":["XCD"],"AL":["ALL"],"AM":["AMD"],"AO":["AOA"],"AR":["ARS"],"AS":["USD"],"AT":["EUR"],"AU":["AUD"],"AW":["AWG","ANG"],"AX":["EUR"],"AZ":["AZN"],"BA":["BAM"],"BB":["BBD","XCD"],"BD":["BDT","PKR","INR"],"BE":["EUR"],"BF":["XOF"],"BG":["BGN","EUR"],"BH":["BHD"],"BI":["BIF"],"BJ":["XOF"],"BL":["EUR"],"BM":["BMD"],"BN":["BND","MYR"],"BO":["BOB"],"BQ":["USD","ANG"],"BR":["BRL"],"BS":["BSD"],"BT":["BTN","INR"],"BV":["NOK"],"BW":["BWP","ZAR"],"BY":["BYN","EUR"],"BZ":["BZD"],"CA":["CAD","USD"],"CC":["AUD"],"CD":["CDF"],"CF":["XAF"],"CG":["XAF"],"CH":["CHF"],"CI":["XOF"],"CK":["NZD"],"CL":["CLP"],"CM":["XAF"],"CN":["CNY"],"CO":["COP"],"CR":["CRC"],"CS":["EUR"],"CU":["USD"],"CV":["CVE"],"CW":["ANG"],"CX":["AUD"],"CY":["EUR"],"CZ":["CZK","EUR"],"DE":["EUR"],"DG":["USD"],"DJ":["DJF"],"DK":["DKK","EUR"],"DM":["XCD"],"DO":["DOP","USD"],"DZ":["DZD"],"EA":["EUR"],"EC":["USD"],"EE":["EUR"],"EG":["EGP"],"EH":["MAD"],"ER":["ETB"],"ES":["EUR"],"ET":["ETB"],"EU":["EUR"],"FI":["EUR"],"FJ":["FJD"],"FK":["FKP"],"FM":["USD","JPY"],"FO":["DKK"],"FR":["EUR"],"GA":["XAF"],"GB":["GBP","EUR"],"GD":["XCD"],"GE":["GEL"],"GF":["EUR"],"GG":["GBP"],"GH":["GHS"],"GI":["GIP"],"GL":["DKK"],"GM":["GMD"],"GN":["GNF"],"GP":["EUR"],"GQ":["XAF"],"GR":["EUR"],"GS":["GBP"],"GT":["GTQ"],"GU":["USD"],"GW":["XOF"],"GY":["GYD"],"HK":["HKD"],"HM":["AUD"],"HN":["HNL"],"HR":["EUR"],"HT":["USD","HTG"],"HU":["HUF","EUR"],"IC":["EUR"],"ID":["IDR"],"IE":["EUR","GBP"],"IL":["ILS"],"IM":["GBP"],"IN":["INR"],"IO":["USD"],"IQ":["INR","EGP"],"IS":["ISK","DKK"],"IT":["EUR"],"JE":["GBP"],"JM":["JMD"],"JO":["JOD"],"JP":["JPY"],"KE":["KES"],"KG":["KGS"],"KH":["KHR"],"KI":["AUD"],"KM":["KMF"],"KN":["XCD"],"KR":["KRW"],"KW":["KWD"],"KY":["KYD","JMD"],"KZ":["KZT"],"LA":["LAK"],"LB":["LBP"],"LC":["XCD"],"LI":["CHF"],"LK":["LKR"],"LR":["LRD"],"LS":["LSL","ZAR"],"LT":["EUR"],"LU":["EUR"],"LV":["EUR"],"MA":["MAD"],"MC":["EUR"],"MD":["MDL"],"ME":["EUR"],"MF":["EUR"],"MG":["MGA"],"MH":["USD"],"MK":["MKD"],"ML":["XOF","XOF"],"MM":["MMK"],"MN":["MNT"],"MO":["MOP"],"MP":["USD"],"MQ":["EUR"],"MR":["MRO","XOF"],"MS":["XCD"],"MT":["EUR"],"MU":["MUR"],"MV":["MVR"],"MW":["MWK"],"MX":["MXN","USD"],"MY":["MYR"],"MZ":["MZN"],"NA":["NAD","ZAR"],"NC":["XPF"],"NE":["XOF"],"NF":["AUD"],"NG":["NGN"],"NI":["NIO"],"NL":["EUR"],"NO":["NOK","SEK","EUR"],"NP":["NPR","INR"],"NR":["AUD"],"NU":["NZD"],"NZ":["NZD"],"OM":["OMR"],"PA":["USD","PAB"],"PE":["PEN"],"PF":["XPF"],"PG":["PGK","AUD"],"PH":["PHP"],"PK":["PKR","INR"],"PL":["PLN","EUR"],"PM":["EUR"],"PN":["NZD"],"PR":["USD"],"PS":["JOD","ILS","JOD"],"PT":["EUR"],"PW":["USD"],"PY":["PYG"],"QA":["QAR"],"RE":["EUR"],"RO":["RON","EUR"],"RS":["RSD"],"RU":["RUB","EUR"],"RW":["RWF"],"SA":["SAR"],"SB":["SBD","AUD"],"SC":["SCR"],"SD":["GBP","EGP"],"SE":["SEK","EUR"],"SG":["SGD","MYR"],"SH":["SHP"],"SI":["EUR"],"SJ":["NOK"],"SK":["EUR"],"SL":["SLE","SLL","GBP"],"SM":["EUR"],"SN":["XOF"],"SO":["SOS"],"SR":["SRD"],"ST":["STD"],"SV":["USD"],"SX":["ANG"],"SZ":["SZL"],"TA":["GBP"],"TC":["USD"],"TD":["XAF"],"TF":["EUR"],"TG":["XOF"],"TH":["THB"],"TJ":["TJS"],"TK":["NZD"],"TL":["USD","IDR"],"TN":["TND"],"TO":["TOP"],"TP":["IDR"],"TR":["TRY"],"TT":["TTD"],"TV":["AUD"],"TW":["TWD"],"TZ":["TZS"],"UA":["UAH","EUR"],"UM":["USD"],"US":["USD"],"UY":["UYU"],"UZ":["UZS"],"VA":["EUR"],"VC":["XCD"],"VG":["GBP","USD"],"VI":["USD"],"VN":["VND"],"VU":["VUV"],"WF":["XPF"],"WS":["WST"],"XK":["EUR"],"YE":["YER"],"YT":["EUR","KMF"],"ZA":["ZAR"],"ZM":["ZMW"],"ZW":["USD"]}')},43948:function(e){"use strict";e.exports=JSON.parse('{"name":"ACH","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"minAmount":{"size":9500,"currency":"USD"}},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},68984:function(e){"use strict";e.exports=JSON.parse('{"name":"ACSS","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["CAD"],"companyCountry":["CA","US"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["CAD"],"companyCountry":["CA","US"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"minAmount":{"size":1500,"currency":"CAD"}},"currency":["CAD"],"companyCountry":["CA","US"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["CAD"],"companyCountry":["CA","US"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},76826:function(e){"use strict";e.exports=JSON.parse('{"name":"Apple Pay","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},69455:function(e){"use strict";e.exports=JSON.parse('{"name":"BECS Direct Debit","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"minAmount":{"size":200,"currency":"AUD"}},"currency":["AUD"],"companyCountry":["AU"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["AUD"],"companyCountry":["AU"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"minAmount":{"size":200,"currency":"AUD"}},"currency":["AUD"],"companyCountry":["AU"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["AUD"],"companyCountry":["AU"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},23539:function(e){"use strict";e.exports=JSON.parse('{"name":"Click to Pay","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},3243:function(e){"use strict";e.exports=JSON.parse('{"name":"Credit Card","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},35655:function(e){"use strict";e.exports=JSON.parse('{"name":"Crypto","provider":"gemini","donorPortalSubscriptionEditor":{},"dashboardSubscriptionEditor":{},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once"]},"virtualTerminal":{}}')},25197:function(e){"use strict";e.exports=JSON.parse('{"name":"Google Pay","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},64006:function(e){"use strict";e.exports=JSON.parse('{"name":"iDEAL","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"minAmount":{"size":200,"currency":"EUR"}},"currency":["EUR"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE","NO","US","CH","AU","BG","CA","HR","CZ","DK","GI","HK","HU","JP","LI","MX","NZ","GB"],"customerCountry":["NL","BE","LU","DE"],"email":{"required":true},"address":{"required":false},"repeat":["once","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{},"widget":{"amount":{"minAmount":{"size":200,"currency":"EUR"}},"currency":["EUR"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE","NO","US","CH","AU","BG","CA","HR","CZ","DK","GI","HK","HU","JP","LI","MX","NZ","GB"],"customerCountry":["NL","BE","LU","DE"],"email":{"required":true},"address":{"required":false},"repeat":["once","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{}}')},45435:function(e){"use strict";e.exports=JSON.parse('{"name":"PayPal","provider":"paypal","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},32449:function(e){"use strict";e.exports=JSON.parse('{"name":"Plaid","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},88403:function(e){"use strict";e.exports=JSON.parse('{"name":"SEPA Direct Debit","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"minAmount":{"size":200,"currency":"EUR"}},"currency":["EUR"],"repeat":["once","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE","NO","US","CH","AU","BG","CA","HR","CZ","DK","GI","HK","HU","JP","LI","MX","NZ","GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true}},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["EUR"],"repeat":["once","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE","NO","US","CH","AU","BG","CA","HR","CZ","DK","GI","HK","HU","JP","LI","MX","NZ","GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true}},"widget":{"amount":{"minAmount":{"size":200,"currency":"EUR"}},"currency":["EUR"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE","NO","US","CH","AU","BG","CA","HR","CZ","DK","GI","HK","HU","JP","LI","MX","NZ","GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"requiredIfIbanCountry":["AD","PF","TF","GI","GB","GG","VA","IM","JE","MC","NC","BL","PM","SM","CH","WF"]},"repeat":["once","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["EUR"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE","NO","US","CH","AU","BG","CA","HR","CZ","DK","GI","HK","HU","JP","LI","MX","NZ","GB"],"address":{"requiredIfIbanCountry":["AD","PF","TF","GI","GB","GG","VA","IM","JE","MC","NC","BL","PM","SM","CH","WF"]},"email":{"required":true},"repeat":["once","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},21600:function(e){"use strict";e.exports=JSON.parse('{"name":"Stock","provider":"manualBrokerage","donorPortalSubscriptionEditor":{},"dashboardSubscriptionEditor":{},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once"]},"virtualTerminal":{}}')},21433:function(e){"use strict";e.exports=JSON.parse('{"name":"Bacs Direct Debit","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"minAmount":{"size":200,"currency":"GBP"}},"currency":["GBP"],"companyCountry":["GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true},"repeat":["weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["GBP"],"companyCountry":["GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true},"repeat":["weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"minAmount":{"size":200,"currency":"GBP"}},"currency":["GBP"],"companyCountry":["GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true},"repeat":["weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["GBP"],"companyCountry":["GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true},"repeat":["weekly","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},67868:function(e){"use strict";e.exports=JSON.parse('{"name":"ACH","provider":"stripe","donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","every4weeks","monthly","bimonthly","quarterly","semiannual","annual"]}}')},16660:function(e){"use strict";e.exports=JSON.parse('{"name":"Venmo","provider":"paypal","donorPortalSubscriptionEditor":{},"dashboardSubscriptionEditor":{},"widget":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once"]},"virtualTerminal":{}}')}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var i=s[e]={id:e,loaded:!1,exports:{}};return r[e].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=r,e=[],o.O=function(t,i,n,a){if(!i){var r=1/0;for(u=0;u<e.length;u++){i=e[u][0],n=e[u][1],a=e[u][2];for(var s=!0,c=0;c<i.length;c++)(!1&a||r>=a)&&Object.keys(o.O).every((function(e){return o.O[e](i[c])}))?i.splice(c--,1):(s=!1,a<r&&(r=a));if(s){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[i,n,a]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},i=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var a=Object.create(null);o.r(a);var r={};t=t||[null,i({}),i([]),i(i)];for(var s=2&n&&e;"object"==typeof s&&!~t.indexOf(s);s=i(s))Object.getOwnPropertyNames(s).forEach((function(t){r[t]=function(){return e[t]}}));return r.default=function(){return e},o.d(a,r),a},o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,i){return o.f[i](e,t),t}),[]))},o.u=function(e){return({330:"checkout-locale-ar_001",1080:"checkout-locale-en_GB",1086:"checkout-locale-zh_CN",1139:"checkout-locale-sv",2209:"checkout-locale-ko",3206:"checkout-sentry-vendor",3634:"checkout-locale-da",3799:"checkout-locale-en_CA",4002:"checkout-locale-fr_CA",4534:"checkout-locale-es",4971:"checkout-locale-fi_FI",5298:"checkout-locale-pt_PT",5924:"checkout-locale-ru_RU",6161:"checkout-locale-zh_TW",6442:"checkout-locale-it",6526:"checkout-locale-en_US",6580:"checkout-styles",6661:"legacy-currency-filter",7652:"checkout-locale-de",8012:"checkout-locale-es_US",8317:"checkout-locale-ja",8796:"checkout-locale-no",8866:"checkout-crypto-currencies",8918:"checkout-locale-fr_FR",9419:"checkout-locale-nl",9562:"checkout-locale-pt_BR",9930:"checkout-locale-hu"}[e]||e)+"."+{330:"ee15bb00524fca43b751",1080:"94b9aad887f6f397a1c9",1086:"dca629c231d815f2c0c9",1139:"52c16ba5bb169e58da18",2209:"1b60be9815d727023f66",2978:"2ae36abb47a19b3f20cc",3206:"cb7df9ac7a699b7bc176",3634:"3f5ae132aef3e3cdb033",3799:"5b68d0eb8de191191a89",4002:"41b5450fb0cb54a70b0d",4534:"248c48f65582acbfcd7c",4971:"5589bc005b3cb1aa031b",5298:"e0f9730e82cac924bb01",5529:"a15f15f5a5d323656581",5924:"0eca8e4bc0451a694d36",6161:"ddf75ec78ce59e25c8c9",6399:"75a9d2cfa300f2c7fc3f",6442:"8c40725c1afd7f9fffad",6526:"1a80d15a2ac8debcab9b",6580:"ac9aeb52fb65c1b6b9ad",6661:"53f4975b92aabbfdb2e8",7652:"c99a238e8b874ace2ac3",8012:"e5b5bdc0ba3cec2ebdec",8317:"2d093874529956dd117c",8796:"5f624c98a4d3054b0c04",8866:"9554f4203e3bdb0b1765",8918:"8d9bafc14d3ce346a037",9127:"c9693c7d39e7248562cd",9419:"a4fc358e8d3e089d4889",9562:"d1097e9ee4c8de100b5e",9828:"516230dc84676cf7272b",9930:"e192856cf13371d1118e"}[e]+".js"},o.miniCssF=function(e){},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},a="@fundraiseup/checkout:",o.l=function(e,t,i,r){if(n[e])n[e].push(t);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==a+i){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",a+i),s.src=e),n[e]=[t];var h=function(t,i){s.onerror=s.onload=null,clearTimeout(m);var a=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(i)})),t)return t(i)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},o.p="https://static.fundraiseup.com/",function(){o.b=document.baseURI||self.location.href;var e={7348:0,9828:0};o.f.j=function(t,i){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var a=new Promise((function(i,a){n=e[t]=[i,a]}));i.push(n[2]=a);var r=o.p+o.u(t),s=new Error;o.l(r,(function(i){if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",s.name="ChunkLoadError",s.type=a,s.request=r,n[1](s)}}),"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,a,r=i[0],s=i[1],c=i[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(c)var u=c(o)}for(t&&t(i);l<r.length;l++)a=r[l],o.o(e,a)&&e[a]&&e[a][0](),e[r[l]]=0;return o.O(u)},i=self.webpackChunk_fundraiseup_checkout=self.webpackChunk_fundraiseup_checkout||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var c=o.O(void 0,[9082],(function(){return o(90553)}));c=o.O(c)}();