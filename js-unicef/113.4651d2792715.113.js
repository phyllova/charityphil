"use strict";(self.funElementsApi=self.funElementsApi||[]).push([[113],{13295:(e,t,n)=>{var i;n.d(t,{X:()=>i}),function(e){e.NO="no",e.CHECKOUT="checkout",e.CUSTOM="custom"}(i||(i={}))},38147:(e,t,n)=>{n.d(t,{H:()=>m});var i=n(99010);class a{constructor(e){this.checkoutTypes=e.checkoutTypes,this.donorPortalUrl=e.donorPortalUrl,this.window=e.window,this.campaignKey=e.campaignKey,this.customHash=e.customHash}shouldRedirect(){var e,t;return!!this.donorPortalUrl&&!!(null===(e=this.checkoutTypes)||void 0===e?void 0:e.campaignPage)&&!(null===(t=this.checkoutTypes)||void 0===t?void 0:t.checkoutModal)}getCampaignPageUrl(){return this.donorPortalUrl?function(e,t,n){const i=new URL(`${e}/page/${t}`);return i.toString()}(this.donorPortalUrl,this.customHash||this.campaignKey):""}openCampaignPage(e){const{searchParams:t,elementType:n,element:a,checkoutData:s,checkoutIntent:r,elementTitle:l,elementName:o}=e||{},h=this.getCampaignPageUrl();if(!h)return;const m=new URL(h),c=null!=t?t:new URLSearchParams;n&&c.set("elementType",n),l&&c.set("elementTitle",l),o&&c.set("elementName",o),a&&c.set("element",a),s&&c.set("elementCheckoutData",this.encodeCheckoutData(s)),r&&c.set("checkoutIntent",this.encodeCheckoutData(r));const d=m.toString(),u=c.size?`?${(0,i.VJ)(c)}`:"";this.window.location.href=`${d}${u}`}encodeCheckoutData(e){const t=JSON.stringify(e),n=encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,((e,t)=>{const n=parseInt(t,16);return String.fromCharCode(n)}));return btoa(n)}}var s=n(12952),r=n(24984);class l extends r.f{get eventType(){return s.uF}}var o=n(57518),h=n(57814);class m{constructor(e){this.checkoutData={},this.elementData=e.elementData,this.tracker=e.tracker,e.elementData.elementType===o.Yq.REMINDER&&(this.elementData.elementReminderKey=this.elementData.elementKey),e.checkoutData&&(this.checkoutData=e.checkoutData),this.queryParams=e.queryParams}open(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null===this.checkoutData.designationId&&(this.checkoutData.modifyDesignation=!0);const i=Object.assign({},this.checkoutData,t);this.elementTrackingData=t.elementTrackingData;const s={provideCustomAmount:Boolean(i.amount),screen:t.screen,elementReminderKey:t.elementReminderKey},r=t.intent||void 0,l=Object.assign({},this.elementData,s),o=(0,h.aN)();o&&(n.fundraiseupLivemode=o),this.mutateLauncherForReminder(l,t),this.trackElementOpenCheckout(e);const m={launcher:l,checkoutData:i,checkoutIntent:r,test:{name:this.elementData.splitTestName,variant:this.elementData.splitTestVariant},elementTrackingData:this.elementTrackingData,queryParams:Object.assign(Object.assign({},this.queryParams||{}),n)},c=new a({checkoutTypes:this.elementData.checkoutTypes,donorPortalUrl:this.elementData.donorPortalUrl,window,campaignKey:e,customHash:this.elementData.customHash});return c.shouldRedirect()?(c.openCampaignPage({elementType:this.elementData.elementType,elementTitle:this.elementData.elementTitle,elementName:this.elementData.elementName,element:this.elementData.elementKey,searchParams:new URL(window.location.href).searchParams,checkoutData:{recurring:i.recurring,modifyAmount:i.modifyAmount,amount:i.amount,designationId:i.designationId,currency:i.currency,allowCentsForCharges:i.allowCentsForCharges,tribute:i.tribute?{type:i.tribute.type,inHonorOf:i.tribute.inHonorOf,labelType:i.tribute.labelType}:void 0,customFields:i.customFields,fundraiser:i.fundraiser,modifyDesignation:i.modifyDesignation,successUrl:i.successUrl,hints:i.hints,selectedHint:i.selectedHint,isCustomAmount:i.isCustomAmount}}),Promise.resolve()):(window.FUN.checkout.open(e,m),Promise.resolve())}trackElementOpenCheckout(e){this.tracker.track(new l({widgetKey:e,elementKey:this.elementData.elementKey,elementType:this.elementData.elementType,elementLocale:this.elementData.elementLocale,elementReminderKey:this.elementData.elementReminderKey,splitTestName:this.elementData.splitTestName,splitTestVariant:this.elementData.splitTestVariant,fundraisingPageKey:this.elementData.fundraisingPageKey,elementData:this.elementTrackingData}))}mutateLauncherForReminder(e,t){var n,i;t.intent&&this.elementData.elementType===o.Yq.REMINDER&&(e.elementReminderKey=this.elementData.elementKey,t.intent.element&&(e.elementKey=null!==(n=t.intent.element.key)&&void 0!==n?n:e.elementKey,e.elementType=null!==(i=t.intent.element.type)&&void 0!==i?i:e.elementType))}}},1563:(e,t,n)=>{n.d(t,{R:()=>d,a:()=>u});var i=n(57814),a=n(72556),s=n(23827),r=n(49582),l=n(28327),o=n(80402);class h{constructor(e){this.app=null,this.iframe=e.iframe,this.element=e.element,this.component=e.component,this.eventListeners=e.eventListeners,this.render()}initialize(){if(!this.app)throw new Error("Element Vue Instance is not created");this.app.initialize()}update(){if(!this.app)throw new Error("Element Vue Instance is not created");this.app.update()}destroy(){this.app?(this.app.$destroy(),this.app=null):console.warn("Element Vue Instance is not created")}on(e,t){this.app?this.app.$on(e,t):console.warn("Element Vue Instance is not created")}emitEvent(e){this.app.$emit(e)}render(){if(this.app)return;const e=this.iframe,t=this.element,n=this.iframe.iframeWindow,i=this.initializeIntlPlugin(r.Z),a=(0,o.X)(i);this.app=new r.Z({components:{ElementComponent:this.component},provide:{$element:t,$iframe:e,$intl:i,$subscriptionPeriodLabelsProvider:a,$window:n},methods:{initialize(){if(!this.$refs.ElementComponent.initialize)throw new Error("Vue Component has to implement initialize method!");this.$refs.ElementComponent.initialize()},update(){if(!this.$refs.ElementComponent.update)throw new Error("Vue Component has to implement update method!");this.$refs.ElementComponent.update()}},render:e=>e("ElementComponent",{ref:"ElementComponent"})}),this.addEventListeners(),this.app.$mount(),this.iframe.appendElement(this.app.$el)}addEventListeners(){Array.isArray(this.eventListeners)&&this.eventListeners.length>0&&this.eventListeners.forEach((e=>{this.app.$on(e.event,e.handler)}))}initializeIntlPlugin(e){return l.h.initialize(e,{intl:this.element.intl,isTestMode:this.element.localeConfig.isTest})}}var m=n(4462),c=n(23127);function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{initViewportTracker:!0};return class extends s.H{constructor(e){super(e),this.disableRtl=!1}render(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.iframe=new m.E({styles:this.styles||"",fonts:(0,a.Z)(),node:this.node,id:this.elementKey||this.elementType,title:this.elementTitleLocalized,initialStyles:n.styles,locale:this.elementLocale,disableRtl:this.disableRtl}),t.initViewportTracker&&this.initViewPortTracker(this.iframe.iframeNode),this.vueApp=new h({iframe:this.iframe,component:e,element:this,eventListeners:[{event:c.N_.ELEMENT_RESIZE,handler:()=>{var e;return null===(e=this.viewportTracker)||void 0===e?void 0:e.checkVisibility()}}]}),this.showcase||(this.vueApp.on(c.N_.CLICK,(()=>this.trackElementClick())),this.vueApp.on(c.N_.SHOW,(()=>this.handleElementView()))),this}destroy(){this.assertVueAppInitialized(this.vueApp),this.vueApp.destroy()}updateData(e){super.updateData(e),this.rerender()}updateConfig(e){super.updateConfig(e),this.rerender()}rerender(){this.assertVueAppInitialized(this.vueApp),this.vueApp.initialize()}assertVueAppInitialized(e){if(!e)throw new Error("VueApp is not initialized")}}}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{initViewportTracker:!0};return class extends(d(e,t)){render(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(super.render(t),this.showcase)return this;const n=(0,i.BR)(this,this.tracker);return this.vueApp.on(c.N_.OPEN_WIDGET,(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=e.getElementTrackingData();i&&(t.elementTrackingData=i),n.open(t.widgetKey||e.widgetKey,t).catch(console.error)})),this.vueApp.on(c.N_.CLOSE,(()=>this.trackElementClose())),this.vueApp.on(c.N_.USER_CLOSE,(()=>this.trackElementClickClose())),this}}}},4462:(e,t,n)=>{n.d(t,{E:()=>r});var i=n(82210),a=n(46770),s=n(98078);class r extends s.B{constructor(e){super(Object.assign(Object.assign({},e),{env:(0,i.x)().get(2).env})),this.render()}render(){this.node?this.node.parentNode?(this.node.parentNode.replaceChild(this.iframe,this.node),this.iframe.contentWindow&&(this.iframe.contentWindow.initialize=this.initialize,this.iframe.contentWindow.document.open("text/html","replace"),this.iframe.contentWindow.document.write(this.getIframeTemplate()),this.iframe.contentWindow.document.close())):console.warn("It is not possible to replace node with iframe, parentNode is null!",this.node):console.warn("It is not possible to replace node with iframe, node is null!")}focusVisible(){this.showDocument(),r.isContentWindowAvailable(this.iframeNode.contentWindow)&&(0,a.b)(this.iframeNode.contentWindow,this.iframeNode.contentWindow.document)}setIframeAttributes(){super.setIframeAttributes(),this.setStyles([["visibility","hidden"]]),this.iframe.setAttribute("scrolling","no")}addEventListeners(){this.onLoadHandlers.push((()=>{this.setStyles([["visibility","visible"]])})),super.addEventListeners()}}},80402:(e,t,n)=>{n.d(t,{X:()=>s});var i=n(6384);class a{constructor(e){this.intl=e}get all(){return{daily:{short:this.intl.translate("elementSubscriptionPeriodLabel.daily.short"),noun:this.intl.translate("elementSubscriptionPeriodLabel.daily.noun"),adverb:this.intl.translate("elementSubscriptionPeriodLabel.daily.adverb"),adjective:this.intl.translate("elementSubscriptionPeriodLabel.daily.adjective")},weekly:{short:this.intl.translate("elementSubscriptionPeriodLabel.weekly.short"),noun:this.intl.translate("elementSubscriptionPeriodLabel.weekly.noun"),adverb:this.intl.translate("elementSubscriptionPeriodLabel.weekly.adverb"),adjective:this.intl.translate("elementSubscriptionPeriodLabel.weekly.adjective")},biweekly:{short:this.intl.translate("elementSubscriptionPeriodLabel.biweekly.short"),noun:this.intl.translate("elementSubscriptionPeriodLabel.biweekly.noun"),adverb:this.intl.translate("elementSubscriptionPeriodLabel.biweekly.adverb"),adjective:this.intl.translate("elementSubscriptionPeriodLabel.biweekly.adjective")},every4weeks:{short:this.intl.translate("elementSubscriptionPeriodLabel.every4weeks.short"),noun:this.intl.translate("elementSubscriptionPeriodLabel.every4weeks.noun"),adverb:this.intl.translate("elementSubscriptionPeriodLabel.every4weeks.adverb"),adjective:this.intl.translate("elementSubscriptionPeriodLabel.every4weeks.adjective")},monthly:{short:this.intl.translate("elementSubscriptionPeriodLabel.monthly.short"),noun:this.intl.translate("elementSubscriptionPeriodLabel.monthly.noun"),adverb:this.intl.translate("elementSubscriptionPeriodLabel.monthly.adverb"),adjective:this.intl.translate("elementSubscriptionPeriodLabel.monthly.adjective")},bimonthly:{short:this.intl.translate("elementSubscriptionPeriodLabel.bimonthly.short"),noun:this.intl.translate("elementSubscriptionPeriodLabel.bimonthly.noun"),adverb:this.intl.translate("elementSubscriptionPeriodLabel.bimonthly.adverb"),adjective:this.intl.translate("elementSubscriptionPeriodLabel.bimonthly.adjective")},quarterly:{short:this.intl.translate("elementSubscriptionPeriodLabel.quarterly.short"),noun:this.intl.translate("elementSubscriptionPeriodLabel.quarterly.noun"),adverb:this.intl.translate("elementSubscriptionPeriodLabel.quarterly.adverb"),adjective:this.intl.translate("elementSubscriptionPeriodLabel.quarterly.adjective")},semiannual:{short:this.intl.translate("elementSubscriptionPeriodLabel.semiannual.short"),noun:this.intl.translate("elementSubscriptionPeriodLabel.semiannual.noun"),adverb:this.intl.translate("elementSubscriptionPeriodLabel.semiannual.adverb"),adjective:this.intl.translate("elementSubscriptionPeriodLabel.semiannual.adjective")},annual:{short:this.intl.translate("elementSubscriptionPeriodLabel.annual.short"),noun:this.intl.translate("elementSubscriptionPeriodLabel.annual.noun"),adverb:this.intl.translate("elementSubscriptionPeriodLabel.annual.adverb"),adjective:this.intl.translate("elementSubscriptionPeriodLabel.annual.adjective")}}}}function s(e){const t=new a(e);return(0,i._)(t)}}}]);