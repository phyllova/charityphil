(self.funElementsApi=self.funElementsApi||[]).push([[5105],{6185:e=>{var t=.1,i="function"==typeof Float32Array;function s(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function n(e){return 3*e}function o(e,t,i){return((s(t,i)*e+r(t,i))*e+n(t))*e}function a(e,t,i){return 3*s(t,i)*e*e+2*r(t,i)*e+n(t)}function l(e){return e}e.exports=function(e,s,r,n){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===s&&r===n)return l;for(var h=i?new Float32Array(11):new Array(11),u=0;u<11;++u)h[u]=o(u*t,e,r);return function(i){return 0===i?0:1===i?1:o(function(i){for(var s=0,n=1;10!==n&&h[n]<=i;++n)s+=t;--n;var l=s+(i-h[n])/(h[n+1]-h[n])*t,u=a(l,e,r);return u>=.001?function(e,t,i,s){for(var r=0;r<4;++r){var n=a(t,i,s);if(0===n)return t;t-=(o(t,i,s)-e)/n}return t}(i,l,e,r):0===u?l:function(e,t,i,s,r){var n,a,l=0;do{(n=o(a=t+(i-t)/2,s,r)-e)>0?i=a:t=a}while(Math.abs(n)>1e-7&&++l<10);return a}(i,s,s+t,e,r)}(i),s,n)}}},50857:(e,t,i)=>{var s=i(37772).Symbol;e.exports=s},53366:(e,t,i)=>{var s=i(50857),r=i(62107),n=i(37157),o=s?s.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):n(e)}},51242:(e,t,i)=>{var s="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;e.exports=s},62107:(e,t,i)=>{var s=i(50857),r=Object.prototype,n=r.hasOwnProperty,o=r.toString,a=s?s.toStringTag:void 0;e.exports=function(e){var t=n.call(e,a),i=e[a];try{e[a]=void 0;var s=!0}catch(e){}var r=o.call(e);return s&&(t?e[a]=i:delete e[a]),r}},37157:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},37772:(e,t,i)=>{var s=i(51242),r="object"==typeof self&&self&&self.Object===Object&&self,n=s||r||Function("return this")();e.exports=n},86152:e=>{var t=Array.isArray;e.exports=t},15125:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},85505:(e,t,i)=>{var s=i(53366),r=i(86152),n=i(15125);e.exports=function(e){return"string"==typeof e||!r(e)&&n(e)&&"[object String]"==s(e)}},21448:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var s=i(13312),r=i(1563),n=i(23127),o=function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.currentReminder,{ref:"reminder",tag:"component"})};o._withStripped=!0;var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[i("div",{ref:"wrapper",staticClass:"wrapper",style:e.wrapperStyle},[i("div",{staticClass:"content focus-outline",style:"border-color: "+this.colors.divider,attrs:{role:"button",tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.openWidget(t)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.openWidget(t)}}},[i("div",{ref:"icon",staticClass:"icon",style:"color: "+e.colors.heart,attrs:{qa:"reminder-heart"}},[i("svg",{staticClass:"d-block",attrs:{"svg-inline":"",focusable:"false",role:"presentation",width:"16",height:"16",viewBox:"0 0 16 16"}},[i("path",{attrs:{fill:"currentColor",d:"M8 14.361C20.957 7.215 12.87-.965 8 4.043 3.13-.966-4.957 7.215 8 14.36z"}})])]),e._v(" "),i("div",{staticClass:"text-wrapper",attrs:{"data-qa":"reminder-text"}},[e.intent?i("div",{staticClass:"text",domProps:{innerHTML:e._s(e.message)}}):e._e()]),e._v(" "),i("div",{staticClass:"content-hover-bg",style:e.buttonHoverStyle})]),e._v(" "),i("div",{staticClass:"buttons",attrs:{qa:"reminder-buttons"}},[i("div",{staticClass:"button-ready focus-outline",style:"border-color: "+this.colors.divider,attrs:{role:"button",tabindex:"0","data-qa":"reminder-buttons-open-checkout"},on:{click:function(t){return t.stopPropagation(),e.openWidget(t)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.openWidget(t)}}},[i("div",{staticClass:"button-hover-bg",style:e.buttonHoverStyle}),e._v(" "),i("span",{directives:[{name:"intl-translate",rawName:"v-intl-translate.once",value:"reminder.buttons.confirm",expression:"'reminder.buttons.confirm'",modifiers:{once:!0}}],key:"intl-rW7myu9Z",staticClass:"button-label text-truncate"})]),e._v(" "),i("div",{staticClass:"button-close focus-outline",attrs:{role:"button",tabindex:"0","data-qa":"reminder-buttons-close"},on:{click:e.close,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.close(t)}}},[i("div",{staticClass:"button-hover-bg",style:e.buttonHoverStyle}),e._v(" "),i("span",{directives:[{name:"intl-translate",rawName:"v-intl-translate.once",value:"reminder.buttons.decline",expression:"'reminder.buttons.decline'",modifiers:{once:!0}}],key:"intl-KSdhZn4u",staticClass:"button-label text-truncate"})])])])])};a._withStripped=!0;var l=i(92479);const h={mixins:[i(50734).Z],inject:["$element","$iframe","$intl"],data:()=>({width:0,height:0,ReminderAnimateHelper:null,config:{},intent:{},isMobileView:!1,animate:!0,show:!1,showcase:!1,spacer:null,iframeReadyResolver:null,iframeReady:null,sizeResolved:null,sizeCalcResolver:null,sizeCalculated:null,reminderReadyToShow:null}),computed:{showAmount(){return this.$element.showAmount()},message(){let e="";this.intent.donation&&this.intent.donation.amount&&this.showAmount&&(e=this.$intl.formatCurrency(this.intent.donation.amount,this.intent.donation.currency,"trimzeroes"));let t="";return t=this.intent.supporter&&this.intent.supporter.firstName?this.isMobileView?"reminder.message.mobile.withName":"reminder.message.desktop.withName":this.isMobileView?"reminder.message.mobile.default":"reminder.message.desktop.default",this.$intl.translate(t,{firstName:this.intent.supporter?this.intent.supporter.firstName:void 0,amount:e})},visible(){return this.show&&(this.config.show||this.showcase)},wrapperStyle(){return this.style},style(){return{background:this.colors.background,color:this.colors.text,borderRadius:`${this.sizes.radius}px`,border:`solid ${this.sizes.border}px ${this.colors.border}`,boxShadow:this.config.shadow?"0 1px 4px rgba(0, 0, 0, 0.4)":"none"}},colors(){return{background:this.config.color,heart:this.config.heartColor,text:this.config.textColor,border:this.config.borderColor,divider:this.config.dividerColor}},sizes(){return{radius:this.config.borderRadius,border:this.config.borderSize}},buttonHoverStyle(){return{backgroundColor:this.config.textColor}}},watch:{visible(e,t){window.requestAnimationFrame((()=>{e!==t&&this.$iframe.ready&&this.reminderReadyToShow&&(e?this.reminderReadyToShow.then((()=>{this.updateVisibility()})):this.updateVisibility())}))},config:{handler(){this.$nextTick((()=>{this.setSizesIframe()}))},deep:!0}},created(){this.spacer=null,this.iframeReadyResolver=null,this.iframeReady=new Promise((e=>{this.iframeReadyResolver=e})),this.sizeResolved=!1,this.sizeCalcResolver=null,this.sizeCalculated=new Promise((e=>{this.sizeCalcResolver=e})),this.reminderReadyToShow=Promise.all([this.iframeReady,this.sizeCalculated]),this.$iframe.addOnLoadHandler((()=>{this.iframeReadyResolver()})),this.reminderReadyToShow.then((()=>{this.updateVisibility()})),this.initialize()},mounted(){this.ReminderAnimateHelper=new l.D({pulse:this.$refs.icon,button:this.$refs.wrapper}),this.isMobileView&&this.$iframe.iframeNode.contentDocument&&this.$iframe.iframeNode.contentDocument.body.setAttribute("class","mobile"),this.ReminderAnimateHelper.showAnimate()},methods:{initialize(){this.config=this.$element.getConfig(),this.intent={...this.$element.intent},this.isMobileView=this.$element.isMobileView,this.animate=this.$element.animate,this.showcase=this.$element.showcase,this.show=this.$element.show||!1},updateVisibility(){this.visible?this.setVisibleIframe():this.setInvisibleIframe()},update(){this.show=this.$element.show},openWidget(){this.$root.$emit(n.N_.OPEN_WIDGET,{widgetKey:this.$element.widgetKey,intent:this.$element.intent,fundraiser:this.$element.intent.fundraisingPage?this.$element.intent.fundraisingPage.key:null,member:this.$element.intent.fundraisingPage&&this.$element.intent.fundraisingPage.customerKey?this.$element.intent.fundraisingPage.customerKey:null})},changeHeightWidth(e){let{height:t,width:i}=e;this.height=t,this.width=i,this.setSizesIframe(),this.sizeResolved||(this.sizeResolved=!0,this.sizeCalcResolver())},setSizesIframe(){this.$iframe.resize({height:this.height,width:this.isMobileView?"100%":this.width})},setVisibleIframe(){this.$iframe.showDocument();let e="translateX(0)";if(this.isMobileView){e="translateY(0)";const t="translateY(calc((env(safe-area-inset-bottom, 0)) * -1))";"CSS"in window&&CSS.supports(`(transform: ${t}) or (-webkit-transform: ${t})`)&&(e=t)}this.$iframe.setStyles([["opacity",1],["-webkit-transform",e],["transform",e]])},setInvisibleIframe(){const e=this.isMobileView?"translateY(100%)":"translateX(100%)";this.$iframe.setStyles([["opacity",0],["-webkit-transform",e],["transform",e]])},close(){this.$root.$emit(n.N_.CLOSE),this.$root.$emit(n.N_.USER_CLOSE)}}};var u=i(51900);const d=(0,u.Z)(h,a,[],!1,null,null,null).exports,c={inject:["$element"],computed:{currentReminder:()=>d},methods:{initialize(){this.$refs.reminder.initialize()},update(){this.$refs.reminder.update()}}},m=(0,u.Z)(c,o,[],!1,null,null,null).exports;class p extends((0,r.a)(m,{initViewportTracker:!0})){constructor(e){super(e),this.params=e,this.intent=null,this.show=!1}render(){return super.render({styles:this.getInitialStyles()}),this.showcase||(this.assertVueAppInitialized(this.vueApp),this.vueApp.on(n.N_.CLOSE,(()=>{this.hide(),this.reminderApi.clearCheckoutIntent()})),this.vueApp.on(n.N_.OPEN_WIDGET,(()=>{this.show&&this.trackElementClose()}))),this}showWith(e){var t;this.intent=e,this.widgetKey=this.showcase?"":(null===(t=e.campaign)||void 0===t?void 0:t.id)||"",this.show=!0,this.assertVueAppInitialized(this.vueApp),this.viewportTracker&&(this.viewportTracker.widgetKey=this.widgetKey,this.viewportTracker.checkVisibilityWithInterval()),this.vueApp.initialize()}hide(){this.show=!1,this.viewportTracker&&(this.viewportTracker.visible=!1),this.assertVueAppInitialized(this.vueApp),this.vueApp.update()}showAmount(){var e;return(null===(e=this.intent)||void 0===e?void 0:e.flowType)!==s.C.STOCK}get reminderApi(){return this.getApi(5)}getInitialStyles(){const e=this.isMobileView?"translateY(100%)":"translateX(100%)",t=[["opacity",0],["-webkit-transform",e],["transform",e],["display","block"],["bottom",0],["right",0],["position","fixed"],["z-index",2147483644],["top","auto"],["left","auto"],["margin","0"],["padding","0"]];return this.showcase?(t.push(["position","static"]),t):(t.push(["-webkit-transition","-webkit-transform 0.5s ease-in-out 0.05s, opacity 0.5s ease-in-out 0.05s"],["transition","transform 0.5s ease-in-out 0.05s, opacity 0.5s ease-in-out 0.05s"]),t)}}},10271:(e,t,i)=>{"use strict";i.d(t,{r:()=>a});var s=i(21272),r=i.n(s);const n=[/FBAV|FBAN|FBSV|FBID|FBBV\/([0-9.]+)/,/Instagram\s([0-9.]+)/,/Snapchat\/([0-9.]+)/,/MicroMessenger\/([0-9.]+)/,/Twitter for iPhone[/]?([\d.]+)?/,/TikTok[/ ](\d+\.(?:[.\d]+))?/,/bytedance/i,/musical_ly/i];function o(e){return n.some((t=>t.exec(e)))}function a(e){const t=new(r())(e),i=t.getOS(),s=t.getBrowser(),n=t.getDevice();return{os:i.name||"Other",browser:{name:s.name||"Other",version:s.version},isIOS:"iOS"===i.name,isAndroid:"Android"===i.name,isInAppBrowser:o(e),isMobileOrTablet:(a=n.type,!!a&&["mobile","tablet"].some((e=>e===a)))};var a}}}]);